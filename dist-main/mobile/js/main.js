/*!
 * jQuery JavaScript Library v1.7.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Mar 21 12:46:34 2012 -0700
 */

/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */

/*
* jQuery Mobile Framework Git Build: SHA1: b49cc06499abf8f987cf90f35349cfac0918c939 <> Date: Tue Oct 2 11:22:34 2012 -0700
* http://jquerymobile.com
*
* Copyright 2012 jQuery Foundation and other contributors
* Released under the MIT license.
* http://jquery.org/license
*
*/

/*!
 * jQuery UI Widget v1.9.0-beta.1
 *
 * Copyright 2012, https://github.com/jquery/jquery-ui/blob/1.9.0-beta.1/AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */

// Copyright (c) 2010 "Cowboy" Ben Alman,

// Dual licensed under the MIT and GPL licenses.

// http://benalman.com/about/license/

/*!
 * Lo-Dash v0.4.2 <http://lodash.com>
 * Copyright 2012 John-David Dalton <http://allyoucanleet.com/>
 * Based on Underscore.js 1.3.3, copyright 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
 * <http://documentcloud.github.com/underscore>
 * Available under MIT license <http://lodash.com/license>
 */

//     (c) 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.

//     Backbone may be freely distributed under the MIT license.

/**
 * @license RequireJS text 2.0.3 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

// (c) 2012 Bart Wood

// Copyright (c) 2011-2012 Thomas Pedersen

// Documentation and full license available at:

(function(e,t){function u(e){var t=o[e]={},n,r;e=e.split(/\s+/);for(n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t}function c(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(l,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:s.isNumeric(r)?+r:f.test(r)?s.parseJSON(r):r}catch(o){}s.data(e,n,r)}else r=t}return r}function h(e){for(var t in e){if(t==="data"&&s.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function p(e,t,n){var r=t+"defer",i=t+"queue",o=t+"mark",u=s._data(e,r);u&&(n==="queue"||!s._data(e,i))&&(n==="mark"||!s._data(e,o))&&setTimeout(function(){!s._data(e,i)&&!s._data(e,o)&&(s.removeData(e,r,!0),u.fire())},0)}function H(){return!1}function B(){return!0}function W(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function X(e,t,n){t=t||0;if(s.isFunction(t))return s.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return s.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=s.grep(e,function(e){return e.nodeType===1});if(q.test(t))return s.filter(t,r,!n);t=s.filter(t,r)}return s.grep(e,function(e,r){return s.inArray(e,t)>=0===n})}function V(e){var t=$.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function at(e,t){return s.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ft(e,t){if(t.nodeType!==1||!s.hasData(e))return;var n,r,i,o=s._data(e),u=s._data(t,o),a=o.events;if(a){delete u.handle,u.events={};for(n in a)for(r=0,i=a[n].length;r<i;r++)s.event.add(t,n,a[n][r])}u.data&&(u.data=s.extend({},u.data))}function lt(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?t.outerHTML=e.outerHTML:n!=="input"||e.type!=="checkbox"&&e.type!=="radio"?n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(s.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached")}function ct(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function ht(e){if(e.type==="checkbox"||e.type==="radio")e.defaultChecked=e.checked}function pt(e){var t=(e.nodeName||"").toLowerCase();t==="input"?ht(e):t!=="script"&&typeof e.getElementsByTagName!="undefined"&&s.grep(e.getElementsByTagName("input"),ht)}function dt(e){var t=n.createElement("div");return ut.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function kt(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=t==="width"?1:0,o=4;if(r>0){if(n!=="border")for(;i<o;i+=2)n||(r-=parseFloat(s.css(e,"padding"+xt[i]))||0),n==="margin"?r+=parseFloat(s.css(e,n+xt[i]))||0:r-=parseFloat(s.css(e,"border"+xt[i]+"Width"))||0;return r+"px"}r=Tt(e,t);if(r<0||r==null)r=e.style[t];if(bt.test(r))return r;r=parseFloat(r)||0;if(n)for(;i<o;i+=2)r+=parseFloat(s.css(e,"padding"+xt[i]))||0,n!=="padding"&&(r+=parseFloat(s.css(e,"border"+xt[i]+"Width"))||0),n==="margin"&&(r+=parseFloat(s.css(e,n+xt[i]))||0);return r+"px"}function Qt(e){return function(t,n){typeof t!="string"&&(n=t,t="*");if(s.isFunction(n)){var r=t.toLowerCase().split(qt),i=0,o=r.length,u,a,f;for(;i<o;i++)u=r[i],f=/^\+/.test(u),f&&(u=u.substr(1)||"*"),a=e[u]=e[u]||[],a[f?"unshift":"push"](n)}}}function Gt(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u=e[s],a=0,f=u?u.length:0,l=e===Wt,c;for(;a<f&&(l||!c);a++)c=u[a](n,r,i),typeof c=="string"&&(!l||o[c]?c=t:(n.dataTypes.unshift(c),c=Gt(e,n,r,i,c,o)));return(l||!c)&&!o["*"]&&(c=Gt(e,n,r,i,"*",o)),c}function Yt(e,n){var r,i,o=s.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);i&&s.extend(!0,e,i)}function Zt(e,t,n,r){if(s.isArray(t))s.each(t,function(t,i){n||At.test(e)?r(e,i):Zt(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&s.type(t)==="object")for(var i in t)Zt(e+"["+i+"]",t[i],n,r);else r(e,t)}function en(e,n,r){var i=e.contents,s=e.dataTypes,o=e.responseFields,u,a,f,l;for(a in o)a in r&&(n[o[a]]=r[a]);while(s[0]==="*")s.shift(),u===t&&(u=e.mimeType||n.getResponseHeader("content-type"));if(u)for(a in i)if(i[a]&&i[a].test(u)){s.unshift(a);break}if(s[0]in r)f=s[0];else{for(a in r){if(!s[0]||e.converters[a+" "+s[0]]){f=a;break}l||(l=a)}f=f||l}if(f)return f!==s[0]&&s.unshift(f),r[f]}function tn(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var r=e.dataTypes,i={},o,u,a=r.length,f,l=r[0],c,h,p,d,v;for(o=1;o<a;o++){if(o===1)for(u in e.converters)typeof u=="string"&&(i[u.toLowerCase()]=e.converters[u]);c=l,l=r[o];if(l==="*")l=c;else if(c!=="*"&&c!==l){h=c+" "+l,p=i[h]||i["* "+l];if(!p){v=t;for(d in i){f=d.split(" ");if(f[0]===c||f[0]==="*"){v=i[f[1]+" "+l];if(v){d=i[d],d===!0?p=v:v===!0&&(p=d);break}}}}!p&&!v&&s.error("No conversion from "+h.replace(" "," to ")),p!==!0&&(n=p?p(n):v(d(n)))}}return n}function an(){try{return new e.XMLHttpRequest}catch(t){}}function fn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function yn(){return setTimeout(bn,0),gn=s.now()}function bn(){gn=t}function wn(e,t){var n={};return s.each(mn.concat.apply([],mn.slice(0,t)),function(){n[this]=e}),n}function En(e){if(!ln[e]){var t=n.body,r=s("<"+e+">").appendTo(t),i=r.css("display");r.remove();if(i==="none"||i===""){cn||(cn=n.createElement("iframe"),cn.frameBorder=cn.width=cn.height=0),t.appendChild(cn);if(!hn||!cn.createElement)hn=(cn.contentWindow||cn.contentDocument).document,hn.write((s.support.boxModel?"<!doctype html>":"")+"<html><body>"),hn.close();r=hn.createElement(e),hn.body.appendChild(r),i=s.css(r,"display"),t.removeChild(cn)}ln[e]=i}return ln[e]}function Nn(e){return s.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n=e.document,r=e.navigator,i=e.location,s=function(){function H(){if(i.isReady)return;try{n.documentElement.doScroll("left")}catch(e){setTimeout(H,1);return}i.ready()}var i=function(e,t){return new i.fn.init(e,t,u)},s=e.jQuery,o=e.$,u,a=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,f=/\S/,l=/^\s+/,c=/\s+$/,h=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,p=/^[\],:{}\s]*$/,d=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,m=/(?:^|:|,)(?:\s*\[)+/g,g=/(webkit)[ \/]([\w.]+)/,y=/(opera)(?:.*version)?[ \/]([\w.]+)/,b=/(msie) ([\w.]+)/,w=/(mozilla)(?:.*? rv:([\w.]+))?/,E=/-([a-z]|[0-9])/ig,S=/^-ms-/,x=function(e,t){return(t+"").toUpperCase()},T=r.userAgent,N,C,k,L=Object.prototype.toString,A=Object.prototype.hasOwnProperty,O=Array.prototype.push,M=Array.prototype.slice,_=String.prototype.trim,D=Array.prototype.indexOf,P={};return i.fn=i.prototype={constructor:i,init:function(e,r,s){var o,u,f,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(e==="body"&&!r&&n.body)return this.context=n,this[0]=n.body,this.selector=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?o=[null,e,null]:o=a.exec(e);if(o&&(o[1]||!r)){if(o[1])return r=r instanceof i?r[0]:r,l=r?r.ownerDocument||r:n,f=h.exec(e),f?i.isPlainObject(r)?(e=[n.createElement(f[1])],i.fn.attr.call(e,r,!0)):e=[l.createElement(f[1])]:(f=i.buildFragment([o[1]],[l]),e=(f.cacheable?i.clone(f.fragment):f.fragment).childNodes),i.merge(this,e);u=n.getElementById(o[2]);if(u&&u.parentNode){if(u.id!==o[2])return s.find(e);this.length=1,this[0]=u}return this.context=n,this.selector=e,this}return!r||r.jquery?(r||s).find(e):this.constructor(r).find(e)}return i.isFunction(e)?s.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),i.makeArray(e,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return M.call(this,0)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=this.constructor();return i.isArray(e)?O.apply(r,e):i.merge(r,e),r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return i.each(this,e,t)},ready:function(e){return i.bindReady(),C.add(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(M.apply(this,arguments),"slice",M.call(arguments).join(","))},map:function(e){return this.pushStack(i.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:O,sort:[].sort,splice:[].splice},i.fn.init.prototype=i.fn,i.extend=i.fn.extend=function(){var e,n,r,s,o,u,a=arguments[0]||{},f=1,l=arguments.length,c=!1;typeof a=="boolean"&&(c=a,a=arguments[1]||{},f=2),typeof a!="object"&&!i.isFunction(a)&&(a={}),l===f&&(a=this,--f);for(;f<l;f++)if((e=arguments[f])!=null)for(n in e){r=a[n],s=e[n];if(a===s)continue;c&&s&&(i.isPlainObject(s)||(o=i.isArray(s)))?(o?(o=!1,u=r&&i.isArray(r)?r:[]):u=r&&i.isPlainObject(r)?r:{},a[n]=i.extend(c,u,s)):s!==t&&(a[n]=s)}return a},i.extend({noConflict:function(t){return e.$===i&&(e.$=o),t&&e.jQuery===i&&(e.jQuery=s),i},isReady:!1,readyWait:1,holdReady:function(e){e?i.readyWait++:i.ready(!0)},ready:function(e){if(e===!0&&!--i.readyWait||e!==!0&&!i.isReady){if(!n.body)return setTimeout(i.ready,1);i.isReady=!0;if(e!==!0&&--i.readyWait>0)return;C.fireWith(n,[i]),i.fn.trigger&&i(n).trigger("ready").off("ready")}},bindReady:function(){if(C)return;C=i.Callbacks("once memory");if(n.readyState==="complete")return setTimeout(i.ready,1);if(n.addEventListener)n.addEventListener("DOMContentLoaded",k,!1),e.addEventListener("load",i.ready,!1);else if(n.attachEvent){n.attachEvent("onreadystatechange",k),e.attachEvent("onload",i.ready);var t=!1;try{t=e.frameElement==null}catch(r){}n.documentElement.doScroll&&t&&H()}},isFunction:function(e){return i.type(e)==="function"},isArray:Array.isArray||function(e){return i.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):P[L.call(e)]||"object"},isPlainObject:function(e){if(!e||i.type(e)!=="object"||e.nodeType||i.isWindow(e))return!1;try{if(e.constructor&&!A.call(e,"constructor")&&!A.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||A.call(e,r)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){if(typeof t!="string"||!t)return null;t=i.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(p.test(t.replace(d,"@").replace(v,"]").replace(m,"")))return(new Function("return "+t))();i.error("Invalid JSON: "+t)},parseXML:function(n){if(typeof n!="string"||!n)return null;var r,s;try{e.DOMParser?(s=new DOMParser,r=s.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&i.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&f.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(S,"ms-").replace(E,x)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,r){var s,o=0,u=e.length,a=u===t||i.isFunction(e);if(r){if(a){for(s in e)if(n.apply(e[s],r)===!1)break}else for(;o<u;)if(n.apply(e[o++],r)===!1)break}else if(a){for(s in e)if(n.call(e[s],s,e[s])===!1)break}else for(;o<u;)if(n.call(e[o],o,e[o++])===!1)break;return e},trim:_?function(e){return e==null?"":_.call(e)}:function(e){return e==null?"":e.toString().replace(l,"").replace(c,"")},makeArray:function(e,t){var n=t||[];if(e!=null){var r=i.type(e);e.length==null||r==="string"||r==="function"||r==="regexp"||i.isWindow(e)?O.call(n,e):i.merge(n,e)}return n},inArray:function(e,t,n){var r;if(t){if(D)return D.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=e.length,i=0;if(typeof n.length=="number")for(var s=n.length;i<s;i++)e[r++]=n[i];else while(n[i]!==t)e[r++]=n[i++];return e.length=r,e},grep:function(e,t,n){var r=[],i;n=!!n;for(var s=0,o=e.length;s<o;s++)i=!!t(e[s],s),n!==i&&r.push(e[s]);return r},map:function(e,n,r){var s,o,u=[],a=0,f=e.length,l=e instanceof i||f!==t&&typeof f=="number"&&(f>0&&e[0]&&e[f-1]||f===0||i.isArray(e));if(l)for(;a<f;a++)s=n(e[a],a,r),s!=null&&(u[u.length]=s);else for(o in e)s=n(e[o],o,r),s!=null&&(u[u.length]=s);return u.concat.apply([],u)},guid:1,proxy:function(e,n){if(typeof n=="string"){var r=e[n];n=e,e=r}if(!i.isFunction(e))return t;var s=M.call(arguments,2),o=function(){return e.apply(n,s.concat(M.call(arguments)))};return o.guid=e.guid=e.guid||o.guid||i.guid++,o},access:function(e,n,r,s,o,u,a){var f,l=r==null,c=0,h=e.length;if(r&&typeof r=="object"){for(c in r)i.access(e,n,c,r[c],1,u,s);o=1}else if(s!==t){f=a===t&&i.isFunction(s),l&&(f?(f=n,n=function(e,t,n){return f.call(i(e),n)}):(n.call(e,s),n=null));if(n)for(;c<h;c++)n(e[c],r,f?s.call(e[c],c,n(e[c],r)):s,a);o=1}return o?e:l?n.call(e):h?n(e[0],r):u},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=g.exec(e)||y.exec(e)||b.exec(e)||e.indexOf("compatible")<0&&w.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}i.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,s){return s&&s instanceof i&&!(s instanceof e)&&(s=e(s)),i.fn.init.call(this,r,s,t)},e.fn.init.prototype=e.fn;var t=e(n);return e},browser:{}}),i.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){P["[object "+t+"]"]=t.toLowerCase()}),N=i.uaMatch(T),N.browser&&(i.browser[N.browser]=!0,i.browser.version=N.version),i.browser.webkit&&(i.browser.safari=!0),f.test("Â ")&&(l=/^[\s\xA0]+/,c=/[\s\xA0]+$/),u=i(n),n.addEventListener?k=function(){n.removeEventListener("DOMContentLoaded",k,!1),i.ready()}:n.attachEvent&&(k=function(){n.readyState==="complete"&&(n.detachEvent("onreadystatechange",k),i.ready())}),i}(),o={};s.Callbacks=function(e){e=e?o[e]||u(e):{};var n=[],r=[],i,a,f,l,c,h,p=function(t){var r,i,o,u,a;for(r=0,i=t.length;r<i;r++)o=t[r],u=s.type(o),u==="array"?p(o):u==="function"&&(!e.unique||!v.has(o))&&n.push(o)},d=function(t,s){s=s||[],i=!e.memory||[t,s],a=!0,f=!0,h=l||0,l=0,c=n.length;for(;n&&h<c;h++)if(n[h].apply(t,s)===!1&&e.stopOnFalse){i=!0;break}f=!1,n&&(e.once?i===!0?v.disable():n=[]:r&&r.length&&(i=r.shift(),v.fireWith(i[0],i[1])))},v={add:function(){if(n){var e=n.length;p(arguments),f?c=n.length:i&&i!==!0&&(l=e,d(i[0],i[1]))}return this},remove:function(){if(n){var t=arguments,r=0,i=t.length;for(;r<i;r++)for(var s=0;s<n.length;s++)if(t[r]===n[s]){f&&s<=c&&(c--,s<=h&&h--),n.splice(s--,1);if(e.unique)break}}return this},has:function(e){if(n){var t=0,r=n.length;for(;t<r;t++)if(e===n[t])return!0}return!1},empty:function(){return n=[],this},disable:function(){return n=r=i=t,this},disabled:function(){return!n},lock:function(){return r=t,(!i||i===!0)&&v.disable(),this},locked:function(){return!r},fireWith:function(t,n){return r&&(f?e.once||r.push([t,n]):(!e.once||!i)&&d(t,n)),this},fire:function(){return v.fireWith(this,arguments),this},fired:function(){return!!a}};return v};var a=[].slice;s.extend({Deferred:function(e){var t=s.Callbacks("once memory"),n=s.Callbacks("once memory"),r=s.Callbacks("memory"),i="pending",o={resolve:t,reject:n,notify:r},u={done:t.add,fail:n.add,progress:r.add,state:function(){return i},isResolved:t.fired,isRejected:n.fired,then:function(e,t,n){return a.done(e).fail(t).progress(n),this},always:function(){return a.done.apply(a,arguments).fail.apply(a,arguments),this},pipe:function(e,t,n){return s.Deferred(function(r){s.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n=t[0],i=t[1],o;s.isFunction(n)?a[e](function(){o=n.apply(this,arguments),o&&s.isFunction(o.promise)?o.promise().then(r.resolve,r.reject,r.notify):r[i+"With"](this===a?r:this,[o])}):a[e](r[i])})}).promise()},promise:function(e){if(e==null)e=u;else for(var t in u)e[t]=u[t];return e}},a=u.promise({}),f;for(f in o)a[f]=o[f].fire,a[f+"With"]=o[f].fireWith;return a.done(function(){i="resolved"},n.disable,r.lock).fail(function(){i="rejected"},t.disable,r.lock),e&&e.call(a,a),a},when:function(e){function c(e){return function(n){t[e]=arguments.length>1?a.call(arguments,0):n,--o||f.resolveWith(f,t)}}function h(e){return function(t){i[e]=arguments.length>1?a.call(arguments,0):t,f.notifyWith(l,i)}}var t=a.call(arguments,0),n=0,r=t.length,i=new Array(r),o=r,u=r,f=r<=1&&e&&s.isFunction(e.promise)?e:s.Deferred(),l=f.promise();if(r>1){for(;n<r;n++)t[n]&&t[n].promise&&s.isFunction(t[n].promise)?t[n].promise().then(c(n),f.reject,h(n)):--o;o||f.resolveWith(f,t)}else f!==e&&f.resolveWith(f,r?[e]:[]);return l}}),s.support=function(){var t,r,i,o,u,a,f,l,c,h,p,d,v=n.createElement("div"),m=n.documentElement;v.setAttribute("className","t"),v.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",r=v.getElementsByTagName("*"),i=v.getElementsByTagName("a")[0];if(!r||!r.length||!i)return{};o=n.createElement("select"),u=o.appendChild(n.createElement("option")),a=v.getElementsByTagName("input")[0],t={leadingWhitespace:v.firstChild.nodeType===3,tbody:!v.getElementsByTagName("tbody").length,htmlSerialize:!!v.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:i.getAttribute("href")==="/a",opacity:/^0.55/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:a.value==="on",optSelected:u.selected,getSetAttribute:v.className!=="t",enctype:!!n.createElement("form").enctype,html5Clone:n.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},s.boxModel=t.boxModel=n.compatMode==="CSS1Compat",a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!u.disabled;try{delete v.test}catch(g){t.deleteExpando=!1}!v.addEventListener&&v.attachEvent&&v.fireEvent&&(v.attachEvent("onclick",function(){t.noCloneEvent=!1}),v.cloneNode(!0).fireEvent("onclick")),a=n.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue=a.value==="t",a.setAttribute("checked","checked"),a.setAttribute("name","t"),v.appendChild(a),f=n.createDocumentFragment(),f.appendChild(v.lastChild),t.checkClone=f.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,f.removeChild(a),f.appendChild(v);if(v.attachEvent)for(p in{submit:1,change:1,focusin:1})h="on"+p,d=h in v,d||(v.setAttribute(h,"return;"),d=typeof v[h]=="function"),t[p+"Bubbles"]=d;return f.removeChild(v),f=o=u=v=a=null,s(function(){var r,i,o,u,a,f,c,h,p,m,g,y,b,w=n.getElementsByTagName("body")[0];if(!w)return;h=1,b="padding:0;margin:0;border:",g="position:absolute;top:0;left:0;width:1px;height:1px;",y=b+"0;visibility:hidden;",p="style='"+g+b+"5px solid #000;",m="<div "+p+"display:block;'><div style='"+b+"0;display:block;overflow:hidden;'></div></div>"+"<table "+p+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",r=n.createElement("div"),r.style.cssText=y+"width:0;height:0;position:static;top:0;margin-top:"+h+"px",w.insertBefore(r,w.firstChild),v=n.createElement("div"),r.appendChild(v),v.innerHTML="<table><tr><td style='"+b+"0;display:none'></td><td>t</td></tr></table>",l=v.getElementsByTagName("td"),d=l[0].offsetHeight===0,l[0].style.display="",l[1].style.display="none",t.reliableHiddenOffsets=d&&l[0].offsetHeight===0,e.getComputedStyle&&(v.innerHTML="",c=n.createElement("div"),c.style.width="0",c.style.marginRight="0",v.style.width="2px",v.appendChild(c),t.reliableMarginRight=(parseInt((e.getComputedStyle(c,null)||{marginRight:0}).marginRight,10)||0)===0),typeof v.style.zoom!="undefined"&&(v.innerHTML="",v.style.width=v.style.padding="1px",v.style.border=0,v.style.overflow="hidden",v.style.display="inline",v.style.zoom=1,t.inlineBlockNeedsLayout=v.offsetWidth===3,v.style.display="block",v.style.overflow="visible",v.innerHTML="<div style='width:5px;'></div>",t.shrinkWrapBlocks=v.offsetWidth!==3),v.style.cssText=g+y,v.innerHTML=m,i=v.firstChild,o=i.firstChild,a=i.nextSibling.firstChild.firstChild,f={doesNotAddBorder:o.offsetTop!==5,doesAddBorderForTableAndCells:a.offsetTop===5},o.style.position="fixed",o.style.top="20px",f.fixedPosition=o.offsetTop===20||o.offsetTop===15,o.style.position=o.style.top="",i.style.overflow="hidden",i.style.position="relative",f.subtractsBorderForOverflowNotVisible=o.offsetTop===-5,f.doesNotIncludeMarginInBodyOffset=w.offsetTop!==h,e.getComputedStyle&&(v.style.marginTop="1%",t.pixelMargin=(e.getComputedStyle(v,null)||{marginTop:0}).marginTop!=="1%"),typeof r.style.zoom!="undefined"&&(r.style.zoom=1),w.removeChild(r),c=v=r=null,s.extend(t,f)}),t}();var f=/^(?:\{.*\}|\[.*\])$/,l=/([A-Z])/g;s.extend({cache:{},uuid:0,expando:"jQuery"+(s.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?s.cache[e[s.expando]]:e[s.expando],!!e&&!h(e)},data:function(e,n,r,i){if(!s.acceptData(e))return;var o,u,a,f=s.expando,l=typeof n=="string",c=e.nodeType,h=c?s.cache:e,p=c?e[f]:e[f]&&f,d=n==="events";if((!p||!h[p]||!d&&!i&&!h[p].data)&&l&&r===t)return;p||(c?e[f]=p=++s.uuid:p=f),h[p]||(h[p]={},c||(h[p].toJSON=s.noop));if(typeof n=="object"||typeof n=="function")i?h[p]=s.extend(h[p],n):h[p].data=s.extend(h[p].data,n);return o=u=h[p],i||(u.data||(u.data={}),u=u.data),r!==t&&(u[s.camelCase(n)]=r),d&&!u[n]?o.events:(l?(a=u[n],a==null&&(a=u[s.camelCase(n)])):a=u,a)},removeData:function(e,t,n){if(!s.acceptData(e))return;var r,i,o,u=s.expando,a=e.nodeType,f=a?s.cache:e,l=a?e[u]:u;if(!f[l])return;if(t){r=n?f[l]:f[l].data;if(r){s.isArray(t)||(t in r?t=[t]:(t=s.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,o=t.length;i<o;i++)delete r[t[i]];if(!(n?h:s.isEmptyObject)(r))return}}if(!n){delete f[l].data;if(!h(f[l]))return}s.support.deleteExpando||!f.setInterval?delete f[l]:f[l]=null,a&&(s.support.deleteExpando?delete e[u]:e.removeAttribute?e.removeAttribute(u):e[u]=null)},_data:function(e,t,n){return s.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=s.noData[e.nodeName.toLowerCase()];if(t)return t!==!0&&e.getAttribute("classid")===t}return!0}}),s.fn.extend({data:function(e,n){var r,i,o,u,a,f=this[0],l=0,h=null;if(e===t){if(this.length){h=s.data(f);if(f.nodeType===1&&!s._data(f,"parsedAttrs")){o=f.attributes;for(a=o.length;l<a;l++)u=o[l].name,u.indexOf("data-")===0&&(u=s.camelCase(u.substring(5)),c(f,u,h[u]));s._data(f,"parsedAttrs",!0)}}return h}return typeof e=="object"?this.each(function(){s.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",s.access(this,function(n){if(n===t)return h=this.triggerHandler("getData"+i,[r[0]]),h===t&&f&&(h=s.data(f,e),h=c(f,e,h)),h===t&&r[1]?this.data(r[0]):h;r[1]=n,this.each(function(){var t=s(this);t.triggerHandler("setData"+i,r),s.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){s.removeData(this,e)})}}),s.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",s._data(e,t,(s._data(e,t)||0)+1))},_unmark:function(e,t,n){e!==!0&&(n=t,t=e,e=!1);if(t){n=n||"fx";var r=n+"mark",i=e?0:(s._data(t,r)||1)-1;i?s._data(t,r,i):(s.removeData(t,r,!0),p(t,n,"mark"))}},queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=s._data(e,t),n&&(!r||s.isArray(n)?r=s._data(e,t,s.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=s.queue(e,t),r=n.shift(),i={};r==="inprogress"&&(r=n.shift()),r&&(t==="fx"&&n.unshift("inprogress"),s._data(e,t+".run",i),r.call(e,function(){s.dequeue(e,t)},i)),n.length||(s.removeData(e,t+"queue "+t+".run",!0),p(e,t,"queue"))}}),s.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?s.queue(this[0],e):n===t?this:this.each(function(){var t=s.queue(this,e,n);e==="fx"&&t[0]!=="inprogress"&&s.dequeue(this,e)})},dequeue:function(e){return this.each(function(){s.dequeue(this,e)})},delay:function(e,t){return e=s.fx?s.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){function h(){--u||r.resolveWith(i,[i])}typeof e!="string"&&(n=e,e=t),e=e||"fx";var r=s.Deferred(),i=this,o=i.length,u=1,a=e+"defer",f=e+"queue",l=e+"mark",c;while(o--)if(c=s.data(i[o],a,t,!0)||(s.data(i[o],f,t,!0)||s.data(i[o],l,t,!0))&&s.data(i[o],a,s.Callbacks("once memory"),!0))u++,c.add(h);return h(),r.promise(n)}});var d=/[\n\t\r]/g,v=/\s+/,m=/\r/g,g=/^(?:button|input)$/i,y=/^(?:button|input|object|select|textarea)$/i,b=/^a(?:rea)?$/i,w=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,E=s.support.getSetAttribute,S,x,T;s.fn.extend({attr:function(e,t){return s.access(this,s.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){s.removeAttr(this,e)})},prop:function(e,t){return s.access(this,s.prop,e,t,arguments.length>1)},removeProp:function(e){return e=s.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,u,a;if(s.isFunction(e))return this.each(function(t){s(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(v);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{o=" "+i.className+" ";for(u=0,a=t.length;u<a;u++)~o.indexOf(" "+t[u]+" ")||(o+=t[u]+" ");i.className=s.trim(o)}}}return this},removeClass:function(e){var n,r,i,o,u,a,f;if(s.isFunction(e))return this.each(function(t){s(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(v);for(r=0,i=this.length;r<i;r++){o=this[r];if(o.nodeType===1&&o.className)if(e){u=(" "+o.className+" ").replace(d," ");for(a=0,f=n.length;a<f;a++)u=u.replace(" "+n[a]+" "," ");o.className=s.trim(u)}else o.className=""}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return s.isFunction(e)?this.each(function(n){s(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,o=0,u=s(this),a=t,f=e.split(v);while(i=f[o++])a=r?a:!u.hasClass(i),u[a?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&s._data(this,"__className__",this.className),this.className=this.className||e===!1?"":s._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(d," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,r,i,o=this[0];if(!arguments.length){if(o)return n=s.valHooks[o.type]||s.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,typeof r=="string"?r.replace(m,""):r==null?"":r);return}return i=s.isFunction(e),this.each(function(r){var o=s(this),u;if(this.nodeType!==1)return;i?u=e.call(this,r,o.val()):u=e,u==null?u="":typeof u=="number"?u+="":s.isArray(u)&&(u=s.map(u,function(e){return e==null?"":e+""})),n=s.valHooks[this.type]||s.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,u,"value")===t)this.value=u})}}),s.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,o=e.selectedIndex,u=[],a=e.options,f=e.type==="select-one";if(o<0)return null;n=f?o:0,r=f?o+1:a.length;for(;n<r;n++){i=a[n];if(i.selected&&(s.support.optDisabled?!i.disabled:i.getAttribute("disabled")===null)&&(!i.parentNode.disabled||!s.nodeName(i.parentNode,"optgroup"))){t=s(i).val();if(f)return t;u.push(t)}}return f&&!u.length&&a.length?s(a[o]).val():u},set:function(e,t){var n=s.makeArray(t);return s(e).find("option").each(function(){this.selected=s.inArray(s(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,n,r,i){var o,u,a,f=e.nodeType;if(!e||f===3||f===8||f===2)return;if(i&&n in s.attrFn)return s(e)[n](r);if(typeof e.getAttribute=="undefined")return s.prop(e,n,r);a=f!==1||!s.isXMLDoc(e),a&&(n=n.toLowerCase(),u=s.attrHooks[n]||(w.test(n)?x:S));if(r!==t){if(r===null){s.removeAttr(e,n);return}return u&&"set"in u&&a&&(o=u.set(e,r,n))!==t?o:(e.setAttribute(n,""+r),r)}return u&&"get"in u&&a&&(o=u.get(e,n))!==null?o:(o=e.getAttribute(n),o===null?t:o)},removeAttr:function(e,t){var n,r,i,o,u,a=0;if(t&&e.nodeType===1){r=t.toLowerCase().split(v),o=r.length;for(;a<o;a++)i=r[a],i&&(n=s.propFix[i]||i,u=w.test(i),u||s.attr(e,i,""),e.removeAttribute(E?i:n),u&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(g.test(e.nodeName)&&e.parentNode)s.error("type property can't be changed");else if(!s.support.radioValue&&t==="radio"&&s.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return S&&s.nodeName(e,"button")?S.get(e,t):t in e?e.value:null},set:function(e,t,n){if(S&&s.nodeName(e,"button"))return S.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;return u=a!==1||!s.isXMLDoc(e),u&&(n=s.propFix[n]||n,o=s.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&(i=o.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):y.test(e.nodeName)||b.test(e.nodeName)&&e.href?0:t}}}}),s.attrHooks.tabindex=s.propHooks.tabIndex,x={get:function(e,n){var r,i=s.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?s.removeAttr(e,n):(r=s.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},E||(T={name:!0,id:!0,coords:!0},S=s.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(T[n]?r.nodeValue!=="":r.specified)?r.nodeValue:t},set:function(e,t,r){var i=e.getAttributeNode(r);return i||(i=n.createAttribute(r),e.setAttributeNode(i)),i.nodeValue=t+""}},s.attrHooks.tabindex.set=S.set,s.each(["width","height"],function(e,t){s.attrHooks[t]=s.extend(s.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),s.attrHooks.contenteditable={get:S.get,set:function(e,t,n){t===""&&(t="false"),S.set(e,t,n)}}),s.support.hrefNormalized||s.each(["href","src","width","height"],function(e,n){s.attrHooks[n]=s.extend(s.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),s.support.style||(s.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),s.support.optSelected||(s.propHooks.selected=s.extend(s.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),s.support.enctype||(s.propFix.enctype="encoding"),s.support.checkOn||s.each(["radio","checkbox"],function(){s.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),s.each(["radio","checkbox"],function(){s.valHooks[this]=s.extend(s.valHooks[this],{set:function(e,t){if(s.isArray(t))return e.checked=s.inArray(s(e).val(),t)>=0}})});var N=/^(?:textarea|input|select)$/i,C=/^([^\.]*)?(?:\.(.+))?$/,k=/(?:^|\s)hover(\.\S+)?\b/,L=/^key/,A=/^(?:mouse|contextmenu)|click/,O=/^(?:focusinfocus|focusoutblur)$/,M=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,_=function(e){var t=M.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},D=function(e,t){var n=e.attributes||{};return(!t[1]||e.nodeName.toLowerCase()===t[1])&&(!t[2]||(n.id||{}).value===t[2])&&(!t[3]||t[3].test((n["class"]||{}).value))},P=function(e){return s.event.special.hover?e:e.replace(k,"mouseenter$1 mouseleave$1")};s.event={add:function(e,n,r,i,o){var u,a,f,l,c,h,p,d,v,m,g,y;if(e.nodeType===3||e.nodeType===8||!n||!r||!(u=s._data(e)))return;r.handler&&(v=r,r=v.handler,o=v.selector),r.guid||(r.guid=s.guid++),f=u.events,f||(u.events=f={}),a=u.handle,a||(u.handle=a=function(e){return typeof s=="undefined"||!!e&&s.event.triggered===e.type?t:s.event.dispatch.apply(a.elem,arguments)},a.elem=e),n=s.trim(P(n)).split(" ");for(l=0;l<n.length;l++){c=C.exec(n[l])||[],h=c[1],p=(c[2]||"").split(".").sort(),y=s.event.special[h]||{},h=(o?y.delegateType:y.bindType)||h,y=s.event.special[h]||{},d=s.extend({type:h,origType:c[1],data:i,handler:r,guid:r.guid,selector:o,quick:o&&_(o),namespace:p.join(".")},v),g=f[h];if(!g){g=f[h]=[],g.delegateCount=0;if(!y.setup||y.setup.call(e,i,p,a)===!1)e.addEventListener?e.addEventListener(h,a,!1):e.attachEvent&&e.attachEvent("on"+h,a)}y.add&&(y.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),o?g.splice(g.delegateCount++,0,d):g.push(d),s.event.global[h]=!0}e=null},global:{},remove:function(e,t,n,r,i){var o=s.hasData(e)&&s._data(e),u,a,f,l,c,h,p,d,v,m,g,y;if(!o||!(d=o.events))return;t=s.trim(P(t||"")).split(" ");for(u=0;u<t.length;u++){a=C.exec(t[u])||[],f=l=a[1],c=a[2];if(!f){for(f in d)s.event.remove(e,f+t[u],n,r,!0);continue}v=s.event.special[f]||{},f=(r?v.delegateType:v.bindType)||f,g=d[f]||[],h=g.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(p=0;p<g.length;p++)y=g[p],(i||l===y.origType)&&(!n||n.guid===y.guid)&&(!c||c.test(y.namespace))&&(!r||r===y.selector||r==="**"&&y.selector)&&(g.splice(p--,1),y.selector&&g.delegateCount--,v.remove&&v.remove.call(e,y));g.length===0&&h!==g.length&&((!v.teardown||v.teardown.call(e,c)===!1)&&s.removeEvent(e,f,o.handle),delete d[f])}s.isEmptyObject(d)&&(m=o.handle,m&&(m.elem=null),s.removeData(e,["events","handle"],!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,o){if(!i||i.nodeType!==3&&i.nodeType!==8){var u=n.type||n,a=[],f,l,c,h,p,d,v,m,g,y;if(O.test(u+s.event.triggered))return;u.indexOf("!")>=0&&(u=u.slice(0,-1),l=!0),u.indexOf(".")>=0&&(a=u.split("."),u=a.shift(),a.sort());if((!i||s.event.customEvent[u])&&!s.event.global[u])return;n=typeof n=="object"?n[s.expando]?n:new s.Event(u,n):new s.Event(u),n.type=u,n.isTrigger=!0,n.exclusive=l,n.namespace=a.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+a.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=u.indexOf(":")<0?"on"+u:"";if(!i){f=s.cache;for(c in f)f[c].events&&f[c].events[u]&&s.event.trigger(n,r,f[c].handle.elem,!0);return}n.result=t,n.target||(n.target=i),r=r!=null?s.makeArray(r):[],r.unshift(n),v=s.event.special[u]||{};if(v.trigger&&v.trigger.apply(i,r)===!1)return;g=[[i,v.bindType||u]];if(!o&&!v.noBubble&&!s.isWindow(i)){y=v.delegateType||u,h=O.test(y+u)?i:i.parentNode,p=null;for(;h;h=h.parentNode)g.push([h,y]),p=h;p&&p===i.ownerDocument&&g.push([p.defaultView||p.parentWindow||e,y])}for(c=0;c<g.length&&!n.isPropagationStopped();c++)h=g[c][0],n.type=g[c][1],m=(s._data(h,"events")||{})[n.type]&&s._data(h,"handle"),m&&m.apply(h,r),m=d&&h[d],m&&s.acceptData(h)&&m.apply(h,r)===!1&&n.preventDefault();return n.type=u,!o&&!n.isDefaultPrevented()&&(!v._default||v._default.apply(i.ownerDocument,r)===!1)&&(u!=="click"||!s.nodeName(i,"a"))&&s.acceptData(i)&&d&&i[u]&&(u!=="focus"&&u!=="blur"||n.target.offsetWidth!==0)&&!s.isWindow(i)&&(p=i[d],p&&(i[d]=null),s.event.triggered=u,i[u](),s.event.triggered=t,p&&(i[d]=p)),n.result}return},dispatch:function(n){n=s.event.fix(n||e.event);var r=(s._data(this,"events")||{})[n.type]||[],i=r.delegateCount,o=[].slice.call(arguments,0),u=!n.exclusive&&!n.namespace,a=s.event.special[n.type]||{},f=[],l,c,h,p,d,v,m,g,y,b,w;o[0]=n,n.delegateTarget=this;if(a.preDispatch&&a.preDispatch.call(this,n)===!1)return;if(i&&(!n.button||n.type!=="click")){p=s(this),p.context=this.ownerDocument||this;for(h=n.target;h!=this;h=h.parentNode||this)if(h.disabled!==!0){v={},g=[],p[0]=h;for(l=0;l<i;l++)y=r[l],b=y.selector,v[b]===t&&(v[b]=y.quick?D(h,y.quick):p.is(b)),v[b]&&g.push(y);g.length&&f.push({elem:h,matches:g})}}r.length>i&&f.push({elem:this,matches:r.slice(i)});for(l=0;l<f.length&&!n.isPropagationStopped();l++){m=f[l],n.currentTarget=m.elem;for(c=0;c<m.matches.length&&!n.isImmediatePropagationStopped();c++){y=m.matches[c];if(u||!n.namespace&&!y.namespace||n.namespace_re&&n.namespace_re.test(y.namespace))n.data=y.data,n.handleObj=y,d=((s.event.special[y.origType]||{}).handle||y.handler).apply(m.elem,o),d!==t&&(n.result=d,d===!1&&(n.preventDefault(),n.stopPropagation()))}}return a.postDispatch&&a.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,r){var i,s,o,u=r.button,a=r.fromElement;return e.pageX==null&&r.clientX!=null&&(i=e.target.ownerDocument||n,s=i.documentElement,o=i.body,e.pageX=r.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=r.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?r.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},fix:function(e){if(e[s.expando])return e;var r,i,o=e,u=s.event.fixHooks[e.type]||{},a=u.props?this.props.concat(u.props):this.props;e=s.Event(o);for(r=a.length;r;)i=a[--r],e[i]=o[i];return e.target||(e.target=o.srcElement||n),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),u.filter?u.filter(e,o):e},special:{ready:{setup:s.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){s.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=s.extend(new s.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?s.event.trigger(i,null,t):s.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},s.event.handle=s.event.dispatch,s.removeEvent=n.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},s.Event=function(e,t){if(!(this instanceof s.Event))return new s.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?B:H):this.type=e,t&&s.extend(this,t),this.timeStamp=e&&e.timeStamp||s.now(),this[s.expando]=!0},s.Event.prototype={preventDefault:function(){this.isDefaultPrevented=B;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=B;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=B,this.stopPropagation()},isDefaultPrevented:H,isPropagationStopped:H,isImmediatePropagationStopped:H},s.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){s.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n=this,r=e.relatedTarget,i=e.handleObj,o=i.selector,u;if(!r||r!==n&&!s.contains(n,r))e.type=i.origType,u=i.handler.apply(this,arguments),e.type=t;return u}}}),s.support.submitBubbles||(s.event.special.submit={setup:function(){if(s.nodeName(this,"form"))return!1;s.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=s.nodeName(n,"input")||s.nodeName(n,"button")?n.form:t;r&&!r._submit_attached&&(s.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),r._submit_attached=!0)})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&s.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(s.nodeName(this,"form"))return!1;s.event.remove(this,"._submit")}}),s.support.changeBubbles||(s.event.special.change={setup:function(){if(N.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")s.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),s.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,s.event.simulate("change",this,e,!0))});return!1}s.event.add(this,"beforeactivate._change",function(e){var t=e.target;N.test(t.nodeName)&&!t._change_attached&&(s.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&s.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return s.event.remove(this,"._change"),N.test(this.nodeName)}}),s.support.focusinBubbles||s.each({focus:"focusin",blur:"focusout"},function(e,t){var r=0,i=function(e){s.event.simulate(t,e.target,s.event.fix(e),!0)};s.event.special[t]={setup:function(){r++===0&&n.addEventListener(e,i,!0)},teardown:function(){--r===0&&n.removeEventListener(e,i,!0)}}}),s.fn.extend({on:function(e,n,r,i,o){var u,a;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=H;else if(!i)return this;return o===1&&(u=i,i=function(e){return s().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=s.guid++)),this.each(function(){s.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){if(e&&e.preventDefault&&e.handleObj){var i=e.handleObj;return s(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this}if(typeof e=="object"){for(var o in e)this.off(o,n,e[o]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=H),this.each(function(){s.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return s(this.context).on(e,this.selector,t,n),this},die:function(e,t){return s(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length==1?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){s.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return s.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||s.guid++,r=0,i=function(n){var i=(s._data(this,"lastToggle"+e.guid)||0)%r;return s._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),s.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){s.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},s.attrFn&&(s.attrFn[t]=!0),L.test(t)&&(s.event.fixHooks[t]=s.event.keyHooks),A.test(t)&&(s.event.fixHooks[t]=s.event.mouseHooks)}),function(){function S(e,t,n,i,s,o){for(var u=0,a=i.length;u<a;u++){var f=i[u];if(f){var l=!1;f=f[e];while(f){if(f[r]===n){l=i[f.sizset];break}f.nodeType===1&&!o&&(f[r]=n,f.sizset=u);if(f.nodeName.toLowerCase()===t){l=f;break}f=f[e]}i[u]=l}}}function x(e,t,n,i,s,o){for(var u=0,a=i.length;u<a;u++){var f=i[u];if(f){var l=!1;f=f[e];while(f){if(f[r]===n){l=i[f.sizset];break}if(f.nodeType===1){o||(f[r]=n,f.sizset=u);if(typeof t!="string"){if(f===t){l=!0;break}}else if(h.filter(t,[f]).length>0){l=f;break}}f=f[e]}i[u]=l}}}var e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r="sizcache"+(Math.random()+"").replace(".",""),i=0,o=Object.prototype.toString,u=!1,a=!0,f=/\\/g,l=/\r\n/g,c=/\W/;[0,0].sort(function(){return a=!1,0});var h=function(t,r,i,s){i=i||[],r=r||n;var u=r;if(r.nodeType!==1&&r.nodeType!==9)return[];if(!t||typeof t!="string")return i;var a,f,l,c,p,m,g,b,w=!0,E=h.isXML(r),S=[],x=t;do{e.exec(""),a=e.exec(x);if(a){x=a[3],S.push(a[1]);if(a[2]){c=a[3];break}}}while(a);if(S.length>1&&v.exec(t))if(S.length===2&&d.relative[S[0]])f=T(S[0]+S[1],r,s);else{f=d.relative[S[0]]?[r]:h(S.shift(),r);while(S.length)t=S.shift(),d.relative[t]&&(t+=S.shift()),f=T(t,f,s)}else{!s&&S.length>1&&r.nodeType===9&&!E&&d.match.ID.test(S[0])&&!d.match.ID.test(S[S.length-1])&&(p=h.find(S.shift(),r,E),r=p.expr?h.filter(p.expr,p.set)[0]:p.set[0]);if(r){p=s?{expr:S.pop(),set:y(s)}:h.find(S.pop(),S.length!==1||S[0]!=="~"&&S[0]!=="+"||!r.parentNode?r:r.parentNode,E),f=p.expr?h.filter(p.expr,p.set):p.set,S.length>0?l=y(f):w=!1;while(S.length)m=S.pop(),g=m,d.relative[m]?g=S.pop():m="",g==null&&(g=r),d.relative[m](l,g,E)}else l=S=[]}l||(l=f),l||h.error(m||t);if(o.call(l)==="[object Array]")if(!w)i.push.apply(i,l);else if(r&&r.nodeType===1)for(b=0;l[b]!=null;b++)l[b]&&(l[b]===!0||l[b].nodeType===1&&h.contains(r,l[b]))&&i.push(f[b]);else for(b=0;l[b]!=null;b++)l[b]&&l[b].nodeType===1&&i.push(f[b]);else y(l,i);return c&&(h(c,u,i,s),h.uniqueSort(i)),i};h.uniqueSort=function(e){if(w){u=a,e.sort(w);if(u)for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1)}return e},h.matches=function(e,t){return h(e,null,null,t)},h.matchesSelector=function(e,t){return h(t,null,null,[e]).length>0},h.find=function(e,t,n){var r,i,s,o,u,a;if(!e)return[];for(i=0,s=d.order.length;i<s;i++){u=d.order[i];if(o=d.leftMatch[u].exec(e)){a=o[1],o.splice(1,1);if(a.substr(a.length-1)!=="\\"){o[1]=(o[1]||"").replace(f,""),r=d.find[u](o,t,n);if(r!=null){e=e.replace(d.match[u],"");break}}}}return r||(r=typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName("*"):[]),{set:r,expr:e}},h.filter=function(e,n,r,i){var s,o,u,a,f,l,c,p,v,m=e,g=[],y=n,b=n&&n[0]&&h.isXML(n[0]);while(e&&n.length){for(u in d.filter)if((s=d.leftMatch[u].exec(e))!=null&&s[2]){l=d.filter[u],c=s[1],o=!1,s.splice(1,1);if(c.substr(c.length-1)==="\\")continue;y===g&&(g=[]);if(d.preFilter[u]){s=d.preFilter[u](s,y,r,g,i,b);if(!s)o=a=!0;else if(s===!0)continue}if(s)for(p=0;(f=y[p])!=null;p++)f&&(a=l(f,s,p,y),v=i^a,r&&a!=null?v?o=!0:y[p]=!1:v&&(g.push(f),o=!0));if(a!==t){r||(y=g),e=e.replace(d.match[u],"");if(!o)return[];break}}if(e===m){if(o!=null)break;h.error(e)}m=e}return y},h.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var p=h.getText=function(e){var t,n,r=e.nodeType,i="";if(r){if(r===1||r===9||r===11){if(typeof e.textContent=="string")return e.textContent;if(typeof e.innerText=="string")return e.innerText.replace(l,"");for(e=e.firstChild;e;e=e.nextSibling)i+=p(e)}else if(r===3||r===4)return e.nodeValue}else for(t=0;n=e[t];t++)n.nodeType!==8&&(i+=p(n));return i},d=h.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n=typeof t=="string",r=n&&!c.test(t),i=n&&!r;r&&(t=t.toLowerCase());for(var s=0,o=e.length,u;s<o;s++)if(u=e[s]){while((u=u.previousSibling)&&u.nodeType!==1);e[s]=i||u&&u.nodeName.toLowerCase()===t?u||!1:u===t}i&&h.filter(t,e,!0)},">":function(e,t){var n,r=typeof t=="string",i=0,s=e.length;if(r&&!c.test(t)){t=t.toLowerCase();for(;i<s;i++){n=e[i];if(n){var o=n.parentNode;e[i]=o.nodeName.toLowerCase()===t?o:!1}}}else{for(;i<s;i++)n=e[i],n&&(e[i]=r?n.parentNode:n.parentNode===t);r&&h.filter(t,e,!0)}},"":function(e,t,n){var r,s=i++,o=x;typeof t=="string"&&!c.test(t)&&(t=t.toLowerCase(),r=t,o=S),o("parentNode",t,s,e,r,n)},"~":function(e,t,n){var r,s=i++,o=x;typeof t=="string"&&!c.test(t)&&(t=t.toLowerCase(),r=t,o=S),o("previousSibling",t,s,e,r,n)}},find:{ID:function(e,t,n){if(typeof t.getElementById!="undefined"&&!n){var r=t.getElementById(e[1]);return r&&r.parentNode?[r]:[]}},NAME:function(e,t){if(typeof t.getElementsByName!="undefined"){var n=[],r=t.getElementsByName(e[1]);for(var i=0,s=r.length;i<s;i++)r[i].getAttribute("name")===e[1]&&n.push(r[i]);return n.length===0?null:n}},TAG:function(e,t){if(typeof t.getElementsByTagName!="undefined")return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,r,i,s){e=" "+e[1].replace(f,"")+" ";if(s)return e;for(var o=0,u;(u=t[o])!=null;o++)u&&(i^(u.className&&(" "+u.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||r.push(u):n&&(t[o]=!1));return!1},ID:function(e){return e[1].replace(f,"")},TAG:function(e,t){return e[1].replace(f,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){e[2]||h.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&h.error(e[0]);return e[0]=i++,e},ATTR:function(e,t,n,r,i,s){var o=e[1]=e[1].replace(f,"");return!s&&d.attrMap[o]&&(e[1]=d.attrMap[o]),e[4]=(e[4]||e[5]||"").replace(f,""),e[2]==="~="&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(t,n,r,i,s){if(t[1]==="not"){if(!((e.exec(t[3])||"").length>1||/^\w/.test(t[3]))){var o=h.filter(t[3],n,r,!0^s);return r||i.push.apply(i,o),!1}t[3]=h(t[3],null,null,n)}else if(d.match.POS.test(t[0])||d.match.CHILD.test(t[0]))return!0;return t},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&e.type!=="hidden"},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!h(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return e.nodeName.toLowerCase()==="input"&&"text"===n&&(t===n||t===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return(t==="input"||t==="button")&&"submit"===e.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return(t==="input"||t==="button")&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&"button"===e.type||t==="button"},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return t===0},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,r){var i=t[1],s=d.filters[i];if(s)return s(e,n,t,r);if(i==="contains")return(e.textContent||e.innerText||p([e])||"").indexOf(t[3])>=0;if(i==="not"){var o=t[3];for(var u=0,a=o.length;u<a;u++)if(o[u]===e)return!1;return!0}h.error(i)},CHILD:function(e,t){var n,i,s,o,u,a,f,l=t[1],c=e;switch(l){case"only":case"first":while(c=c.previousSibling)if(c.nodeType===1)return!1;if(l==="first")return!0;c=e;case"last":while(c=c.nextSibling)if(c.nodeType===1)return!1;return!0;case"nth":n=t[2],i=t[3];if(n===1&&i===0)return!0;s=t[0],o=e.parentNode;if(o&&(o[r]!==s||!e.nodeIndex)){a=0;for(c=o.firstChild;c;c=c.nextSibling)c.nodeType===1&&(c.nodeIndex=++a);o[r]=s}return f=e.nodeIndex-i,n===0?f===0:f%n===0&&f/n>=0}},ID:function(e,t){return e.nodeType===1&&e.getAttribute("id")===t},TAG:function(e,t){return t==="*"&&e.nodeType===1||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],r=h.attr?h.attr(e,n):d.attrHandle[n]?d.attrHandle[n](e):e[n]!=null?e[n]:e.getAttribute(n),i=r+"",s=t[2],o=t[4];return r==null?s==="!=":!s&&h.attr?r!=null:s==="="?i===o:s==="*="?i.indexOf(o)>=0:s==="~="?(" "+i+" ").indexOf(o)>=0:o?s==="!="?i!==o:s==="^="?i.indexOf(o)===0:s==="$="?i.substr(i.length-o.length)===o:s==="|="?i===o||i.substr(0,o.length+1)===o+"-":!1:i&&r!==!1},POS:function(e,t,n,r){var i=t[2],s=d.setFilters[i];if(s)return s(e,n,t,r)}}},v=d.match.POS,m=function(e,t){return"\\"+(t-0+1)};for(var g in d.match)d.match[g]=new RegExp(d.match[g].source+/(?![^\[]*\])(?![^\(]*\))/.source),d.leftMatch[g]=new RegExp(/(^(?:.|\r|\n)*?)/.source+d.match[g].source.replace(/\\(\d+)/g,m));d.match.globalPOS=v;var y=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(n.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(e,t){var n=0,r=t||[];if(o.call(e)==="[object Array]")Array.prototype.push.apply(r,e);else if(typeof e.length=="number")for(var i=e.length;n<i;n++)r.push(e[n]);else for(;e[n];n++)r.push(e[n]);return r}}var w,E;n.documentElement.compareDocumentPosition?w=function(e,t){return e===t?(u=!0,0):!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition?-1:1:e.compareDocumentPosition(t)&4?-1:1}:(w=function(e,t){if(e===t)return u=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,a=t.parentNode,f=o;if(o===a)return E(e,t);if(!o)return-1;if(!a)return 1;while(f)i.unshift(f),f=f.parentNode;f=a;while(f)s.unshift(f),f=f.parentNode;n=i.length,r=s.length;for(var l=0;l<n&&l<r;l++)if(i[l]!==s[l])return E(i[l],s[l]);return l===n?E(e,s[l],-1):E(i[l],t,1)},E=function(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var e=n.createElement("div"),r="script"+(new Date).getTime(),i=n.documentElement;e.innerHTML="<a name='"+r+"'/>",i.insertBefore(e,i.firstChild),n.getElementById(r)&&(d.find.ID=function(e,n,r){if(typeof n.getElementById!="undefined"&&!r){var i=n.getElementById(e[1]);return i?i.id===e[1]||typeof i.getAttributeNode!="undefined"&&i.getAttributeNode("id").nodeValue===e[1]?[i]:t:[]}},d.filter.ID=function(e,t){var n=typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id");return e.nodeType===1&&n&&n.nodeValue===t}),i.removeChild(e),i=e=null}(),function(){var e=n.createElement("div");e.appendChild(n.createComment("")),e.getElementsByTagName("*").length>0&&(d.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if(e[1]==="*"){var r=[];for(var i=0;n[i];i++)n[i].nodeType===1&&r.push(n[i]);n=r}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!="undefined"&&e.firstChild.getAttribute("href")!=="#"&&(d.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),n.querySelectorAll&&function(){var e=h,t=n.createElement("div"),r="__sizzle__";t.innerHTML="<p class='TEST'></p>";if(t.querySelectorAll&&t.querySelectorAll(".TEST").length===0)return;h=function(t,i,s,o){i=i||n;if(!o&&!h.isXML(i)){var u=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(u&&(i.nodeType===1||i.nodeType===9)){if(u[1])return y(i.getElementsByTagName(t),s);if(u[2]&&d.find.CLASS&&i.getElementsByClassName)return y(i.getElementsByClassName(u[2]),s)}if(i.nodeType===9){if(t==="body"&&i.body)return y([i.body],s);if(u&&u[3]){var a=i.getElementById(u[3]);if(!a||!a.parentNode)return y([],s);if(a.id===u[3])return y([a],s)}try{return y(i.querySelectorAll(t),s)}catch(f){}}else if(i.nodeType===1&&i.nodeName.toLowerCase()!=="object"){var l=i,c=i.getAttribute("id"),p=c||r,v=i.parentNode,m=/^\s*[+~]/.test(t);c?p=p.replace(/'/g,"\\$&"):i.setAttribute("id",p),m&&v&&(i=i.parentNode);try{if(!m||v)return y(i.querySelectorAll("[id='"+p+"'] "+t),s)}catch(g){}finally{c||l.removeAttribute("id")}}}return e(t,i,s,o)};for(var i in e)h[i]=e[i];t=null}(),function(){var e=n.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var r=!t.call(n.createElement("div"),"div"),i=!1;try{t.call(n.documentElement,"[test!='']:sizzle")}catch(s){i=!0}h.matchesSelector=function(e,n){n=n.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!h.isXML(e))try{if(i||!d.match.PSEUDO.test(n)&&!/!=/.test(n)){var s=t.call(e,n);if(s||!r||e.document&&e.document.nodeType!==11)return s}}catch(o){}return h(n,null,null,[e]).length>0}}}(),function(){var e=n.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0)return;e.lastChild.className="e";if(e.getElementsByClassName("e").length===1)return;d.order.splice(1,0,"CLASS"),d.find.CLASS=function(e,t,n){if(typeof t.getElementsByClassName!="undefined"&&!n)return t.getElementsByClassName(e[1])},e=null}(),n.documentElement.contains?h.contains=function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:n.documentElement.compareDocumentPosition?h.contains=function(e,t){return!!(e.compareDocumentPosition(t)&16)}:h.contains=function(){return!1},h.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?t.nodeName!=="HTML":!1};var T=function(e,t,n){var r,i=[],s="",o=t.nodeType?[t]:t;while(r=d.match.PSEUDO.exec(e))s+=r[0],e=e.replace(d.match.PSEUDO,"");e=d.relative[e]?e+"*":e;for(var u=0,a=o.length;u<a;u++)h(e,o[u],i,n);return h.filter(s,i)};h.attr=s.attr,h.selectors.attrMap={},s.find=h,s.expr=h.selectors,s.expr[":"]=s.expr.filters,s.unique=h.uniqueSort,s.text=h.getText,s.isXMLDoc=h.isXML,s.contains=h.contains}();var j=/Until$/,F=/^(?:parents|prevUntil|prevAll)/,I=/,/,q=/^.[^:#\[\.,]*$/,R=Array.prototype.slice,U=s.expr.match.globalPOS,z={children:!0,contents:!0,next:!0,prev:!0};s.fn.extend({find:function(e){var t=this,n,r;if(typeof e!="string")return s(e).filter(function(){for(n=0,r=t.length;n<r;n++)if(s.contains(t[n],this))return!0});var i=this.pushStack("","find",e),o,u,a;for(n=0,r=this.length;n<r;n++){o=i.length,s.find(e,this[n],i);if(n>0)for(u=o;u<i.length;u++)for(a=0;a<o;a++)if(i[a]===i[u]){i.splice(u--,1);break}}return i},has:function(e){var t=s(e);return this.filter(function(){for(var e=0,n=t.length;e<n;e++)if(s.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(X(this,e,!1),"not",e)},filter:function(e){return this.pushStack(X(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?U.test(e)?s(e,this.context).index(this[0])>=0:s.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n=[],r,i,o=this[0];if(s.isArray(e)){var u=1;while(o&&o.ownerDocument&&o!==t){for(r=0;r<e.length;r++)s(o).is(e[r])&&n.push({selector:e[r],elem:o,level:u});o=o.parentNode,u++}return n}var a=U.test(e)||typeof e!="string"?s(e,t||this.context):0;for(r=0,i=this.length;r<i;r++){o=this[r];while(o){if(a?a.index(o)>-1:s.find.matchesSelector(o,e)){n.push(o);break}o=o.parentNode;if(!o||!o.ownerDocument||o===t||o.nodeType===11)break}}return n=n.length>1?s.unique(n):n,this.pushStack(n,"closest",e)},index:function(e){return e?typeof e=="string"?s.inArray(this[0],s(e)):s.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?s(e,t):s.makeArray(e&&e.nodeType?[e]:e),r=s.merge(this.get(),n);return this.pushStack(W(n[0])||W(r[0])?r:s.unique(r))},andSelf:function(){return this.add(this.prevObject)}}),s.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return s.dir(e,"parentNode")},parentsUntil:function(e,t,n){return s.dir(e,"parentNode",n)},next:function(e){return s.nth(e,2,"nextSibling")},prev:function(e){return s.nth(e,2,"previousSibling")},nextAll:function(e){return s.dir(e,"nextSibling")},prevAll:function(e){return s.dir(e,"previousSibling")},nextUntil:function(e,t,n){return s.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return s.dir(e,"previousSibling",n)},siblings:function(e){return s.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return s.sibling(e.firstChild)},contents:function(e){return s.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:s.makeArray(e.childNodes)}},function(e,t){s.fn[e]=function(n,r){var i=s.map(this,t,n);return j.test(e)||(r=n),r&&typeof r=="string"&&(i=s.filter(r,i)),i=this.length>1&&!z[e]?s.unique(i):i,(this.length>1||I.test(r))&&F.test(e)&&(i=i.reverse()),this.pushStack(i,e,R.call(arguments).join(","))}}),s.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?s.find.matchesSelector(t[0],e)?[t[0]]:[]:s.find.matches(e,t)},dir:function(e,n,r){var i=[],o=e[n];while(o&&o.nodeType!==9&&(r===t||o.nodeType!==1||!s(o).is(r)))o.nodeType===1&&i.push(o),o=o[n];return i},nth:function(e,t,n,r){t=t||1;var i=0;for(;e;e=e[n])if(e.nodeType===1&&++i===t)break;return e},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var $="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",J=/ jQuery\d+="(?:\d+|null)"/g,K=/^\s+/,Q=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,G=/<([\w:]+)/,Y=/<tbody/i,Z=/<|&#?\w+;/,et=/<(?:script|style)/i,tt=/<(?:script|object|embed|option|style)/i,nt=new RegExp("<(?:"+$+")[\\s/>]","i"),rt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/\/(java|ecma)script/i,st=/^\s*<!(?:\[CDATA\[|\-\-)/,ot={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ut=V(n);ot.optgroup=ot.option,ot.tbody=ot.tfoot=ot.colgroup=ot.caption=ot.thead,ot.th=ot.td,s.support.htmlSerialize||(ot._default=[1,"div<div>","</div>"]),s.fn.extend({text:function(e){return s.access(this,function(e){return e===t?s.text(this):this.empty().append((this[0]&&this[0].ownerDocument||n).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(s.isFunction(e))return this.each(function(t){s(this).wrapAll(e.call(this,t))});if(this[0]){var t=s(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return s.isFunction(e)?this.each(function(t){s(this).wrapInner(e.call(this,t))}):this.each(function(){var t=s(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=s.isFunction(e);return this.each(function(n){s(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){s.nodeName(this,"body")||s(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){this.nodeType===1&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){this.nodeType===1&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=s.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,s.clean(arguments)),e}},remove:function(e,t){for(var n=0,r;(r=this[n])!=null;n++)if(!e||s.filter(e,[r]).length)!t&&r.nodeType===1&&(s.cleanData(r.getElementsByTagName("*")),s.cleanData([r])),r.parentNode&&r.parentNode.removeChild(r);return this},empty:function(){for(var e=0,t;(t=this[e])!=null;e++){t.nodeType===1&&s.cleanData(t.getElementsByTagName("*"));while(t.firstChild)t.removeChild(t.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return s.clone(this,e,t)})},html:function(e){return s.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(J,""):null;if(typeof e=="string"&&!et.test(e)&&(s.support.leadingWhitespace||!K.test(e))&&!ot[(G.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Q,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(s.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return this[0]&&this[0].parentNode?s.isFunction(e)?this.each(function(t){var n=s(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=s(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;s(this).remove(),t?s(t).before(e):s(n).append(e)})):this.length?this.pushStack(s(s.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){var i,o,u,a,f=e[0],l=[];if(!s.support.checkClone&&arguments.length===3&&typeof f=="string"&&rt.test(f))return this.each(function(){s(this).domManip(e,n,r,!0)});if(s.isFunction(f))return this.each(function(i){var o=s(this);e[0]=f.call(this,i,n?o.html():t),o.domManip(e,n,r)});if(this[0]){a=f&&f.parentNode,s.support.parentNode&&a&&a.nodeType===11&&a.childNodes.length===this.length?i={fragment:a}:i=s.buildFragment(e,this,l),u=i.fragment,u.childNodes.length===1?o=u=u.firstChild:o=u.firstChild;if(o){n=n&&s.nodeName(o,"tr");for(var c=0,h=this.length,p=h-1;c<h;c++)r.call(n?at(this[c],o):this[c],i.cacheable||h>1&&c<p?s.clone(u,!0,!0):u)}l.length&&s.each(l,function(e,t){t.src?s.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):s.globalEval((t.text||t.textContent||t.innerHTML||"").replace(st,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),s.buildFragment=function(e,t,r){var i,o,u,a,f=e[0];return t&&t[0]&&(a=t[0].ownerDocument||t[0]),a.createDocumentFragment||(a=n),e.length===1&&typeof f=="string"&&f.length<512&&a===n&&f.charAt(0)==="<"&&!tt.test(f)&&(s.support.checkClone||!rt.test(f))&&(s.support.html5Clone||!nt.test(f))&&(o=!0,u=s.fragments[f],u&&u!==1&&(i=u)),i||(i=a.createDocumentFragment(),s.clean(e,a,i,r)),o&&(s.fragments[f]=u?i:1),{fragment:i,cacheable:o}},s.fragments={},s.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){s.fn[e]=function(n){var r=[],i=s(n),o=this.length===1&&this[0].parentNode;if(o&&o.nodeType===11&&o.childNodes.length===1&&i.length===1)return i[t](this[0]),this;for(var u=0,a=i.length;u<a;u++){var f=(u>0?this.clone(!0):this).get();s(i[u])[t](f),r=r.concat(f)}return this.pushStack(r,e,i.selector)}}),s.extend({clone:function(e,t,n){var r,i,o,u=s.support.html5Clone||s.isXMLDoc(e)||!nt.test("<"+e.nodeName+">")?e.cloneNode(!0):dt(e);if((!s.support.noCloneEvent||!s.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!s.isXMLDoc(e)){lt(e,u),r=ct(e),i=ct(u);for(o=0;r[o];++o)i[o]&&lt(r[o],i[o])}if(t){ft(e,u);if(n){r=ct(e),i=ct(u);for(o=0;r[o];++o)ft(r[o],i[o])}}return r=i=null,u},clean:function(e,t,r,i){var o,u,a,f=[];t=t||n,typeof t.createElement=="undefined"&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||n);for(var l=0,c;(c=e[l])!=null;l++){typeof c=="number"&&(c+="");if(!c)continue;if(typeof c=="string")if(!Z.test(c))c=t.createTextNode(c);else{c=c.replace(Q,"<$1></$2>");var h=(G.exec(c)||["",""])[1].toLowerCase(),p=ot[h]||ot._default,d=p[0],v=t.createElement("div"),m=ut.childNodes,g;t===n?ut.appendChild(v):V(t).appendChild(v),v.innerHTML=p[1]+c+p[2];while(d--)v=v.lastChild;if(!s.support.tbody){var y=Y.test(c),b=h==="table"&&!y?v.firstChild&&v.firstChild.childNodes:p[1]==="<table>"&&!y?v.childNodes:[];for(a=b.length-1;a>=0;--a)s.nodeName(b[a],"tbody")&&!b[a].childNodes.length&&b[a].parentNode.removeChild(b[a])}!s.support.leadingWhitespace&&K.test(c)&&v.insertBefore(t.createTextNode(K.exec(c)[0]),v.firstChild),c=v.childNodes,v&&(v.parentNode.removeChild(v),m.length>0&&(g=m[m.length-1],g&&g.parentNode&&g.parentNode.removeChild(g)))}var w;if(!s.support.appendChecked)if(c[0]&&typeof (w=c.length)=="number")for(a=0;a<w;a++)pt(c[a]);else pt(c);c.nodeType?f.push(c):f=s.merge(f,c)}if(r){o=function(e){return!e.type||it.test(e.type)};for(l=0;f[l];l++){u=f[l];if(i&&s.nodeName(u,"script")&&(!u.type||it.test(u.type)))i.push(u.parentNode?u.parentNode.removeChild(u):u);else{if(u.nodeType===1){var E=s.grep(u.getElementsByTagName("script"),o);f.splice.apply(f,[l+1,0].concat(E))}r.appendChild(u)}}}return f},cleanData:function(e){var t,n,r=s.cache,i=s.event.special,o=s.support.deleteExpando;for(var u=0,a;(a=e[u])!=null;u++){if(a.nodeName&&s.noData[a.nodeName.toLowerCase()])continue;n=a[s.expando];if(n){t=r[n];if(t&&t.events){for(var f in t.events)i[f]?s.event.remove(a,f):s.removeEvent(a,f,t.handle);t.handle&&(t.handle.elem=null)}o?delete a[s.expando]:a.removeAttribute&&a.removeAttribute(s.expando),delete r[n]}}}});var vt=/alpha\([^)]*\)/i,mt=/opacity=([^)]*)/,gt=/([A-Z]|^ms)/g,yt=/^[\-+]?(?:\d*\.)?\d+$/i,bt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,wt=/^([\-+])=([\-+.\de]+)/,Et=/^margin/,St={position:"absolute",visibility:"hidden",display:"block"},xt=["Top","Right","Bottom","Left"],Tt,Nt,Ct;s.fn.css=function(e,n){return s.access(this,function(e,n,r){return r!==t?s.style(e,n,r):s.css(e,n)},e,n,arguments.length>1)},s.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Tt(e,"opacity");return n===""?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":s.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var o,u,a=s.camelCase(n),f=e.style,l=s.cssHooks[a];n=s.cssProps[a]||a;if(r===t)return l&&"get"in l&&(o=l.get(e,!1,i))!==t?o:f[n];u=typeof r,u==="string"&&(o=wt.exec(r))&&(r=+(o[1]+1)*+o[2]+parseFloat(s.css(e,n)),u="number");if(r==null||u==="number"&&isNaN(r))return;u==="number"&&!s.cssNumber[a]&&(r+="px");if(!l||!("set"in l)||(r=l.set(e,r))!==t)try{f[n]=r}catch(c){}},css:function(e,n,r){var i,o;n=s.camelCase(n),o=s.cssHooks[n],n=s.cssProps[n]||n,n==="cssFloat"&&(n="float");if(o&&"get"in o&&(i=o.get(e,!0,r))!==t)return i;if(Tt)return Tt(e,n)},swap:function(e,t,n){var r={},i,s;for(s in t)r[s]=e.style[s],e.style[s]=t[s];i=n.call(e);for(s in t)e.style[s]=r[s];return i}}),s.curCSS=s.css,n.defaultView&&n.defaultView.getComputedStyle&&(Nt=function(e,t){var n,r,i,o,u=e.style;return t=t.replace(gt,"-$1").toLowerCase(),(r=e.ownerDocument.defaultView)&&(i=r.getComputedStyle(e,null))&&(n=i.getPropertyValue(t),n===""&&!s.contains(e.ownerDocument.documentElement,e)&&(n=s.style(e,t))),!s.support.pixelMargin&&i&&Et.test(t)&&bt.test(n)&&(o=u.width,u.width=n,n=i.width,u.width=o),n}),n.documentElement.currentStyle&&(Ct=function(e,t){var n,r,i,s=e.currentStyle&&e.currentStyle[t],o=e.style;return s==null&&o&&(i=o[t])&&(s=i),bt.test(s)&&(n=o.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),o.left=t==="fontSize"?"1em":s,s=o.pixelLeft+"px",o.left=n,r&&(e.runtimeStyle.left=r)),s===""?"auto":s}),Tt=Nt||Ct,s.each(["height","width"],function(e,t){s.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth!==0?kt(e,t,r):s.swap(e,St,function(){return kt(e,t,r)})},set:function(e,t){return yt.test(t)?t+"px":t}}}),s.support.opacity||(s.cssHooks.opacity={get:function(e,t){return mt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=s.isNumeric(t)?"alpha(opacity="+t*100+")":"",o=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&s.trim(o.replace(vt,""))===""){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=vt.test(o)?o.replace(vt,i):o+" "+i}}),s(function(){s.support.reliableMarginRight||(s.cssHooks.marginRight={get:function(e,t){return s.swap(e,{display:"inline-block"},function(){return t?Tt(e,"margin-right"):e.style.marginRight})}})}),s.expr&&s.expr.filters&&(s.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return t===0&&n===0||!s.support.reliableHiddenOffsets&&(e.style&&e.style.display||s.css(e,"display"))==="none"},s.expr.filters.visible=function(e){return!s.expr.filters.hidden(e)}),s.each({margin:"",padding:"",border:"Width"},function(e,t){s.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+xt[r]+t]=i[r]||i[r-2]||i[0];return s}}});var Lt=/%20/g,At=/\[\]$/,Ot=/\r?\n/g,Mt=/#.*$/,_t=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Dt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Pt=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ht=/^(?:GET|HEAD)$/,Bt=/^\/\//,jt=/\?/,Ft=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,It=/^(?:select|textarea)/i,qt=/\s+/,Rt=/([?&])_=[^&]*/,Ut=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,zt=s.fn.load,Wt={},Xt={},Vt,$t,Jt=["*/"]+["*"];try{Vt=i.href}catch(Kt){Vt=n.createElement("a"),Vt.href="",Vt=Vt.href}$t=Ut.exec(Vt.toLowerCase())||[],s.fn.extend({load:function(e,n,r){if(typeof e!="string"&&zt)return zt.apply(this,arguments);if(!this.length)return this;var i=e.indexOf(" ");if(i>=0){var o=e.slice(i,e.length);e=e.slice(0,i)}var u="GET";n&&(s.isFunction(n)?(r=n,n=t):typeof n=="object"&&(n=s.param(n,s.ajaxSettings.traditional),u="POST"));var a=this;return s.ajax({url:e,type:u,dataType:"html",data:n,complete:function(e,t,n){n=e.responseText,e.isResolved()&&(e.done(function(e){n=e}),a.html(o?s("<div>").append(n.replace(Ft,"")).find(o):n)),r&&a.each(r,[n,t,e])}}),this},serialize:function(){return s.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?s.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||It.test(this.nodeName)||Dt.test(this.type))}).map(function(e,t){var n=s(this).val();return n==null?null:s.isArray(n)?s.map(n,function(e,n){return{name:t.name,value:e.replace(Ot,"\r\n")}}):{name:t.name,value:n.replace(Ot,"\r\n")}}).get()}}),s.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){s.fn[t]=function(e){return this.on(t,e)}}),s.each(["get","post"],function(e,n){s[n]=function(e,r,i,o){return s.isFunction(r)&&(o=o||i,i=r,r=t),s.ajax({type:n,url:e,data:r,success:i,dataType:o})}}),s.extend({getScript:function(e,n){return s.get(e,t,n,"script")},getJSON:function(e,t,n){return s.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?Yt(e,s.ajaxSettings):(t=e,e=s.ajaxSettings),Yt(e,t),e},ajaxSettings:{url:Vt,isLocal:Pt.test($t[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Jt},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":s.parseJSON,"text xml":s.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Qt(Wt),ajaxTransport:Qt(Xt),ajax:function(e,n){function S(e,n,c,h){if(y===2)return;y=2,m&&clearTimeout(m),v=t,p=h||"",E.readyState=e>0?4:0;var d,g,w,S=n,x=c?en(r,E,c):t,T,N;if(e>=200&&e<300||e===304){if(r.ifModified){if(T=E.getResponseHeader("Last-Modified"))s.lastModified[l]=T;if(N=E.getResponseHeader("Etag"))s.etag[l]=N}if(e===304)S="notmodified",d=!0;else try{g=tn(r,x),S="success",d=!0}catch(C){S="parsererror",w=C}}else{w=S;if(!S||e)S="error",e<0&&(e=0)}E.status=e,E.statusText=""+(n||S),d?u.resolveWith(i,[g,S,E]):u.rejectWith(i,[E,S,w]),E.statusCode(f),f=t,b&&o.trigger("ajax"+(d?"Success":"Error"),[E,r,d?g:w]),a.fireWith(i,[E,S]),b&&(o.trigger("ajaxComplete",[E,r]),--s.active||s.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r=s.ajaxSetup({},n),i=r.context||r,o=i!==r&&(i.nodeType||i instanceof s)?s(i):s.event,u=s.Deferred(),a=s.Callbacks("once memory"),f=r.statusCode||{},l,c={},h={},p,d,v,m,g,y=0,b,w,E={readyState:0,setRequestHeader:function(e,t){if(!y){var n=e.toLowerCase();e=h[n]=h[n]||e,c[e]=t}return this},getAllResponseHeaders:function(){return y===2?p:null},getResponseHeader:function(e){var n;if(y===2){if(!d){d={};while(n=_t.exec(p))d[n[1].toLowerCase()]=n[2]}n=d[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return y||(r.mimeType=e),this},abort:function(e){return e=e||"abort",v&&v.abort(e),S(0,e),this}};u.promise(E),E.success=E.done,E.error=E.fail,E.complete=a.add,E.statusCode=function(e){if(e){var t;if(y<2)for(t in e)f[t]=[f[t],e[t]];else t=e[E.status],E.then(t,t)}return this},r.url=((e||r.url)+"").replace(Mt,"").replace(Bt,$t[1]+"//"),r.dataTypes=s.trim(r.dataType||"*").toLowerCase().split(qt),r.crossDomain==null&&(g=Ut.exec(r.url.toLowerCase()),r.crossDomain=!(!g||g[1]==$t[1]&&g[2]==$t[2]&&(g[3]||(g[1]==="http:"?80:443))==($t[3]||($t[1]==="http:"?80:443)))),r.data&&r.processData&&typeof r.data!="string"&&(r.data=s.param(r.data,r.traditional)),Gt(Wt,r,n,E);if(y===2)return!1;b=r.global,r.type=r.type.toUpperCase(),r.hasContent=!Ht.test(r.type),b&&s.active++===0&&s.event.trigger("ajaxStart");if(!r.hasContent){r.data&&(r.url+=(jt.test(r.url)?"&":"?")+r.data,delete r.data),l=r.url;if(r.cache===!1){var x=s.now(),T=r.url.replace(Rt,"$1_="+x);r.url=T+(T===r.url?(jt.test(r.url)?"&":"?")+"_="+x:"")}}(r.data&&r.hasContent&&r.contentType!==!1||n.contentType)&&E.setRequestHeader("Content-Type",r.contentType),r.ifModified&&(l=l||r.url,s.lastModified[l]&&E.setRequestHeader("If-Modified-Since",s.lastModified[l]),s.etag[l]&&E.setRequestHeader("If-None-Match",s.etag[l])),E.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+(r.dataTypes[0]!=="*"?", "+Jt+"; q=0.01":""):r.accepts["*"]);for(w in r.headers)E.setRequestHeader(w,r.headers[w]);if(!r.beforeSend||r.beforeSend.call(i,E,r)!==!1&&y!==2){for(w in{success:1,error:1,complete:1})E[w](r[w]);v=Gt(Xt,r,n,E);if(!v)S(-1,"No Transport");else{E.readyState=1,b&&o.trigger("ajaxSend",[E,r]),r.async&&r.timeout>0&&(m=setTimeout(function(){E.abort("timeout")},r.timeout));try{y=1,v.send(c,S)}catch(N){if(!(y<2))throw N;S(-1,N)}}return E}return E.abort(),!1},param:function(e,n){var r=[],i=function(e,t){t=s.isFunction(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=s.ajaxSettings.traditional);if(s.isArray(e)||e.jquery&&!s.isPlainObject(e))s.each(e,function(){i(this.name,this.value)});else for(var o in e)Zt(o,e[o],n,i);return r.join("&").replace(Lt,"+")}}),s.extend({active:0,lastModified:{},etag:{}});var nn=s.now(),rn=/(\=)\?(&|$)|\?\?/i;s.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return s.expando+"_"+nn++}}),s.ajaxPrefilter("json jsonp",function(t,n,r){var i=typeof t.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(t.contentType);if(t.dataTypes[0]==="jsonp"||t.jsonp!==!1&&(rn.test(t.url)||i&&rn.test(t.data))){var o,u=t.jsonpCallback=s.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a=e[u],f=t.url,l=t.data,c="$1"+u+"$2";return t.jsonp!==!1&&(f=f.replace(rn,c),t.url===f&&(i&&(l=l.replace(rn,c)),t.data===l&&(f+=(/\?/.test(f)?"&":"?")+t.jsonp+"="+u))),t.url=f,t.data=l,e[u]=function(e){o=[e]},r.always(function(){e[u]=a,o&&s.isFunction(a)&&e[u](o[0])}),t.converters["script json"]=function(){return o||s.error(u+" was not called"),o[0]},t.dataTypes[0]="json","script"}}),s.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return s.globalEval(e),e}}}),s.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),s.ajaxTransport("script",function(e){if(e.crossDomain){var r,i=n.head||n.getElementsByTagName("head")[0]||n.documentElement;return{send:function(s,o){r=n.createElement("script"),r.async="async",e.scriptCharset&&(r.charset=e.scriptCharset),r.src=e.url,r.onload=r.onreadystatechange=function(e,n){if(n||!r.readyState||/loaded|complete/.test(r.readyState))r.onload=r.onreadystatechange=null,i&&r.parentNode&&i.removeChild(r),r=t,n||o(200,"success")},i.insertBefore(r,i.firstChild)},abort:function(){r&&r.onload(0,1)}}}});var sn=e.ActiveXObject?function(){for(var e in un)un[e](0,1)}:!1,on=0,un;s.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&an()||fn()}:an,function(e){s.extend(s.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(s.ajaxSettings.xhr()),s.support.ajax&&s.ajaxTransport(function(n){if(!n.crossDomain||s.support.cors){var r;return{send:function(i,o){var u=n.xhr(),a,f;n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async);if(n.xhrFields)for(f in n.xhrFields)u[f]=n.xhrFields[f];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(f in i)u.setRequestHeader(f,i[f])}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var f,l,c,h,p;try{if(r&&(i||u.readyState===4)){r=t,a&&(u.onreadystatechange=s.noop,sn&&delete un[a]);if(i)u.readyState!==4&&u.abort();else{f=u.status,c=u.getAllResponseHeaders(),h={},p=u.responseXML,p&&p.documentElement&&(h.xml=p);try{h.text=u.responseText}catch(e){}try{l=u.statusText}catch(d){l=""}!f&&n.isLocal&&!n.crossDomain?f=h.text?200:404:f===1223&&(f=204)}}}catch(v){i||o(-1,v)}h&&o(f,l,h,c)},!n.async||u.readyState===4?r():(a=++on,sn&&(un||(un={},s(e).unload(sn)),un[a]=r),u.onreadystatechange=r)},abort:function(){r&&r(0,1)}}}});var ln={},cn,hn,pn=/^(?:toggle|show|hide)$/,dn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,vn,mn=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],gn;s.fn.extend({show:function(e,t,n){var r,i;if(e||e===0)return this.animate(wn("show",3),e,t,n);for(var o=0,u=this.length;o<u;o++)r=this[o],r.style&&(i=r.style.display,!s._data(r,"olddisplay")&&i==="none"&&(i=r.style.display=""),(i===""&&s.css(r,"display")==="none"||!s.contains(r.ownerDocument.documentElement,r))&&s._data(r,"olddisplay",En(r.nodeName)));for(o=0;o<u;o++){r=this[o];if(r.style){i=r.style.display;if(i===""||i==="none")r.style.display=s._data(r,"olddisplay")||""}}return this},hide:function(e,t,n){if(e||e===0)return this.animate(wn("hide",3),e,t,n);var r,i,o=0,u=this.length;for(;o<u;o++)r=this[o],r.style&&(i=s.css(r,"display"),i!=="none"&&!s._data(r,"olddisplay")&&s._data(r,"olddisplay",i));for(o=0;o<u;o++)this[o].style&&(this[o].style.display="none");return this},_toggle:s.fn.toggle,toggle:function(e,t,n){var r=typeof e=="boolean";return s.isFunction(e)&&s.isFunction(t)?this._toggle.apply(this,arguments):e==null||r?this.each(function(){var t=r?e:s(this).is(":hidden");s(this)[t?"show":"hide"]()}):this.animate(wn("toggle",3),e,t,n),this},fadeTo:function(e,t,n,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){function o(){i.queue===!1&&s._mark(this);var t=s.extend({},i),n=this.nodeType===1,r=n&&s(this).is(":hidden"),o,u,a,f,l,c,h,p,d,v,m;t.animatedProperties={};for(a in e){o=s.camelCase(a),a!==o&&(e[o]=e[a],delete e[a]);if((l=s.cssHooks[o])&&"expand"in l){c=l.expand(e[o]),delete e[o];for(a in c)a in e||(e[a]=c[a])}}for(o in e){u=e[o],s.isArray(u)?(t.animatedProperties[o]=u[1],u=e[o]=u[0]):t.animatedProperties[o]=t.specialEasing&&t.specialEasing[o]||t.easing||"swing";if(u==="hide"&&r||u==="show"&&!r)return t.complete.call(this);n&&(o==="height"||o==="width")&&(t.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],s.css(this,"display")==="inline"&&s.css(this,"float")==="none"&&(!s.support.inlineBlockNeedsLayout||En(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}t.overflow!=null&&(this.style.overflow="hidden");for(a in e)f=new s.fx(this,t,a),u=e[a],pn.test(u)?(m=s._data(this,"toggle"+a)||(u==="toggle"?r?"show":"hide":0),m?(s._data(this,"toggle"+a,m==="show"?"hide":"show"),f[m]()):f[u]()):(h=dn.exec(u),p=f.cur(),h?(d=parseFloat(h[2]),v=h[3]||(s.cssNumber[a]?"":"px"),v!=="px"&&(s.style(this,a,(d||1)+v),p=(d||1)/f.cur()*p,s.style(this,a,p+v)),h[1]&&(d=(h[1]==="-="?-1:1)*d+p),f.custom(p,d,v)):f.custom(p,u,""));return!0}var i=s.speed(t,n,r);return s.isEmptyObject(e)?this.each(i.complete,[!1]):(e=s.extend({},e),i.queue===!1?this.each(o):this.queue(i.queue,o))},stop:function(e,n,r){return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function u(e,t,n){var i=t[n];s.removeData(e,n,!0),i.stop(r)}var t,n=!1,i=s.timers,o=s._data(this);r||s._unmark(!0,this);if(e==null)for(t in o)o[t]&&o[t].stop&&t.indexOf(".run")===t.length-4&&u(this,o,t);else o[t=e+".run"]&&o[t].stop&&u(this,o,t);for(t=i.length;t--;)i[t].elem===this&&(e==null||i[t].queue===e)&&(r?i[t](!0):i[t].saveState(),n=!0,i.splice(t,1));(!r||!n)&&s.dequeue(this,e)})}}),s.each({slideDown:wn("show",1),slideUp:wn("hide",1),slideToggle:wn("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){s.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),s.extend({speed:function(e,t,n){var r=e&&typeof e=="object"?s.extend({},e):{complete:n||!n&&t||s.isFunction(e)&&e,duration:e,easing:n&&t||t&&!s.isFunction(t)&&t};r.duration=s.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in s.fx.speeds?s.fx.speeds[r.duration]:s.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(e){s.isFunction(r.old)&&r.old.call(this),r.queue?s.dequeue(this,r.queue):e!==!1&&s._unmark(this)},r},easing:{linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),s.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(s.fx.step[this.prop]||s.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var e,t=s.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?!t||t==="auto"?0:t:e}return this.elem[this.prop]},custom:function(e,n,r){function u(e){return i.step(e)}var i=this,o=s.fx;this.startTime=gn||yn(),this.end=n,this.now=this.start=e,this.pos=this.state=0,this.unit=r||this.unit||(s.cssNumber[this.prop]?"":"px"),u.queue=this.options.queue,u.elem=this.elem,u.saveState=function(){s._data(i.elem,"fxshow"+i.prop)===t&&(i.options.hide?s._data(i.elem,"fxshow"+i.prop,i.start):i.options.show&&s._data(i.elem,"fxshow"+i.prop,i.end))},u()&&s.timers.push(u)&&!vn&&(vn=setInterval(o.tick,o.interval))},show:function(){var e=s._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||s.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),s(this.elem).show()},hide:function(){this.options.orig[this.prop]=s._data(this.elem,"fxshow"+this.prop)||s.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,r,i=gn||yn(),o=!0,u=this.elem,a=this.options;if(e||i>=a.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),a.animatedProperties[this.prop]=!0;for(t in a.animatedProperties)a.animatedProperties[t]!==!0&&(o=!1);if(o){a.overflow!=null&&!s.support.shrinkWrapBlocks&&s.each(["","X","Y"],function(e,t){u.style["overflow"+t]=a.overflow[e]}),a.hide&&s(u).hide();if(a.hide||a.show)for(t in a.animatedProperties)s.style(u,t,a.orig[t]),s.removeData(u,"fxshow"+t,!0),s.removeData(u,"toggle"+t,!0);r=a.complete,r&&(a.complete=!1,r.call(u))}return!1}return a.duration==Infinity?this.now=i:(n=i-this.startTime,this.state=n/a.duration,this.pos=s.easing[a.animatedProperties[this.prop]](this.state,n,0,1,a.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},s.extend(s.fx,{tick:function(){var e,t=s.timers,n=0;for(;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||s.fx.stop()},interval:13,stop:function(){clearInterval(vn),vn=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){s.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&e.elem.style[e.prop]!=null?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),s.each(mn.concat.apply([],mn),function(e,t){t.indexOf("margin")&&(s.fx.step[t]=function(e){s.style(e.elem,t,Math.max(0,e.now)+e.unit)})}),s.expr&&s.expr.filters&&(s.expr.filters.animated=function(e){return s.grep(s.timers,function(t){return e===t.elem}).length});var Sn,xn=/^t(?:able|d|h)$/i,Tn=/^(?:body|html)$/i;"getBoundingClientRect"in n.documentElement?Sn=function(e,t,n,r){try{r=e.getBoundingClientRect()}catch(i){}if(!r||!s.contains(n,e))return r?{top:r.top,left:r.left}:{top:0,left:0};var o=t.body,u=Nn(t),a=n.clientTop||o.clientTop||0,f=n.clientLeft||o.clientLeft||0,l=u.pageYOffset||s.support.boxModel&&n.scrollTop||o.scrollTop,c=u.pageXOffset||s.support.boxModel&&n.scrollLeft||o.scrollLeft,h=r.top+l-a,p=r.left+c-f;return{top:h,left:p}}:Sn=function(e,t,n){var r,i=e.offsetParent,o=e,u=t.body,a=t.defaultView,f=a?a.getComputedStyle(e,null):e.currentStyle,l=e.offsetTop,c=e.offsetLeft;while((e=e.parentNode)&&e!==u&&e!==n){if(s.support.fixedPosition&&f.position==="fixed")break;r=a?a.getComputedStyle(e,null):e.currentStyle,l-=e.scrollTop,c-=e.scrollLeft,e===i&&(l+=e.offsetTop,c+=e.offsetLeft,s.support.doesNotAddBorder&&(!s.support.doesAddBorderForTableAndCells||!xn.test(e.nodeName))&&(l+=parseFloat(r.borderTopWidth)||0,c+=parseFloat(r.borderLeftWidth)||0),o=i,i=e.offsetParent),s.support.subtractsBorderForOverflowNotVisible&&r.overflow!=="visible"&&(l+=parseFloat(r.borderTopWidth)||0,c+=parseFloat(r.borderLeftWidth)||0),f=r}if(f.position==="relative"||f.position==="static")l+=u.offsetTop,c+=u.offsetLeft;return s.support.fixedPosition&&f.position==="fixed"&&(l+=Math.max(n.scrollTop,u.scrollTop),c+=Math.max(n.scrollLeft,u.scrollLeft)),{top:l,left:c}},s.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){s.offset.setOffset(this,e,t)});var n=this[0],r=n&&n.ownerDocument;return r?n===r.body?s.offset.bodyOffset(n):Sn(n,r,r.documentElement):null},s.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return s.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(s.css(e,"marginTop"))||0,n+=parseFloat(s.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=s.css(e,"position");r==="static"&&(e.style.position="relative");var i=s(e),o=i.offset(),u=s.css(e,"top"),a=s.css(e,"left"),f=(r==="absolute"||r==="fixed")&&s.inArray("auto",[u,a])>-1,l={},c={},h,p;f?(c=i.position(),h=c.top,p=c.left):(h=parseFloat(u)||0,p=parseFloat(a)||0),s.isFunction(t)&&(t=t.call(e,n,o)),t.top!=null&&(l.top=t.top-o.top+h),t.left!=null&&(l.left=t.left-o.left+p),"using"in t?t.using.call(e,l):i.css(l)}},s.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),r=Tn.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(s.css(e,"marginTop"))||0,n.left-=parseFloat(s.css(e,"marginLeft"))||0,r.top+=parseFloat(s.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(s.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||n.body;while(e&&!Tn.test(e.nodeName)&&s.css(e,"position")==="static")e=e.offsetParent;return e})}}),s.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);s.fn[e]=function(i){return s.access(this,function(e,i,o){var u=Nn(e);if(o===t)return u?n in u?u[n]:s.support.boxModel&&u.document.documentElement[i]||u.document.body[i]:e[i];u?u.scrollTo(r?s(u).scrollLeft():o,r?o:s(u).scrollTop()):e[i]=o},e,i,arguments.length,null)}}),s.each({Height:"height",Width:"width"},function(e,n){var r="client"+e,i="scroll"+e,o="offset"+e;s.fn["inner"+e]=function(){var e=this[0];return e?e.style?parseFloat(s.css(e,n,"padding")):this[n]():null},s.fn["outer"+e]=function(e){var t=this[0];return t?t.style?parseFloat(s.css(t,n,e?"margin":"border")):this[n]():null},s.fn[n]=function(e){return s.access(this,function(e,n,u){var a,f,l,c;if(s.isWindow(e))return a=e.document,f=a.documentElement[r],s.support.boxModel&&f||a.body&&a.body[r]||f;if(e.nodeType===9)return a=e.documentElement,a[r]>=a[i]?a[r]:Math.max(e.body[i],a[i],e.body[o],a[o]);if(u===t)return l=s.css(e,n),c=parseFloat(l),s.isNumeric(c)?c:l;s(e).css(n,u)},n,e,arguments.length,null)}}),e.jQuery=e.$=s,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return s})})(window),function(e,t,n){typeof define=="function"&&define.amd?define("jqueryMobile",["jquery"],function(r){return n(r,e,t),r.mobile}):n(e.jQuery,e,t)}(this,document,function(e,t,n,r){(function(e,t,r){var i={};e.mobile=e.extend({},{version:"1.2.0",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(r){e.type(r)!=="number"&&(r=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,r),e(n).trigger("silentscroll",{x:0,y:r})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:i,nsNormalize:function(t){if(!t)return;return i[t]||(i[t]=e.camelCase(e.mobile.ns+t))},getInheritedTheme:function(e,t){var n=e[0],r="",i=/ui-(bar|body|overlay)-([a-z])\b/,s,o;while(n){s=n.className||"";if(s&&(o=i.exec(s))&&(r=o[2]))break;n=n.parentNode}return r||t||"a"},closestPageData:function(e){return e.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,n){if(!e.mobile.ignoreContentEnabled)return t;var r=t.length,i=e(),s,o,u;for(var a=0;a<r;a++){o=t.eq(a),u=!1,s=t[a];while(s){var f=s.getAttribute?s.getAttribute("data-"+e.mobile.ns+n):"";if(f==="false"){u=!0;break}s=s.parentNode}u||(i=i.add(o))}return i},getScreenHeight:function(){return t.innerHeight||e(t).height()}},e.mobile),e.fn.jqmData=function(t,n){var i;return typeof t!="undefined"&&(t&&(t=e.mobile.nsNormalize(t)),arguments.length<2||n===r?i=this.data(t):i=this.data(t,n)),i},e.jqmData=function(t,n,r){var i;return typeof n!="undefined"&&(i=e.data(t,n?e.mobile.nsNormalize(n):n,r)),i},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,n){return e.removeData(t,e.mobile.nsNormalize(n))},e.fn.removeWithDependents=function(){e.removeWithDependents(this)},e.removeWithDependents=function(t){var n=e(t);(n.jqmData("dependents")||e()).remove(),n.remove()},e.fn.addDependents=function(t){e.addDependents(e(this),t)},e.addDependents=function(t,n){var r=e(t).jqmData("dependents")||e();e(t).jqmData("dependents",e.merge(r,n))},e.fn.getEncodedText=function(){return e("<div/>").text(e(this).text()).html()},e.fn.jqmEnhanceable=function(){return e.mobile.enhanceable(this)},e.fn.jqmHijackable=function(){return e.mobile.hijackable(this)};var s=e.find,o=/:jqmData\(([^)]*)\)/g;e.find=function(t,n,r,i){return t=t.replace(o,"[data-"+(e.mobile.ns||"")+"$1]"),s.call(this,t,n,r,i)},e.extend(e.find,s),e.find.matches=function(t,n){return e.find(t,null,null,n)},e.find.matchesSelector=function(t,n){return e.find(n,null,null,[t]).length>0}})(e,this),function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a=t.split(".")[0];t=t.split(".")[1],i=a+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i]=function(t){return!!e.data(t,i)},e[a]=e[a]||{},s=e[a][t],o=e[a][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,i){e.isFunction(i)&&(r[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=r,s=i.apply(this,arguments),this._super=t,this._superApply=n,s}}())}),o.prototype=e.widget.extend(u,{widgetEventPrefix:t},r,{constructor:o,namespace:a,widgetName:t,widgetBaseClass:i,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(n[u]=e.isPlainObject(a)?e.widget.extend({},n[u],a):a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():new i(o,this)}),f}},e.Widget=function(e,t){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetName,this),e.data(r,this.widgetFullName,this),this._on({remove:"destroy"}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n){n?(t=e(t),this.bindings=this.bindings.add(t)):(n=t,t=this.element);var r=this;e.each(n,function(n,i){function s(){if(r.options.disabled===!0||e(this).hasClass("ui-state-disabled"))return;return(typeof i=="string"?r[i]:i).apply(r,arguments)}typeof i!="string"&&(s.guid=i.guid=i.guid||s.guid||e.guid++);var o=n.match(/^(\w+)\s*(.*)$/),u=o[1]+r.eventNamespace,a=o[2];a?r.widget().delegate(a,u,s):t.bind(u,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&(e.effects.effect[u]||e.uiBackCompat!==!1&&e.effects[u])?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(e),function(e,t){e.widget("mobile.widget",{_createWidget:function(){e.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_getCreateOptions:function(){var n=this.element,r={};return e.each(this.options,function(e){var i=n.jqmData(e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}));i!==t&&(r[e]=i)}),r},enhanceWithin:function(t,n){this.enhance(e(this.options.initSelector,e(t)),n)},enhance:function(t,n){var r,i,s=e(t),o=this;s=e.mobile.enhanceable(s),n&&s.length&&(r=e.mobile.closestPageData(s),i=r&&r.keepNativeSelector()||"",s=s.not(i)),s[this.widgetName]()},raise:function(e){throw"Widget ["+this.widgetName+"]: "+e}})}(e),function(e,t){e.extend(e.mobile,{loadingMessageTextVisible:r,loadingMessageTheme:r,loadingMessage:r,showPageLoadingMsg:function(t,n,r){e.mobile.loading("show",t,n,r)},hidePageLoadingMsg:function(){e.mobile.loading("hide")},loading:function(){this.loaderWidget.loader.apply(this.loaderWidget,arguments)}});var n="ui-loader",i=e("html"),s=e(t);e.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+n+"'>"+"<span class='ui-icon ui-icon-loading'></span>"+"<h1></h1>"+"</div>",fakeFixLoader:function(){var t=e("."+e.mobile.activeBtnClass).first();this.element.css({top:e.support.scrollTop&&s.scrollTop()+s.height()/2||t.length&&t.offset().top||100})},checkLoaderPosition:function(){var t=this.element.offset(),n=s.scrollTop(),r=e.mobile.getScreenHeight();if(t.top<n||t.top-n>r)this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),s.unbind("scroll",this.checkLoaderPosition).bind("scroll",this.fakeFixLoader)},resetHtml:function(){this.element.html(e(this.defaultHtml).html())},show:function(t,o,u){var a,f,l,c;this.resetHtml(),e.type(t)==="object"?(c=e.extend({},this.options,t),t=c.theme||e.mobile.loadingMessageTheme):(c=this.options,t=t||e.mobile.loadingMessageTheme||c.theme),f=o||e.mobile.loadingMessage||c.text,i.addClass("ui-loading");if(e.mobile.loadingMessage!==!1||c.html)e.mobile.loadingMessageTextVisible!==r?a=e.mobile.loadingMessageTextVisible:a=c.textVisible,this.element.attr("class",n+" ui-corner-all ui-body-"+t+" ui-loader-"+(a||o||t.text?"verbose":"default")+(c.textonly||u?" ui-loader-textonly":"")),c.html?this.element.html(c.html):this.element.find("h1").text(f),this.element.appendTo(e.mobile.pageContainer),this.checkLoaderPosition(),s.bind("scroll",e.proxy(this.checkLoaderPosition,this))},hide:function(){i.removeClass("ui-loading"),e.mobile.loadingMessage&&this.element.removeClass("ui-loader-fakefix"),e(t).unbind("scroll",e.proxy(this.fakeFixLoader,this)),e(t).unbind("scroll",e.proxy(this.checkLoaderPosition,this))}}),s.bind("pagecontainercreate",function(){e.mobile.loaderWidget=e.mobile.loaderWidget||e(e.mobile.loader.prototype.defaultHtml).loader()})}(e,this),function(e,t,n,r){function x(e){while(e&&typeof e.originalEvent!="undefined")e=e.originalEvent;return e}function T(t,n){var i=t.type,s,o,a,l,c,h,p,d,v;t=e.Event(t),t.type=n,s=t.originalEvent,o=e.event.props,i.search(/^(mouse|click)/)>-1&&(o=f);if(s)for(p=o.length,l;p;)l=o[--p],t[l]=s[l];i.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1);if(i.search(/^touch/)!==-1){a=x(s),i=a.touches,c=a.changedTouches,h=i&&i.length?i[0]:c&&c.length?c[0]:r;if(h)for(d=0,v=u.length;d<v;d++)l=u[d],t[l]=h[l]}return t}function N(t){var n={},r,s;while(t){r=e.data(t,i);for(s in r)r[s]&&(n[s]=n.hasVirtualBinding=!0);t=t.parentNode}return n}function C(t,n){var r;while(t){r=e.data(t,i);if(r&&(!n||r[n]))return t;t=t.parentNode}return null}function k(){g=!1}function L(){g=!0}function A(){E=0,v.length=0,m=!1,L()}function O(){k()}function M(){_(),c=setTimeout(function(){c=0,A()},e.vmouse.resetTimerDuration)}function _(){c&&(clearTimeout(c),c=0)}function D(t,n,r){var i;if(r&&r[t]||!r&&C(n.target,t))i=T(n,t),e(n.target).trigger(i);return i}function P(t){var n=e.data(t.target,s);if(!m&&(!E||E!==n)){var r=D("v"+t.type,t);r&&(r.isDefaultPrevented()&&t.preventDefault(),r.isPropagationStopped()&&t.stopPropagation(),r.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function H(t){var n=x(t).touches,r,i;if(n&&n.length===1){r=t.target,i=N(r);if(i.hasVirtualBinding){E=w++,e.data(r,s,E),_(),O(),d=!1;var o=x(t).touches[0];h=o.pageX,p=o.pageY,D("vmouseover",t,i),D("vmousedown",t,i)}}}function B(e){if(g)return;d||D("vmousecancel",e,N(e.target)),d=!0,M()}function j(t){if(g)return;var n=x(t).touches[0],r=d,i=e.vmouse.moveDistanceThreshold,s=N(t.target);d=d||Math.abs(n.pageX-h)>i||Math.abs(n.pageY-p)>i,d&&!r&&D("vmousecancel",t,s),D("vmousemove",t,s),M()}function F(e){if(g)return;L();var t=N(e.target),n;D("vmouseup",e,t);if(!d){var r=D("vclick",e,t);r&&r.isDefaultPrevented()&&(n=x(e).changedTouches[0],v.push({touchID:E,x:n.clientX,y:n.clientY}),m=!0)}D("vmouseout",e,t),d=!1,M()}function I(t){var n=e.data(t,i),r;if(n)for(r in n)if(n[r])return!0;return!1}function q(){}function R(t){var n=t.substr(1);return{setup:function(r,s){I(this)||e.data(this,i,{});var o=e.data(this,i);o[t]=!0,l[t]=(l[t]||0)+1,l[t]===1&&b.bind(n,P),e(this).bind(n,q),y&&(l.touchstart=(l.touchstart||0)+1,l.touchstart===1&&b.bind("touchstart",H).bind("touchend",F).bind("touchmove",j).bind("scroll",B))},teardown:function(r,s){--l[t],l[t]||b.unbind(n,P),y&&(--l.touchstart,l.touchstart||b.unbind("touchstart",H).unbind("touchmove",j).unbind("touchend",F).unbind("scroll",B));var o=e(this),u=e.data(this,i);u&&(u[t]=!1),o.unbind(n,q),I(this)||o.removeData(i)}}}var i="virtualMouseBindings",s="virtualTouchID",o="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),u="clientX clientY pageX pageY screenX screenY".split(" "),a=e.event.mouseHooks?e.event.mouseHooks.props:[],f=e.event.props.concat(a),l={},c=0,h=0,p=0,d=!1,v=[],m=!1,g=!1,y="addEventListener"in n,b=e(n),w=1,E=0,S;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var U=0;U<o.length;U++)e.event.special[o[U]]=R(o[U]);y&&n.addEventListener("click",function(t){var n=v.length,r=t.target,i,o,u,a,f,l;if(n){i=t.clientX,o=t.clientY,S=e.vmouse.clickDistanceThreshold,u=r;while(u){for(a=0;a<n;a++){f=v[a],l=0;if(u===r&&Math.abs(f.x-i)<S&&Math.abs(f.y-o)<S||e.data(u,s)===f.touchID){t.preventDefault(),t.stopPropagation();return}}u=u.parentNode}}},!0)}(e,t,n),function(e,t){var r={touch:"ontouchend"in n};e.mobile=e.mobile||{},e.mobile.support=e.mobile.support||{},e.extend(e.support,r),e.extend(e.mobile.support,r)}(e),function(e,t,r){function f(t,n,r){var i=r.type;r.type=n,e.event.handle.call(t,r),r.type=i}e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)});var i=e.mobile.support.touch,s="touchmove scroll",o=i?"touchstart":"mousedown",u=i?"touchend":"mouseup",a=i?"touchmove":"mousemove";e.event.special.scrollstart={enabled:!0,setup:function(){function o(e,n){r=n,f(t,r?"scrollstart":"scrollstop",e)}var t=this,n=e(t),r,i;n.bind(s,function(t){if(!e.event.special.scrollstart.enabled)return;r||o(t,!0),clearTimeout(i),i=setTimeout(function(){o(t,!1)},50)})}},e.event.special.tap={tapholdThreshold:750,setup:function(){var t=this,r=e(t);r.bind("vmousedown",function(i){function a(){clearTimeout(u)}function l(){a(),r.unbind("vclick",c).unbind("vmouseup",a),e(n).unbind("vmousecancel",l)}function c(e){l(),s===e.target&&f(t,"tap",e)}if(i.which&&i.which!==1)return!1;var s=i.target,o=i.originalEvent,u;r.bind("vmouseup",a).bind("vclick",c),e(n).bind("vmousecancel",l),u=setTimeout(function(){f(t,"taphold",e.Event("taphold",{target:s}))},e.event.special.tap.tapholdThreshold)})}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var t=this,n=e(t);n.bind(o,function(t){function f(t){if(!s)return;var n=t.originalEvent.touches?t.originalEvent.touches[0]:t;o={time:(new Date).getTime(),coords:[n.pageX,n.pageY]},Math.abs(s.coords[0]-o.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault()}var i=t.originalEvent.touches?t.originalEvent.touches[0]:t,s={time:(new Date).getTime(),coords:[i.pageX,i.pageY],origin:e(t.target)},o;n.bind(a,f).one(u,function(t){n.unbind(a,f),s&&o&&o.time-s.time<e.event.special.swipe.durationThreshold&&Math.abs(s.coords[0]-o.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(s.coords[1]-o.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&s.origin.trigger("swipe").trigger(s.coords[0]>o.coords[0]?"swipeleft":"swiperight"),s=o=r})})}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)}}})}(e,this),function(e,n){e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t})}(e),function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",n)},teardown:function(){e(this).unbind("resize",n)}};var t=250,n=function(){s=(new Date).getTime(),o=s-r,o>=t?(r=s,e(this).trigger("throttledresize")):(i&&clearTimeout(i),i=setTimeout(n,t-o))},r=0,i,s,o}(e),function(e,t){function d(){var e=o();e!==u&&(u=e,r.trigger(i))}var r=e(t),i="orientationchange",s,o,u,a,f,l={0:!0,180:!0};if(e.support.orientation){var c=t.innerWidth||e(t).width(),h=t.innerHeight||e(t).height(),p=50;a=c>h&&c-h>p,f=l[t.orientation];if(a&&f||!a&&!f)l={"-90":!0,90:!0}}e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled)return!1;u=o(),r.bind("throttledresize",d)},teardown:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled)return!1;r.unbind("throttledresize",d)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=o(),t.apply(this,arguments)}}}),e.event.special.orientationchange.orientation=o=function(){var r=!0,i=n.documentElement;return e.support.orientation?r=l[t.orientation]:r=i&&i.clientWidth/i.clientHeight<1.1,r?"portrait":"landscape"},e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)}(e,this),function(e,r){var i=e(t),s=e("html");e.mobile.media=function(){var t={},r=e("<div id='jquery-mediatest'></div>"),i=e("<body>").append(r);return function(e){if(!(e in t)){var o=n.createElement("style"),u="@media "+e+" { #jquery-mediatest { position:absolute; } }";o.type="text/css",o.styleSheet?o.styleSheet.cssText=u:o.appendChild(n.createTextNode(u)),s.prepend(i).prepend(o),t[e]=r.css("position")==="absolute",i.add(o).remove()}return t[e]}}()}(e),function(e,r){function i(e){var t=e.charAt(0).toUpperCase()+e.substr(1),n=(e+" "+u.join(t+" ")+t).split(" ");for(var i in n)if(o[n[i]]!==r)return!0}function h(e,t,r){var i=n.createElement("div"),s=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},o=function(e){return"-"+e.charAt(0).toLowerCase()+e.substr(1)+"-"},a=function(n){var r=o(n)+e+": "+t+";",u=s(n),a=u+s(e);i.setAttribute("style",r),!i.style[a]||(l=!0)},f=r?[r]:u,l;for(var c=0;c<f.length;c++)a(f[c]);return!!l}function p(){var t="transform-3d";return h("perspective","10px","moz")||e.mobile.media("(-"+u.join("-"+t+"),(-")+"-"+t+"),("+t+")")}function d(){var t=location.protocol+"//"+location.host+location.pathname+"ui-dir/",n=e("head base"),r=null,i="",o,u;return n.length?i=n.attr("href"):n=r=e("<base>",{href:t}).appendTo("head"),o=e("<a href='testurl' />").prependTo(s),u=o[0].href,n[0].href=i||location.pathname,r&&r.remove(),u.indexOf(t)===0}function v(){var e=n.createElement("x"),r=n.documentElement,i=t.getComputedStyle,s;return"pointerEvents"in e.style?(e.style.pointerEvents="auto",e.style.pointerEvents="x",r.appendChild(e),s=i&&i(e,"").pointerEvents==="auto",r.removeChild(e),!!s):!1}function m(){var e=n.createElement("div");return typeof e.getBoundingClientRect!="undefined"}var s=e("<body>").prependTo("html"),o=s[0].style,u=["Webkit","Moz","O"],a="palmGetResource"in t,f=t.opera,l=t.operamini&&{}.toString.call(t.operamini)==="[object OperaMini]",c=t.blackberry&&!i("-webkit-transform");e.extend(e.mobile,{browser:{}}),e.mobile.browser.ie=function(){var e=3,t=n.createElement("div"),r=t.all||[];do t.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]-->";while(r[0]);return e>4?e:!e}(),e.extend(e.support,{cssTransitions:"WebKitTransitionEvent"in t||h("transition","height 100ms linear")&&!f,pushState:"pushState"in history&&"replaceState"in history,mediaquery:e.mobile.media("only all"),cssPseudoElement:!!i("content"),touchOverflow:!!i("overflowScrolling"),cssTransform3d:p(),boxShadow:!!i("boxShadow")&&!c,scrollTop:("pageXOffset"in t||"scrollTop"in n.documentElement||"scrollTop"in s[0])&&!a&&!l,dynamicBaseTag:d(),cssPointerEvents:v(),boundingRect:m()}),s.remove();var g=function(){var e=t.navigator.userAgent;return e.indexOf("Nokia")>-1&&(e.indexOf("Symbian/3")>-1||e.indexOf("Series60/5")>-1)&&e.indexOf("AppleWebKit")>-1&&e.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();e.mobile.gradeA=function(){return(e.support.mediaquery||e.mobile.browser.ie&&e.mobile.browser.ie>=7)&&(e.support.boundingRect||e.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/)!==null)},e.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||l||g,g&&e(function(){e("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),e.support.boxShadow||e("html").addClass("ui-mobile-nosupport-boxshadow")}(e),function(e,t){e.widget("mobile.page",e.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){var e=this;if(e._trigger("beforecreate")===!1)return!1;e.element.attr("tabindex","0").addClass("ui-page ui-body-"+e.options.theme).bind("pagebeforehide",function(){e.removeContainerBackground()}).bind("pagebeforeshow",function(){e.setContainerBackground()})},removeContainerBackground:function(){e.mobile.pageContainer.removeClass("ui-overlay-"+e.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(t){this.options.theme&&e.mobile.pageContainer.addClass("ui-overlay-"+(t||this.options.theme))},keepNativeSelector:function(){var t=this.options,n=t.keepNative&&e.trim(t.keepNative);return n&&t.keepNative!==t.keepNativeDefault?[t.keepNative,t.keepNativeDefault].join(", "):t.keepNativeDefault}})}(e),function(e,t,r){function l(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var i="hashchange",s=n,o,u=e.event.special,a=s.documentMode,f="on"+i in t&&(a===r||a>7);e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.fn[i].delay=50,u[i]=e.extend(u[i],{setup:function(){if(f)return!1;e(o.start)},teardown:function(){if(f)return!1;e(o.stop)}}),o=function(){function p(){var n=l(),r=h(u);n!==u?(c(u=n,r),e(t).trigger(i)):r!==u&&(location.href=location.href.replace(/#.*/,"")+r),o=setTimeout(p,e.fn[i].delay)}var n={},o,u=l(),a=function(e){return e},c=a,h=a;return n.start=function(){o||p()},n.stop=function(){o&&clearTimeout(o),o=r},e.browser.msie&&!f&&function(){var t,r;n.start=function(){t||(r=e.fn[i].src,r=r&&r+l(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||c(l()),p()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow,s.onpropertychange=function(){try{event.propertyName==="title"&&(t.document.title=s.title)}catch(e){}})},n.stop=a,h=function(){return l(t.location.href)},c=function(n,r){var o=t.document,u=e.fn[i].domain;n!==r&&(o.title=s.title,o.open(),u&&o.write('<script>document.domain="'+u+'"</script>'),o.close(),t.location.hash=n)}}(),n}()}(e,this),function(e,t,n){var r=function(r){return r===n&&(r=!0),function(n,i,s,o){var u=new e.Deferred,a=i?" reverse":"",f=e.mobile.urlHistory.getActive(),l=f.lastScroll||e.mobile.defaultHomeScroll,c=e.mobile.getScreenHeight(),h=e.mobile.maxTransitionWidth!==!1&&e(t).width()>e.mobile.maxTransitionWidth,p=!e.support.cssTransitions||h||!n||n==="none"||Math.max(e(t).scrollTop(),l)>e.mobile.getMaxScrollForTransition(),d=" ui-page-pre-in",v=function(){e.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+n)},m=function(){e.event.special.scrollstart.enabled=!1,t.scrollTo(0,l),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},g=function(){o.removeClass(e.mobile.activePageClass+" out in reverse "+n).height("")},y=function(){r?o.animationComplete(b):b(),o.height(c+e(t).scrollTop()).addClass(n+" out"+a)},b=function(){o&&r&&g(),w()},w=function(){s.css("z-index",-10),s.addClass(e.mobile.activePageClass+d),e.mobile.focusPage(s),s.height(c+l),m(),s.css("z-index",""),p||s.animationComplete(E),s.removeClass(d).addClass(n+" in"+a),p&&E()},E=function(){r||o&&g(),s.removeClass("out in reverse "+n).height(""),v(),e(t).scrollTop()!==l&&m(),u.resolve(n,i,s,o,!0)};return v(),o&&!p?y():b(),u.promise()}},i=r(),s=r(!1),o=function(){return e.mobile.getScreenHeight()*3};e.mobile.defaultTransitionHandler=i,e.mobile.transitionHandlers={"default":e.mobile.defaultTransitionHandler,sequential:i,simultaneous:s},e.mobile.transitionFallbacks={},e.mobile._maybeDegradeTransition=function(t){return t&&!e.support.cssTransform3d&&e.mobile.transitionFallbacks[t]&&(t=e.mobile.transitionFallbacks[t]),t},e.mobile.getMaxScrollForTransition=e.mobile.getMaxScrollForTransition||o}(e,this),function(e,r){function w(t){!!a&&(!a.closest("."+e.mobile.activePageClass).length||t)&&a.removeClass(e.mobile.activeBtnClass),a=null}function E(){h=!1,c.length>0&&e.mobile.changePage.apply(null,c.pop())}function N(t,n,r,i){n&&n.data("page")._trigger("beforehide",null,{nextPage:t}),t.data("page")._trigger("beforeshow",null,{prevPage:n||e("")}),e.mobile.hidePageLoadingMsg(),r=e.mobile._maybeDegradeTransition(r);var s=e.mobile.transitionHandlers[r||"default"]||e.mobile.defaultTransitionHandler,o=s(r,i,t,n);return o.done(function(){n&&n.data("page")._trigger("hide",null,{nextPage:t}),t.data("page")._trigger("show",null,{prevPage:n||e("")})}),o}function C(){var t=e("."+e.mobile.activePageClass),n=parseFloat(t.css("padding-top")),r=parseFloat(t.css("padding-bottom")),i=parseFloat(t.css("border-top-width")),s=parseFloat(t.css("border-bottom-width"));t.css("min-height",y()-n-r-i-s)}function k(t,n){n&&t.attr("data-"+e.mobile.ns+"role",n),t.page()}function L(e){while(e){if(typeof e.nodeName=="string"&&e.nodeName.toLowerCase()==="a")break;e=e.parentNode}return e}function A(t){var n=e(t).closest(".ui-page").jqmData("url"),r=m.hrefNoHash;if(!n||!u.isPath(n))n=r;return u.makeUrlAbsolute(n,r)}var i=e(t),s=e("html"),o=e("head"),u={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(e){var t=e?this.parseUrl(e):location,n=this.parseUrl(e||location.href).hash;return n=n==="#"?"":n,t.protocol+"//"+t.host+t.pathname+t.search+n},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if(e.type(t)==="object")return t;var n=u.urlParseRE.exec(t||"")||[];return{href:n[0]||"",hrefNoHash:n[1]||"",hrefNoSearch:n[2]||"",domain:n[3]||"",protocol:n[4]||"",doubleSlash:n[5]||"",authority:n[6]||"",username:n[8]||"",password:n[9]||"",host:n[10]||"",hostname:n[11]||"",port:n[12]||"",pathname:n[13]||"",directory:n[14]||"",filename:n[15]||"",search:n[16]||"",hash:n[17]||""}},makePathAbsolute:function(e,t){if(e&&e.charAt(0)==="/")return e;e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";var n=t?t.split("/"):[],r=e.split("/");for(var i=0;i<r.length;i++){var s=r[i];switch(s){case".":break;case"..":n.length&&n.pop();break;default:n.push(s)}}return"/"+n.join("/")},isSameDomain:function(e,t){return u.parseUrl(e).domain===u.parseUrl(t).domain},isRelativeUrl:function(e){return u.parseUrl(e).protocol===""},isAbsoluteUrl:function(e){return u.parseUrl(e).protocol!==""},makeUrlAbsolute:function(e,t){if(!u.isRelativeUrl(e))return e;t===r&&(t=m);var n=u.parseUrl(e),i=u.parseUrl(t),s=n.protocol||i.protocol,o=n.protocol?n.doubleSlash:n.doubleSlash||i.doubleSlash,a=n.authority||i.authority,f=n.pathname!=="",l=u.makePathAbsolute(n.pathname||i.filename,i.pathname),c=n.search||!f&&i.search||"",h=n.hash;return s+o+a+l+c+h},addSearchParams:function(t,n){var r=u.parseUrl(t),i=typeof n=="object"?e.param(n):n,s=r.search||"?";return r.hrefNoSearch+s+(s.charAt(s.length-1)!=="?"?"&":"")+i+(r.hash||"")},convertUrlToDataUrl:function(e){var n=u.parseUrl(e);return u.isEmbeddedPage(n)?n.hash.split(p)[0].replace(/^#/,""):u.isSameDomain(n,m)?n.hrefNoHash.replace(m.domain,"").split(p)[0]:t.decodeURIComponent(e)},get:function(e){return e===r&&(e=u.parseLocation().hash),u.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(t){var n="&"+e.mobile.subPageUrlKey;return t&&t.split(n)[0].split(p)[0]},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(m.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},cleanHash:function(e){return u.stripHash(e.replace(/\?.*$/,"").replace(p,""))},isHashValid:function(e){return/^#[^#]+$/.test(e)},isExternal:function(e){var t=u.parseUrl(e);return t.protocol&&t.domain!==v.domain?!0:!1},hasProtocol:function(e){return/^(:?\w+:)/.test(e)},isFirstPageUrl:function(t){var n=u.parseUrl(u.makeUrlAbsolute(t,m)),i=n.hrefNoHash===v.hrefNoHash||g&&n.hrefNoHash===m.hrefNoHash,s=e.mobile.firstPage,o=s&&s[0]?s[0].id:r;return i&&(!n.hash||n.hash==="#"||o&&n.hash.replace(/^#/,"")===o)},isEmbeddedPage:function(e){var t=u.parseUrl(e);return t.protocol!==""?t.hash&&(t.hrefNoHash===v.hrefNoHash||g&&t.hrefNoHash===m.hrefNoHash):/^#/.test(t.href)},isPermittedCrossDomainRequest:function(t,n){return e.mobile.allowCrossDomainPages&&t.protocol==="file:"&&n.search(/^https?:/)!==-1}},a=null,f={stack:[],activeIndex:0,getActive:function(){return f.stack[f.activeIndex]},getPrev:function(){return f.stack[f.activeIndex-1]},getNext:function(){return f.stack[f.activeIndex+1]},addNew:function(e,t,n,r,i){f.getNext()&&f.clearForward(),f.stack.push({url:e,transition:t,title:n,pageUrl:r,role:i}),f.activeIndex=f.stack.length-1},clearForward:function(){f.stack=f.stack.slice(0,f.activeIndex+1)},directHashChange:function(t){var n,i,s,o=this.getActive();e.each(f.stack,function(e,r){decodeURIComponent(t.currentUrl)===decodeURIComponent(r.url)&&(n=e<f.activeIndex,i=!n,s=e)}),this.activeIndex=s!==r?s:this.activeIndex,n?(t.either||t.isBack)(!0):i&&(t.either||t.isForward)(!1)},ignoreNextHashChange:!1},l="[tabindex],a,button:visible,select:visible,input",c=[],h=!1,p="&ui-state=dialog",d=o.children("base"),v=u.parseLocation(),m=d.length?u.parseUrl(u.makeUrlAbsolute(d.attr("href"),v.href)):v,g=v.hrefNoHash!==m.hrefNoHash,y=e.mobile.getScreenHeight,b=e.support.dynamicBaseTag?{element:d.length?d:e("<base>",{href:m.hrefNoHash}).prependTo(o),set:function(e){b.element.attr("href",u.makeUrlAbsolute(e,m))},reset:function(){b.element.attr("href",m.hrefNoHash)}}:r;e.mobile.back=function(){var e=t.navigator;this.phonegapNavigationEnabled&&e&&e.app&&e.app.backHistory?e.app.backHistory():t.history.back()},e.mobile.focusPage=function(e){var t=e.find("[autofocus]"),n=e.find(".ui-title:eq(0)");if(t.length){t.focus();return}n.length?n.focus():e.focus()};var S=!0,x,T;x=function(){if(!S)return;var t=e.mobile.urlHistory.getActive();if(t){var n=i.scrollTop();t.lastScroll=n<e.mobile.minScrollBack?e.mobile.defaultHomeScroll:n}},T=function(){setTimeout(x,100)},i.bind(e.support.pushState?"popstate":"hashchange",function(){S=!1}),i.one(e.support.pushState?"popstate":"hashchange",function(){S=!0}),i.one("pagecontainercreate",function(){e.mobile.pageContainer.bind("pagechange",function(){S=!0,i.unbind("scrollstop",T),i.bind("scrollstop",T)})}),i.bind("scrollstop",T),e.mobile._maybeDegradeTransition=e.mobile._maybeDegradeTransition||function(e){return e},e.fn.animationComplete=function(t){return e.support.cssTransitions?e(this).one("webkitAnimationEnd animationend",t):(setTimeout(t,0),e(this))},e.mobile.path=u,e.mobile.base=b,e.mobile.urlHistory=f,e.mobile.dialogHashKey=p,e.mobile.allowCrossDomainPages=!1,e.mobile.getDocumentUrl=function(t){return t?e.extend({},v):v.href},e.mobile.getDocumentBase=function(t){return t?e.extend({},m):m.href},e.mobile._bindPageRemove=function(){var t=e(this);!t.data("page").options.domCache&&t.is(":jqmData(external-page='true')")&&t.bind("pagehide.remove",function(){var t=e(this),n=new e.Event("pageremove");t.trigger(n),n.isDefaultPrevented()||t.removeWithDependents()})},e.mobile.loadPage=function(t,n){var i=e.Deferred(),s=e.extend({},e.mobile.loadPage.defaults,n),o=null,a=null,f=function(){var t=e.mobile.activePage&&A(e.mobile.activePage);return t||m.hrefNoHash},l=u.makeUrlAbsolute(t,f());s.data&&s.type==="get"&&(l=u.addSearchParams(l,s.data),s.data=r),s.data&&s.type==="post"&&(s.reloadPage=!0);var c=u.getFilePath(l),h=u.convertUrlToDataUrl(l);s.pageContainer=s.pageContainer||e.mobile.pageContainer,o=s.pageContainer.children("[data-"+e.mobile.ns+"url='"+h+"']"),o.length===0&&h&&!u.isPath(h)&&(o=s.pageContainer.children("#"+h).attr("data-"+e.mobile.ns+"url",h).jqmData("url",h));if(o.length===0)if(e.mobile.firstPage&&u.isFirstPageUrl(c))e.mobile.firstPage.parent().length&&(o=e(e.mobile.firstPage));else if(u.isEmbeddedPage(c))return i.reject(l,n),i.promise();if(o.length){if(!s.reloadPage)return k(o,s.role),i.resolve(l,n,o),i.promise();a=o}var p=s.pageContainer,d=new e.Event("pagebeforeload"),g={url:t,absUrl:l,dataUrl:h,deferred:i,options:s};p.trigger(d,g);if(d.isDefaultPrevented())return i.promise();if(s.showLoadMsg)var y=setTimeout(function(){e.mobile.showPageLoadingMsg()},s.loadMsgDelay),w=function(){clearTimeout(y),e.mobile.hidePageLoadingMsg()};return b&&b.reset(),!e.mobile.allowCrossDomainPages&&!u.isSameDomain(v,l)?i.reject(l,n):e.ajax({url:c,type:s.type,data:s.data,dataType:"html",success:function(r,f,p){var d=e("<div></div>"),v=r.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,m=new RegExp("(<[^>]+\\bdata-"+e.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),y=new RegExp("\\bdata-"+e.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");m.test(r)&&RegExp.$1&&y.test(RegExp.$1)&&RegExp.$1&&(t=c=u.getFilePath(e("<div>"+RegExp.$1+"</div>").text())),b&&b.set(c),d.get(0).innerHTML=r,o=d.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),o.length||(o=e("<div data-"+e.mobile.ns+"role='page'>"+r.split(/<\/?body[^>]*>/gmi)[1]+"</div>")),v&&!o.jqmData("title")&&(~v.indexOf("&")&&(v=e("<div>"+v+"</div>").text()),o.jqmData("title",v));if(!e.support.dynamicBaseTag){var E=u.get(c);o.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var t=e(this).is("[href]")?"href":e(this).is("[src]")?"src":"action",n=e(this).attr(t);n=n.replace(location.protocol+"//"+location.host+location.pathname,""),/^(\w+:|#|\/)/.test(n)||e(this).attr(t,E+n)})}o.attr("data-"+e.mobile.ns+"url",u.convertUrlToDataUrl(c)).attr("data-"+e.mobile.ns+"external-page",!0).appendTo(s.pageContainer),o.one("pagecreate",e.mobile._bindPageRemove),k(o,s.role),l.indexOf("&"+e.mobile.subPageUrlKey)>-1&&(o=s.pageContainer.children("[data-"+e.mobile.ns+"url='"+h+"']")),s.showLoadMsg&&w(),g.xhr=p,g.textStatus=f,g.page=o,s.pageContainer.trigger("pageload",g),i.resolve(l,n,o,a)},error:function(t,r,o){b&&b.set(u.get()),g.xhr=t,g.textStatus=r,g.errorThrown=o;var a=new e.Event("pageloadfailed");s.pageContainer.trigger(a,g);if(a.isDefaultPrevented())return;s.showLoadMsg&&(w(),e.mobile.showPageLoadingMsg(e.mobile.pageLoadErrorMessageTheme,e.mobile.pageLoadErrorMessage,!0),setTimeout(e.mobile.hidePageLoadingMsg,1500)),i.reject(l,n)}}),i.promise()},e.mobile.loadPage.defaults={type:"get",data:r,reloadPage:!1,role:r,showLoadMsg:!1,pageContainer:r,loadMsgDelay:50},e.mobile.changePage=function(t,i){if(h){c.unshift(arguments);return}var s=e.extend({},e.mobile.changePage.defaults,i);s.pageContainer=s.pageContainer||e.mobile.pageContainer,s.fromPage=s.fromPage||e.mobile.activePage;var o=s.pageContainer,a=new e.Event("pagebeforechange"),l={toPage:t,options:s};o.trigger(a,l);if(a.isDefaultPrevented())return;t=l.toPage,h=!0;if(typeof t=="string"){e.mobile.loadPage(t,s).done(function(t,n,r,i){h=!1,n.duplicateCachedPage=i,e.mobile.changePage(r,n)}).fail(function(e,t){h=!1,w(!0),E(),s.pageContainer.trigger("pagechangefailed",l)});return}t[0]===e.mobile.firstPage[0]&&!s.dataUrl&&(s.dataUrl=v.hrefNoHash);var d=s.fromPage,m=s.dataUrl&&u.convertUrlToDataUrl(s.dataUrl)||t.jqmData("url"),g=m,y=u.getFilePath(m),b=f.getActive(),S=f.activeIndex===0,x=0,T=n.title,C=s.role==="dialog"||t.jqmData("role")==="dialog";if(d&&d[0]===t[0]&&!s.allowSamePageTransition){h=!1,o.trigger("pagechange",l),s.fromHashChange&&f.directHashChange({currentUrl:m,isBack:function(){},isForward:function(){}});return}k(t,s.role),s.fromHashChange&&f.directHashChange({currentUrl:m,isBack:function(){x=-1},isForward:function(){x=1}});try{n.activeElement&&n.activeElement.nodeName.toLowerCase()!=="body"?e(n.activeElement).blur():e("input:focus, textarea:focus, select:focus").blur()}catch(L){}var A=!1;C&&b&&(b.url.indexOf(p)>-1&&!e.mobile.activePage.is(".ui-dialog")&&(s.changeHash=!1,A=!0),m=(b.url||"")+(A?"":p),f.activeIndex===0&&m===f.initialDst&&(m+=p)),s.changeHash!==!1&&m&&(f.ignoreNextHashChange=!0,u.set(m));var O=b?t.jqmData("title")||t.children(":jqmData(role='header')").find(".ui-title").getEncodedText():T;!!O&&T===n.title&&(T=O),t.jqmData("title")||t.jqmData("title",T),s.transition=s.transition||(x&&!S?b.transition:r)||(C?e.mobile.defaultDialogTransition:e.mobile.defaultPageTransition),x||(A&&(f.activeIndex=Math.max(0,f.activeIndex-1)),f.addNew(m,s.transition,T,g,s.role)),n.title=f.getActive().title,e.mobile.activePage=t,s.reverse=s.reverse||x<0,N(t,d,s.transition,s.reverse).done(function(n,r,i,u,a){w(),s.duplicateCachedPage&&s.duplicateCachedPage.remove(),a||e.mobile.focusPage(t),E(),o.trigger("pagechange",l)})},e.mobile.changePage.defaults={transition:r,reverse:!1,changeHash:!0,fromHashChange:!1,role:r,duplicateCachedPage:r,pageContainer:r,showLoadMsg:!0,dataUrl:r,fromPage:r,allowSamePageTransition:!1},e.mobile.navreadyDeferred=e.Deferred(),e.mobile.navreadyDeferred.done(function(){e(n).delegate("form","submit",function(t){var n=e(this);if(!e.mobile.ajaxEnabled||n.is(":jqmData(ajax='false')")||!n.jqmHijackable().length)return;var r=n.attr("method"),i=n.attr("target"),s=n.attr("action");s||(s=A(n),s===m.hrefNoHash&&(s=v.hrefNoSearch)),s=u.makeUrlAbsolute(s,A(n));if(u.isExternal(s)&&!u.isPermittedCrossDomainRequest(v,s)||i)return;e.mobile.changePage(s,{type:r&&r.length&&r.toLowerCase()||"get",data:n.serialize(),transition:n.jqmData("transition"),reverse:n.jqmData("direction")==="reverse",reloadPage:!0}),t.preventDefault()}),e(n).bind("vclick",function(t){if(t.which>1||!e.mobile.linkBindingEnabled)return;var n=L(t.target);if(!e(n).jqmHijackable().length)return;n&&u.parseUrl(n.getAttribute("href")||"#").hash!=="#"&&(w(!0),a=e(n).closest(".ui-btn").not(".ui-disabled"),a.addClass(e.mobile.activeBtnClass))}),e(n).bind("click",function(n){if(!e.mobile.linkBindingEnabled)return;var i=L(n.target),s=e(i),o;if(!i||n.which>1||!s.jqmHijackable().length)return;o=function(){t.setTimeout(function(){w(!0)},200)};if(s.is(":jqmData(rel='back')"))return e.mobile.back(),!1;var a=A(s),f=u.makeUrlAbsolute(s.attr("href")||"#",a);if(!e.mobile.ajaxEnabled&&!u.isEmbeddedPage(f)){o();return}if(f.search("#")!==-1){f=f.replace(/[^#]*#/,"");if(!f){n.preventDefault();return}u.isPath(f)?f=u.makeUrlAbsolute(f,a):f=u.makeUrlAbsolute("#"+f,v.hrefNoHash)}var l=s.is("[rel='external']")||s.is(":jqmData(ajax='false')")||s.is("[target]"),c=l||u.isExternal(f)&&!u.isPermittedCrossDomainRequest(v,f);if(c){o();return}var h=s.jqmData("transition"),p=s.jqmData("direction")==="reverse"||s.jqmData("back"),d=s.attr("data-"+e.mobile.ns+"rel")||r;e.mobile.changePage(f,{transition:h,reverse:p,role:d,link:s}),n.preventDefault()}),e(n).delegate(".ui-page","pageshow.prefetch",function(){var t=[];e(this).find("a:jqmData(prefetch)").each(function(){var n=e(this),r=n.attr("href");r&&e.inArray(r,t)===-1&&(t.push(r),e.mobile.loadPage(r,{role:n.attr("data-"+e.mobile.ns+"rel")}))})}),e.mobile._handleHashChange=function(n){var i=u.stripHash(n),s=e.mobile.urlHistory.stack.length===0?"none":r,o=new e.Event("navigate"),a={transition:s,changeHash:!1,fromHashChange:!0};0===f.stack.length&&(f.initialDst=i),e.mobile.pageContainer.trigger(o);if(o.isDefaultPrevented())return;if(!e.mobile.hashListeningEnabled||f.ignoreNextHashChange){f.ignoreNextHashChange=!1;return}if(f.stack.length>1&&i.indexOf(p)>-1&&f.initialDst!==i){if(!e.mobile.activePage.is(".ui-dialog")){f.directHashChange({currentUrl:i,isBack:function(){e.mobile.back()},isForward:function(){t.history.forward()}});return}f.directHashChange({currentUrl:i,either:function(t){var n=e.mobile.urlHistory.getActive();i=n.pageUrl,e.extend(a,{role:n.role,transition:n.transition,reverse:t})}})}i?(i=typeof i=="string"&&!u.isPath(i)?u.makeUrlAbsolute("#"+i,m):i,i===u.makeUrlAbsolute("#"+f.initialDst,m)&&f.stack.length&&f.stack[0].url!==f.initialDst.replace(p,"")&&(i=e.mobile.firstPage),e.mobile.changePage(i,a)):e.mobile.changePage(e.mobile.firstPage,a)},i.bind("hashchange",function(t,n){e.mobile._handleHashChange(u.parseLocation().hash)}),e(n).bind("pageshow",C),e(t).bind("throttledresize",C)})}(e),function(e,t){var i={},s=i,o=e(t),u=e.mobile.path.parseLocation(),a=e.Deferred(),f=e.Deferred();e(n).ready(e.proxy(f,"resolve")),e(n).one("mobileinit",e.proxy(a,"resolve")),e.extend(i,{initialFilePath:function(){return u.pathname+u.search}(),hashChangeTimeout:200,hashChangeEnableTimer:r,initialHref:u.hrefNoHash,state:function(){return{hash:e.mobile.path.parseLocation().hash||"#"+s.initialFilePath,title:n.title,initialHref:s.initialHref}},resetUIKeys:function(t){var n=e.mobile.dialogHashKey,r="&"+e.mobile.subPageUrlKey,i=t.indexOf(n);return i>-1?t=t.slice(0,i)+"#"+t.slice(i):t.indexOf(r)>-1&&(t=t.split(r).join("#"+r)),t},nextHashChangePrevented:function(t){e.mobile.urlHistory.ignoreNextHashChange=t,s.onHashChangeDisabled=t},onHashChange:function(t){if(s.onHashChangeDisabled)return;var r,i,o=e.mobile.path.parseLocation().hash,u=e.mobile.path.isPath(o),a=u?e.mobile.path.getLocation():e.mobile.getDocumentUrl();o=u?o.replace("#",""):o,i=s.state(),r=e.mobile.path.makeUrlAbsolute(o,a),u&&(r=s.resetUIKeys(r)),history.replaceState(i,n.title,r)},onPopState:function(t){var n=t.originalEvent.state,r,i,o;n&&(clearTimeout(s.hashChangeEnableTimer),s.nextHashChangePrevented(!1),e.mobile._handleHashChange(n.hash),s.nextHashChangePrevented(!0),s.hashChangeEnableTimer=setTimeout(function(){s.nextHashChangePrevented(!1)},s.hashChangeTimeout))},init:function(){o.bind("hashchange",s.onHashChange),o.bind("popstate",s.onPopState),location.hash===""&&history.replaceState(s.state(),n.title,e.mobile.path.getLocation())}}),e.when(f,a,e.mobile.navreadyDeferred).done(function(){e.mobile.pushStateEnabled&&e.support.pushState&&i.init()})}(e,this),function(e,t,n){e.mobile.transitionFallbacks.flip="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.flow="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.pop="fade"}(e,this),function(e,t,n){e.mobile.transitionHandlers.slide=e.mobile.transitionHandlers.simultaneous,e.mobile.transitionFallbacks.slide="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.slidedown="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.slidefade="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.slideup="fade"}(e,this),function(e,t,n){e.mobile.transitionFallbacks.turn="fade"}(e,this),function(e,t){e.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},e(n).bind("pagecreate create",function(t){var n=e.mobile.closestPageData(e(t.target)),r;if(!n)return;r=n.options,e(t.target).find("input").not(n.keepNativeSelector()).each(function(){var t=e(this),n=this.getAttribute("type"),i=r.degradeInputs[n]||"text";if(r.degradeInputs[n]){var s=e("<div>").html(t.clone()).html(),o=s.indexOf(" type=")>-1,u=o?/\s+type=["']?\w+['"]?/:/\/?>/,a=' type="'+i+'" data-'+e.mobile.ns+'type="'+n+'"'+(o?"":">");t.replaceWith(s.replace(u,a))}})})}(e),function(e,t,r){e.widget("mobile.dialog",e.mobile.widget,{options:{closeBtnText:"Close",overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var t=this,n=this.element,r=e("<a href='#' data-"+e.mobile.ns+"icon='delete' data-"+e.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),i=e("<div/>",{role:"dialog","class":"ui-dialog-contain ui-corner-all ui-overlay-shadow"});n.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme),n.wrapInner(i).children().find(":jqmData(role='header')").prepend(r).end().children(":first-child").addClass("ui-corner-top").end().children(":last-child").addClass("ui-corner-bottom"),r.bind("click",function(){t.close()}),n.bind("vclick submit",function(t){var n=e(t.target).closest(t.type==="vclick"?"a":"form"),r;n.length&&!n.jqmData("transition")&&(r=e.mobile.urlHistory.getActive()||{},n.attr("data-"+e.mobile.ns+"transition",r.transition||e.mobile.defaultDialogTransition).attr("data-"+e.mobile.ns+"direction","reverse"))}).bind("pagehide",function(t,n){e(this).find("."+e.mobile.activeBtnClass).not(".ui-slider-bg").removeClass(e.mobile.activeBtnClass)}).bind("pagebeforeshow",function(){t._isCloseable=!0,t.options.overlayTheme&&t.element.page("removeContainerBackground").page("setContainerBackground",t.options.overlayTheme)})},close:function(){var t;this._isCloseable&&(this._isCloseable=!1,e.mobile.hashListeningEnabled?e.mobile.back():(t=e.mobile.urlHistory.getPrev().url,e.mobile.path.isPath(t)||(t=e.mobile.path.makeUrlAbsolute("#"+t)),e.mobile.changePage(t,{changeHash:!1,fromHashChange:!0})))}}),e(n).delegate(e.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){e.mobile.dialog.prototype.enhance(this)})}(e,this),function(e,t){e.mobile.page.prototype.options.backBtnText="Back",e.mobile.page.prototype.options.addBackBtn=!1,e.mobile.page.prototype.options.backBtnTheme=null,e.mobile.page.prototype.options.headerTheme="a",e.mobile.page.prototype.options.footerTheme="a",e.mobile.page.prototype.options.contentTheme=null,e(n).bind("pagecreate",function(t){var n=e(t.target),r=n.data("page").options,i=n.jqmData("role"),s=r.theme;e(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",n).jqmEnhanceable().each(function(){var t=e(this),u=t.jqmData("role"),a=t.jqmData("theme"),f=a||r.contentTheme||i==="dialog"&&s,l,c,h,p;t.addClass("ui-"+u);if(u==="header"||u==="footer"){var d=a||(u==="header"?r.headerTheme:r.footerTheme)||s;t.addClass("ui-bar-"+d).attr("role",u==="header"?"banner":"contentinfo"),u==="header"&&(l=t.children("a, button"),c=l.hasClass("ui-btn-left"),h=l.hasClass("ui-btn-right"),c=c||l.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,h=h||l.eq(1).addClass("ui-btn-right").length),r.addBackBtn&&u==="header"&&e(".ui-page").length>1&&n.jqmData("url")!==e.mobile.path.stripHash(location.hash)&&!c&&(p=e("<a href='javascript:void(0);' class='ui-btn-left' data-"+e.mobile.ns+"rel='back' data-"+e.mobile.ns+"icon='arrow-l'>"+r.backBtnText+"</a>").attr("data-"+e.mobile.ns+"theme",r.backBtnTheme||d).prependTo(t)),t.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else u==="content"&&(f&&t.addClass("ui-body-"+f),t.attr("role","main"))})})}(e),function(e,t){e.fn.fieldcontain=function(e){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return this.nodeType===3&&!/\S/.test(this.nodeValue)}).remove()},e(n).bind("pagecreate create",function(t){e(":jqmData(role='fieldcontain')",t.target).jqmEnhanceable().fieldcontain()})}(e),function(e,t){e.fn.grid=function(t){return this.each(function(){var n=e(this),r=e.extend({grid:null},t),i=n.children(),s={solo:1,a:2,b:3,c:4,d:5},o=r.grid,u;if(!o)if(i.length<=5)for(var a in s)s[a]===i.length&&(o=a);else o="a",n.addClass("ui-grid-duo");u=s[o],n.addClass("ui-grid-"+o),i.filter(":nth-child("+u+"n+1)").addClass("ui-block-a"),u>1&&i.filter(":nth-child("+u+"n+2)").addClass("ui-block-b"),u>2&&i.filter(":nth-child("+u+"n+3)").addClass("ui-block-c"),u>3&&i.filter(":nth-child("+u+"n+4)").addClass("ui-block-d"),u>4&&i.filter(":nth-child("+u+"n+5)").addClass("ui-block-e")})}}(e),function(e,t){e(n).bind("pagecreate create",function(t){e(":jqmData(role='nojs')",t.target).addClass("ui-nojs")})}(e),function(e,t){function r(e){var t;while(e){t=typeof e.className=="string"&&e.className+" ";if(t&&t.indexOf("ui-btn ")>-1&&t.indexOf("ui-disabled ")<0)break;e=e.parentNode}return e}e.fn.buttonMarkup=function(r){var s=this,o=function(t,n){f.setAttribute("data-"+e.mobile.ns+t,n),a.jqmData(t,n)};r=r&&e.type(r)==="object"?r:{};for(var u=0;u<s.length;u++){var a=s.eq(u),f=a[0],l=e.extend({},e.fn.buttonMarkup.defaults,{icon:r.icon!==t?r.icon:a.jqmData("icon"),iconpos:r.iconpos!==t?r.iconpos:a.jqmData("iconpos"),theme:r.theme!==t?r.theme:a.jqmData("theme")||e.mobile.getInheritedTheme(a,"c"),inline:r.inline!==t?r.inline:a.jqmData("inline"),shadow:r.shadow!==t?r.shadow:a.jqmData("shadow"),corners:r.corners!==t?r.corners:a.jqmData("corners"),iconshadow:r.iconshadow!==t?r.iconshadow:a.jqmData("iconshadow"),mini:r.mini!==t?r.mini:a.jqmData("mini")},r),c="ui-btn-inner",h="ui-btn-text",p,d,v,m,g,y;e.each(l,o),a.jqmData("rel")==="popup"&&a.attr("href")&&(f.setAttribute("aria-haspopup",!0),f.setAttribute("aria-owns",f.getAttribute("href"))),y=e.data(f.tagName==="INPUT"||f.tagName==="BUTTON"?f.parentNode:f,"buttonElements"),y?(f=y.outer,a=e(f),v=y.inner,m=y.text,e(y.icon).remove(),y.icon=null):(v=n.createElement(l.wrapperEls),m=n.createElement(l.wrapperEls)),g=l.icon?n.createElement("span"):null,i&&!y&&i(),l.theme||(l.theme=e.mobile.getInheritedTheme(a,"c")),p="ui-btn ui-btn-up-"+l.theme,p+=l.shadow?" ui-shadow":"",p+=l.corners?" ui-btn-corner-all":"",l.mini!==t&&(p+=l.mini===!0?" ui-mini":" ui-fullsize"),l.inline!==t&&(p+=l.inline===!0?" ui-btn-inline":" ui-btn-block"),l.icon&&(l.icon="ui-icon-"+l.icon,l.iconpos=l.iconpos||"left",d="ui-icon "+l.icon,l.iconshadow&&(d+=" ui-icon-shadow")),l.iconpos&&(p+=" ui-btn-icon-"+l.iconpos,l.iconpos==="notext"&&!a.attr("title")&&a.attr("title",a.getEncodedText())),c+=l.corners?" ui-btn-corner-all":"",l.iconpos&&l.iconpos==="notext"&&!a.attr("title")&&a.attr("title",a.getEncodedText()),y&&a.removeClass(y.bcls||""),a.removeClass("ui-link").addClass(p),v.className=c,m.className=h,y||v.appendChild(m);if(g){g.className=d;if(!y||!y.icon)g.innerHTML="&#160;",v.appendChild(g)}while(f.firstChild&&!y)m.appendChild(f.firstChild);y||f.appendChild(v),y={bcls:p,outer:f,inner:v,text:m,icon:g},e.data(f,"buttonElements",y),e.data(v,"buttonElements",y),e.data(m,"buttonElements",y),g&&e.data(g,"buttonElements",y)}return this},e.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,wrapperEls:"span"};var i=function(){var t=e.mobile.buttonMarkup.hoverDelay,s,o;e(n).bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(n){var i,u=e(r(n.target)),a=n.originalEvent&&/^touch/.test(n.originalEvent.type),f=n.type;if(u.length){i=u.attr("data-"+e.mobile.ns+"theme");if(f==="vmousedown")a?s=setTimeout(function(){u.removeClass("ui-btn-up-"+i).addClass("ui-btn-down-"+i)},t):u.removeClass("ui-btn-up-"+i).addClass("ui-btn-down-"+i);else if(f==="vmousecancel"||f==="vmouseup")u.removeClass("ui-btn-down-"+i).addClass("ui-btn-up-"+i);else if(f==="vmouseover"||f==="focus")a?o=setTimeout(function(){u.removeClass("ui-btn-up-"+i).addClass("ui-btn-hover-"+i)},t):u.removeClass("ui-btn-up-"+i).addClass("ui-btn-hover-"+i);else if(f==="vmouseout"||f==="blur"||f==="scrollstart")u.removeClass("ui-btn-hover-"+i+" ui-btn-down-"+i).addClass("ui-btn-up-"+i),s&&clearTimeout(s),o&&clearTimeout(o)}},"focusin focus":function(t){e(r(t.target)).addClass(e.mobile.focusClass)},"focusout blur":function(t){e(r(t.target)).removeClass(e.mobile.focusClass)}}),i=null};e(n).bind("pagecreate create",function(t){e(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",t.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})}(e),function(e,t){e.widget("mobile.collapsible",e.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,inset:!0,mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var n=this.element,r=this.options,i=n.addClass("ui-collapsible"),s=n.children(r.heading).first(),o=n.jqmData("collapsed-icon")||r.collapsedIcon,u=n.jqmData("expanded-icon")||r.expandedIcon,a=i.wrapInner("<div class='ui-collapsible-content'></div>").children(".ui-collapsible-content"),f=n.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");s.is("legend")&&(s=e("<div role='heading'>"+s.html()+"</div>").insertBefore(s),s.next().remove()),f.length?(r.theme||(r.theme=f.jqmData("theme")||e.mobile.getInheritedTheme(f,"c")),r.contentTheme||(r.contentTheme=f.jqmData("content-theme")),r.collapsedIcon||(r.collapsedIcon=f.jqmData("collapsed-icon")),r.expandedIcon||(r.expandedIcon=f.jqmData("expanded-icon")),r.iconPos||(r.iconPos=f.jqmData("iconpos")),f.jqmData("inset")!==t?r.inset=f.jqmData("inset"):r.inset=!0,r.mini||(r.mini=f.jqmData("mini"))):r.theme||(r.theme=e.mobile.getInheritedTheme(n,"c")),!r.inset||i.addClass("ui-collapsible-inset"),a.addClass(r.contentTheme?"ui-body-"+r.contentTheme:""),o=n.jqmData("collapsed-icon")||r.collapsedIcon||"plus",u=n.jqmData("expanded-icon")||r.expandedIcon||"minus",s.insertBefore(a).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconpos:n.jqmData("iconpos")||r.iconPos||"left",icon:o,mini:r.mini,theme:r.theme}),!r.inset||s.find("a").first().add(".ui-btn-inner",n).addClass("ui-corner-top ui-corner-bottom"),i.bind("expand collapse",function(t){if(!t.isDefaultPrevented()){var n=e(this),l=t.type==="collapse",c=r.contentTheme;t.preventDefault(),s.toggleClass("ui-collapsible-heading-collapsed",l).find(".ui-collapsible-heading-status").text(l?r.expandCueText:r.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-"+u,!l).toggleClass("ui-icon-"+o,l||u===o).end().find("a").first().removeClass(e.mobile.activeBtnClass),n.toggleClass("ui-collapsible-collapsed",l),a.toggleClass("ui-collapsible-content-collapsed",l).attr("aria-hidden",l),c&&!!r.inset&&(!f.length||i.jqmData("collapsible-last"))&&(s.find("a").first().add(s.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",l),a.toggleClass("ui-corner-bottom",!l)),a.trigger("updatelayout")}}).trigger(r.collapsed?"collapse":"expand"),s.bind("tap",function(t){s.find("a").first().addClass(e.mobile.activeBtnClass)}).bind("click",function(e){var t=s.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";i.trigger(t),e.preventDefault(),e.stopPropagation()})}}),e(n).bind("pagecreate create",function(t){e.mobile.collapsible.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.widget("mobile.collapsibleset",e.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var n=this.element.addClass("ui-collapsible-set"),r=this.options;r.theme||(r.theme=e.mobile.getInheritedTheme(n,"c")),r.contentTheme||(r.contentTheme=n.jqmData("content-theme")),n.jqmData("inset")!==t&&(r.inset=n.jqmData("inset")),r.inset=r.inset!==t?r.inset:!0,n.jqmData("collapsiblebound")||n.jqmData("collapsiblebound",!0).bind("expand collapse",function(t){var n=t.type==="collapse",i=e(t.target).closest(".ui-collapsible"),s=i.data("collapsible");i.jqmData("collapsible-last")&&!!r.inset&&(i.find(".ui-collapsible-heading").first().find("a").first().toggleClass("ui-corner-bottom",n).find(".ui-btn-inner").toggleClass("ui-corner-bottom",n),i.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!n))}).bind("expand",function(t){var n=e(t.target).closest(".ui-collapsible");n.parent().is(":jqmData(role='collapsible-set')")&&n.siblings(".ui-collapsible").trigger("collapse")})},_init:function(){var e=this.element,t=e.children(":jqmData(role='collapsible')"),n=t.filter(":jqmData(collapsed='false')");this.refresh(),n.trigger("expand")},refresh:function(){var t=this.element,n=this.options,r=t.children(":jqmData(role='collapsible')");e.mobile.collapsible.prototype.enhance(r.not(".ui-collapsible")),!n.inset||(r.each(function(){e(this).jqmRemoveData("collapsible-last").find(".ui-collapsible-heading").find("a").first().removeClass("ui-corner-top ui-corner-bottom").find(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")}),r.first().find("a").first().addClass("ui-corner-top").find(".ui-btn-inner").addClass("ui-corner-top"),r.last().jqmData("collapsible-last",!0).find("a").first().addClass("ui-corner-bottom").find(".ui-btn-inner").addClass("ui-corner-bottom"))}}),e(n).bind("pagecreate create",function(t){e.mobile.collapsibleset.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.widget("mobile.navbar",e.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var n=this.element,r=n.find("a"),i=r.filter(":jqmData(icon)").length?this.options.iconpos:t;n.addClass("ui-navbar ui-mini").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),r.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:i}),n.delegate("a","vclick",function(t){e(t.target).hasClass("ui-disabled")||(r.removeClass(e.mobile.activeBtnClass),e(this).addClass(e.mobile.activeBtnClass))}),n.closest(".ui-page").bind("pagebeforeshow",function(){r.filter(".ui-state-persist").addClass(e.mobile.activeBtnClass)})}}),e(n).bind("pagecreate create",function(t){e.mobile.navbar.prototype.enhanceWithin(t.target)})}(e),function(e,t){var r={};e.widget("mobile.listview",e.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var e=this,t="";t+=e.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"",e.element.addClass(function(e,n){return n+" ui-listview "+t}),e.refresh(!0)},_removeCorners:function(e,t){var n="ui-corner-top ui-corner-tr ui-corner-tl",r="ui-corner-bottom ui-corner-br ui-corner-bl";e=e.add(e.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb")),t==="top"?e.removeClass(n):t==="bottom"?e.removeClass(r):e.removeClass(n+" "+r)},_refreshCorners:function(e){var t,n,r,i;t=this.element.children("li"),n=e||t.filter(":visible").length===0?t.not(".ui-screen-hidden"):t.filter(":visible"),t.filter(".ui-li-last").removeClass("ui-li-last"),this.options.inset?(this._removeCorners(t),r=n.first().addClass("ui-corner-top"),r.add(r.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl"),i=n.last().addClass("ui-corner-bottom ui-li-last"),i.add(i.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")):n.last().addClass("ui-li-last"),e||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(e,t,n,r){var i={};i[n]=i[r]=!0;while(e){if(i[e.nodeName])return e;e=e[t]}return null},_getChildrenByTagName:function(t,n,r){var i=[],s={};s[n]=s[r]=!0,t=t.firstChild;while(t)s[t.nodeName]&&i.push(t),t=t.nextSibling;return e(i)},_addThumbClasses:function(t){var n,r,i=t.length;for(n=0;n<i;n++)r=e(this._findFirstElementByTagName(t[n].firstChild,"nextSibling","img","IMG")),r.length&&(r.addClass("ui-li-thumb"),e(this._findFirstElementByTagName(r[0].parentNode,"parentNode","li","LI")).addClass(r.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(t){this.parentPage=this.element.closest(".ui-page"),this._createSubPages();var r=this.options,i=this.element,s=this,o=i.jqmData("dividertheme")||r.dividerTheme,u=i.jqmData("splittheme"),a=i.jqmData("spliticon"),f=this._getChildrenByTagName(i[0],"li","LI"),l=!!e.nodeName(i[0],"ol"),c=!e.support.cssPseudoElement,h=i.attr("start"),p={},d,v,m,g,y,b,w,E,S,x,T,N,C,k;l&&c&&i.find(".ui-li-dec").remove(),l&&(h||h===0?c?w=parseFloat(h):(E=parseFloat(h)-1,i.css("counter-reset","listnumbering "+E)):c&&(w=1)),r.theme||(r.theme=e.mobile.getInheritedTheme(this.element,"c"));for(var L=0,A=f.length;L<A;L++){d=f.eq(L),v="ui-li";if(t||!d.hasClass("ui-li")){m=d.jqmData("theme")||r.theme,g=this._getChildrenByTagName(d[0],"a","A");var O=d.jqmData("role")==="list-divider";g.length&&!O?(T=d.jqmData("icon"),d.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:g.length>1||T===!1?!1:T||"arrow-r",theme:m}),T!==!1&&g.length===1&&d.addClass("ui-li-has-arrow"),g.first().removeClass("ui-link").addClass("ui-link-inherit"),g.length>1&&(v+=" ui-li-has-alt",y=g.last(),b=u||y.jqmData("theme")||r.splitTheme,k=y.jqmData("icon"),y.appendTo(d).attr("title",y.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:m,icon:!1,iconpos:"notext"}).find(".ui-btn-inner").append(e(n.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:b,iconpos:"notext",icon:k||T||a||r.splitIcon})))):O?(v+=" ui-li-divider ui-bar-"+o,d.attr("role","heading"),l&&(h||h===0?c?w=parseFloat(h):(S=parseFloat(h)-1,d.css("counter-reset","listnumbering "+S)):c&&(w=1))):v+=" ui-li-static ui-btn-up-"+m}l&&c&&v.indexOf("ui-li-divider")<0&&(x=v.indexOf("ui-li-static")>0?d:d.find(".ui-link-inherit"),x.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+w++ +". </span>")),p[v]||(p[v]=[]),p[v].push(d[0])}for(v in p)e(p[v]).addClass(v).children(".ui-btn-inner").addClass(v);i.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var t=e(this);t.prependTo(t.parent())}).end().find(".ui-li-count").each(function(){e(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(i.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all"),this._addThumbClasses(f),this._addThumbClasses(i.find(".ui-link-inherit")),this._refreshCorners(t),this._trigger("afterrefresh")},_idStringEscape:function(e){return e.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var t=this.element,n=t.closest(".ui-page"),i=n.jqmData("url"),s=i||n[0][e.expando],o=t.attr("id"),u=this.options,a="data-"+e.mobile.ns,f=this,l=n.find(":jqmData(role='footer')").jqmData("id"),c;typeof r[s]=="undefined"&&(r[s]=-1),o=o||++r[s],e(t.find("li>ul, li>ol").toArray().reverse()).each(function(n){var r=this,s=e(this),f=s.attr("id")||o+"-"+n,h=s.parent(),p=e(s.prevAll().toArray().reverse()),d=p.length?p:e("<span>"+e.trim(h.contents()[0].nodeValue)+"</span>"),v=d.first().getEncodedText(),m=(i||"")+"&"+e.mobile.subPageUrlKey+"="+f,g=s.jqmData("theme")||u.theme,y=s.jqmData("counttheme")||t.jqmData("counttheme")||u.countTheme,b,w;c=!0,b=s.detach().wrap("<div "+a+"role='page' "+a+"url='"+m+"' "+a+"theme='"+g+"' "+a+"count-theme='"+y+"'><div "+a+"role='content'></div></div>").parent().before("<div "+a+"role='header' "+a+"theme='"+u.headerTheme+"'><div class='ui-title'>"+v+"</div></div>").after(l?e("<div "+a+"role='footer' "+a+"id='"+l+"'>"):"").parent().appendTo(e.mobile.pageContainer),b.page(),w=h.find("a:first"),w.length||(w=e("<a/>").html(d||v).prependTo(h.empty())),w.attr("href","#"+m)}).listview();if(c&&n.is(":jqmData(external-page='true')")&&n.data("page").options.domCache===!1){var h=function(t,r){var s=r.nextPage,o,u=new e.Event("pageremove");r.nextPage&&(o=s.jqmData("url"),o.indexOf(i+"&"+e.mobile.subPageUrlKey)!==0&&(f.childPages().remove(),n.trigger(u),u.isDefaultPrevented()||n.removeWithDependents()))};n.unbind("pagehide.remove").bind("pagehide.remove",h)}},childPages:function(){var t=this.parentPage.jqmData("url");return e(":jqmData(url^='"+t+"&"+e.mobile.subPageUrlKey+"')")}}),e(n).bind("pagecreate create",function(t){e.mobile.listview.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.mobile.listview.prototype.options.autodividers=!1,e.mobile.listview.prototype.options.autodividersSelector=function(e){var t=e.text()||null;return t?(t=t.slice(0,1).toUpperCase(),t):null},e(n).delegate("ul,ol","listviewcreate",function(){var t=e(this),r=t.data("listview");if(!r||!r.options.autodividers)return;var i=function(){t.find("li:jqmData(role='list-divider')").remove();var i=t.find("li"),s=null,o,u;for(var a=0;a<i.length;a++){o=i[a],u=r.options.autodividersSelector(e(o));if(u&&s!==u){var f=n.createElement("li");f.appendChild(n.createTextNode(u)),f.setAttribute("data-"+e.mobile.ns+"role","list-divider"),o.parentNode.insertBefore(f,o)}s=u}},s=function(){t.unbind("listviewafterrefresh",s),i(),r.refresh(),t.bind("listviewafterrefresh",s)};s()})}(e),function(e,t){e.widget("mobile.checkboxradio",e.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var r=this,i=this.element,s=function(e,t){return e.jqmData(t)||e.closest("form, fieldset").jqmData(t)},o=e(i).closest("label"),u=o.length?o:e(i).closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+i[0].id+"']").first(),a=i[0].type,f=s(i,"mini"),l=a+"-on",c=a+"-off",h=i.parents(":jqmData(type='horizontal')").length?t:c,p=s(i,"iconpos"),d=h?"":" "+e.mobile.activeBtnClass,v="ui-"+l+d,m="ui-"+c,g="ui-icon-"+l,y="ui-icon-"+c;if(a!=="checkbox"&&a!=="radio")return;e.extend(this,{label:u,inputtype:a,checkedClass:v,uncheckedClass:m,checkedicon:g,uncheckedicon:y}),this.options.theme||(this.options.theme=e.mobile.getInheritedTheme(this.element,"c")),u.buttonMarkup({theme:this.options.theme,icon:h,shadow:!1,mini:f,iconpos:p});var b=n.createElement("div");b.className="ui-"+a,i.add(u).wrapAll(b),u.bind({vmouseover:function(t){e(this).parent().is(".ui-disabled")&&t.stopPropagation()},vclick:function(e){if(i.is(":disabled")){e.preventDefault();return}return r._cacheVals(),i.prop("checked",a==="radio"&&!0||!i.prop("checked")),i.triggerHandler("click"),r._getInputSet().not(i).prop("checked",!1),r._updateAll(),!1}}),i.bind({vmousedown:function(){r._cacheVals()},vclick:function(){var t=e(this);t.is(":checked")?(t.prop("checked",!0),r._getInputSet().not(t).prop("checked",!1)):t.prop("checked",!1),r._updateAll()},focus:function(){u.addClass(e.mobile.focusClass)},blur:function(){u.removeClass(e.mobile.focusClass)}}),this.refresh()},_cacheVals:function(){this._getInputSet().each(function(){e(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return this.inputtype==="checkbox"?this.element:this.element.closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var t=this;this._getInputSet().each(function(){var n=e(this);(this.checked||t.inputtype==="checkbox")&&n.trigger("change")}).checkboxradio("refresh")},refresh:function(){var e=this.element[0],t=this.label,n=t.find(".ui-icon");e.checked?(t.addClass(this.checkedClass).removeClass(this.uncheckedClass),n.addClass(this.checkedicon).removeClass(this.uncheckedicon)):(t.removeClass(this.checkedClass).addClass(this.uncheckedClass),n.removeClass(this.checkedicon).addClass(this.uncheckedicon)),e.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}}),e(n).bind("pagecreate create",function(t){e.mobile.checkboxradio.prototype.enhanceWithin(t.target,!0)})}(e),function(e,t){e.widget("mobile.button",e.mobile.widget,{options:{theme:null,icon:null,iconpos:null,corners:!0,shadow:!0,iconshadow:!0,initSelector:"button, [type='button'], [type='submit'], [type='reset']"},_create:function(){var r=this.element,i,s=this.options,o,u,a=s.inline||r.jqmData("inline"),f=s.mini||r.jqmData("mini"),l="",c;if(r[0].tagName==="A"){r.hasClass("ui-btn")||r.buttonMarkup();return}this.options.theme||(this.options.theme=e.mobile.getInheritedTheme(this.element,"c")),!~r[0].className.indexOf("ui-btn-left")||(l="ui-btn-left"),!~r[0].className.indexOf("ui-btn-right")||(l="ui-btn-right");if(r.attr("type")==="submit"||r.attr("type")==="reset")l?l+=" ui-submit":l="ui-submit";e("label[for='"+r.attr("id")+"']").addClass("ui-submit"),this.button=e("<div></div>")[r.html()?"html":"text"](r.html()||r.val()).insertBefore(r).buttonMarkup({theme:s.theme,icon:s.icon,iconpos:s.iconpos,inline:a,corners:s.corners,shadow:s.shadow,iconshadow:s.iconshadow,mini:f}).addClass(l).append(r.addClass("ui-btn-hidden")),i=this.button,o=r.attr("type"),u=r.attr("name"),o!=="button"&&o!=="reset"&&u&&r.bind("vclick",function(){c===t&&(c=e("<input>",{type:"hidden",name:r.attr("name"),value:r.attr("value")}).insertBefore(r),e(n).one("submit",function(){c.remove(),c=t}))}),r.bind({focus:function(){i.addClass(e.mobile.focusClass)},blur:function(){i.removeClass(e.mobile.focusClass)}}),this.refresh()},enable:function(){return this.element.attr("disabled",!1),this.button.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.button.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)},refresh:function(){var t=this.element;t.prop("disabled")?this.disable():this.enable(),e(this.button.data("buttonElements").text)[t.html()?"html":"text"](t.html()||t.val())}}),e(n).bind("pagecreate create",function(t){e.mobile.button.prototype.enhanceWithin(t.target,!0)})}(e),function(e,t){e.fn.controlgroup=function(t){function n(e,t){e.removeClass("ui-btn-corner-all ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-controlgroup-last ui-shadow").eq(0).addClass(t[0]).end().last().addClass(t[1]).addClass("ui-controlgroup-last")}return this.each(function(){var r=e(this),i=e.extend({direction:r.jqmData("type")||"vertical",shadow:!1,excludeInvisible:!0,mini:r.jqmData("mini")},t),s=r.children("legend"),o=r.children(".ui-controlgroup-label"),u=r.children(".ui-controlgroup-controls"),a=i.direction==="horizontal"?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"],f=r.find("input").first().attr("type");u.length&&u.contents().unwrap(),r.wrapInner("<div class='ui-controlgroup-controls'></div>"),s.length?(e("<div role='heading' class='ui-controlgroup-label'>"+s.html()+"</div>").insertBefore(r.children(0)),s.remove()):o.length&&r.prepend(o),r.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+i.direction),n(r.find(".ui-btn"+(i.excludeInvisible?":visible":"")).not(".ui-slider-handle"),a),n(r.find(".ui-btn-inner"),a),i.shadow&&r.addClass("ui-shadow"),i.mini&&r.addClass("ui-mini")})}}(e),function(e,t){e(n).bind("pagecreate create",function(t){e(t.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})}(e),function(e,r){function i(e,t,n,r){var i=r;return e<t?i=n+(e-t)/2:i=Math.min(Math.max(n,r-t/2),n+e-t),i}function s(){var n=e(t);return{x:n.scrollLeft(),y:n.scrollTop(),cx:t.innerWidth||n.width(),cy:t.innerHeight||n.height()}}e.widget("mobile.popup",e.mobile.widget,{options:{theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,initSelector:":jqmData(role='popup')",closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",history:!e.mobile.browser.ie},_eatEventAndClose:function(e){return e.preventDefault(),e.stopImmediatePropagation(),this.close(),!1},_resizeScreen:function(){var e=this._ui.container.outerHeight(!0);this._ui.screen.removeAttr("style"),e>this._ui.screen.height()&&this._ui.screen.height(e)},_handleWindowKeyUp:function(t){if(this._isOpen&&t.keyCode===e.mobile.keyCode.ESCAPE)return this._eatEventAndClose(t)},_maybeRefreshTimeout:function(){var t=s();if(this._resizeData){if(t.x===this._resizeData.winCoords.x&&t.y===this._resizeData.winCoords.y&&t.cx===this._resizeData.winCoords.cx&&t.cy===this._resizeData.winCoords.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:setTimeout(e.proxy(this,"_resizeTimeout"),200),winCoords:t},!0},_resizeTimeout:function(){this._maybeRefreshTimeout()||(this._trigger("beforeposition"),this._ui.container.removeClass("ui-selectmenu-hidden").offset(this._placementCoords(this._desiredCoords(r,r,"window"))),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1)},_handleWindowResize:function(e){this._isOpen&&this._maybeRefreshTimeout()},_handleWindowOrientationchange:function(e){this._orientationchangeInProgress||(this._ui.container.addClass("ui-selectmenu-hidden").removeAttr("style"),this._orientationchangeInProgress=!0)},_create:function(){var n={screen:e("<div class='ui-screen-hidden ui-popup-screen'></div>"),placeholder:e("<div style='display: none;'><!-- placeholder --></div>"),container:e("<div class='ui-popup-container ui-selectmenu-hidden'></div>")},i=this.element.closest(".ui-page"),s=this.element.attr("id"),o=this;this.options.history=this.options.history&&e.mobile.ajaxEnabled&&e.mobile.hashListeningEnabled,i.length===0&&(i=e("body")),this.options.container=this.options.container||e.mobile.pageContainer,i.append(n.screen),n.container.insertAfter(n.screen),n.placeholder.insertAfter(this.element),s&&(n.screen.attr("id",s+"-screen"),n.container.attr("id",s+"-popup"),n.placeholder.html("<!-- placeholder for "+s+" -->")),n.container.append(this.element),this.element.addClass("ui-popup"),e.extend(this,{_page:i,_ui:n,_fallbackTransition:"",_currentTransition:!1,_prereqs:null,_isOpen:!1,_tolerance:null,_resizeData:null,_orientationchangeInProgress:!1,_globalHandlers:[{src:e(t),handler:{orientationchange:e.proxy(this,"_handleWindowOrientationchange"),resize:e.proxy(this,"_handleWindowResize"),keyup:e.proxy(this,"_handleWindowKeyUp")}}]}),e.each(this.options,function(e,t){o.options[e]=r,o._setOption(e,t,!0)}),n.screen.bind("vclick",e.proxy(this,"_eatEventAndClose")),e.each(this._globalHandlers,function(e,t){t.src.bind(t.handler)})},_applyTheme:function(e,t,n){var r=(e.attr("class")||"").split(" "),i=!0,s=null,o,u=String(t);while(r.length>0){s=r.pop(),o=(new RegExp("^ui-"+n+"-([a-z])$")).exec(s);if(o&&o.length>1){s=o[1];break}s=null}t!==s&&(e.removeClass("ui-"+n+"-"+s),t!==null&&t!=="none"&&e.addClass("ui-"+n+"-"+u))},_setTheme:function(e){this._applyTheme(this.element,e,"body")},_setOverlayTheme:function(e){this._applyTheme(this._ui.screen,e,"overlay"),this._isOpen&&this._ui.screen.addClass("in")},_setShadow:function(e){this.element.toggleClass("ui-overlay-shadow",e)},_setCorners:function(e){this.element.toggleClass("ui-corner-all",e)},_applyTransition:function(t){this._ui.container.removeClass(this._fallbackTransition),t&&t!=="none"&&(this._fallbackTransition=e.mobile._maybeDegradeTransition(t),this._ui.container.addClass(this._fallbackTransition))},_setTransition:function(e){this._currentTransition||this._applyTransition(e)},_setTolerance:function(t){var n={t:30,r:15,b:30,l:15};if(t){var r=String(t).split(",");e.each(r,function(e,t){r[e]=parseInt(t,10)});switch(r.length){case 1:isNaN(r[0])||(n.t=n.r=n.b=n.l=r[0]);break;case 2:isNaN(r[0])||(n.t=n.b=r[0]),isNaN(r[1])||(n.l=n.r=r[1]);break;case 4:isNaN(r[0])||(n.t=r[0]),isNaN(r[1])||(n.r=r[1]),isNaN(r[2])||(n.b=r[2]),isNaN(r[3])||(n.l=r[3]);break;default:}}this._tolerance=n},_setOption:function(t,n){var i,s="_set"+t.charAt(0).toUpperCase()+t.slice(1);this[s]!==r&&this[s](n),i=["initSelector","closeLinkSelector","closeLinkEvents","navigateEvents","closeEvents","history","container"],e.mobile.widget.prototype._setOption.apply(this,arguments),e.inArray(t,i)===-1&&this.element.attr("data-"+(e.mobile.ns||"")+t.replace(/([A-Z])/,"-$1").toLowerCase(),n)},_placementCoords:function(e){var t=s(),r={x:this._tolerance.l,y:t.y+this._tolerance.t,cx:t.cx-this._tolerance.l-this._tolerance.r,cy:t.cy-this._tolerance.t-this._tolerance.b},o,u;this._ui.container.css("max-width",r.cx),o={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},u={x:i(r.cx,o.cx,r.x,e.x),y:i(r.cy,o.cy,r.y,e.y)},u.y=Math.max(0,u.y);var a=n.documentElement,f=n.body,l=Math.max(a.clientHeight,f.scrollHeight,f.offsetHeight,a.scrollHeight,a.offsetHeight);return u.y-=Math.min(u.y,Math.max(0,u.y+o.cy-l)),{left:u.x,top:u.y}},_createPrereqs:function(t,n,r){var i=this,s;s={screen:e.Deferred(),container:e.Deferred()},s.screen.then(function(){s===i._prereqs&&t()}),s.container.then(function(){s===i._prereqs&&n()}),e.when(s.screen,s.container).done(function(){s===i._prereqs&&(i._prereqs=null,r())}),i._prereqs=s},_animate:function(t){this._ui.screen.removeClass(t.classToRemove).addClass(t.screenClassToAdd),t.prereqs.screen.resolve(),t.transition&&t.transition!=="none"?(t.applyTransition&&this._applyTransition(t.transition),this._ui.container.animationComplete(e.proxy(t.prereqs.container,"resolve")).addClass(t.containerClassToAdd).removeClass(t.classToRemove)):t.prereqs.container.resolve()},_desiredCoords:function(t,n,r){var i=null,o,u=s();if(r&&r!=="origin")if(r==="window")t=u.cx/2+u.x,n=u.cy/2+u.y;else{try{i=e(r)}catch(a){i=null}i&&(i.filter(":visible"),i.length===0&&(i=null))}i&&(o=i.offset(),t=o.left+i.outerWidth()/2,n=o.top+i.outerHeight()/2);if(e.type(t)!=="number"||isNaN(t))t=u.cx/2+u.x;if(e.type(n)!=="number"||isNaN(n))n=u.cy/2+u.y;return{x:t,y:n}},_openPrereqsComplete:function(){var e=this;e._ui.container.addClass("ui-popup-active"),e._isOpen=!0,e._resizeScreen(),setTimeout(function(){e._ui.container.attr("tabindex","0").focus(),e._trigger("afteropen")})},_open:function(n){var r,i,s=function(){var e=t,n=navigator.userAgent,r=n.match(/AppleWebKit\/([0-9\.]+)/),i=!!r&&r[1],s=n.match(/Android (\d+(?:\.\d+))/),o=!!s&&s[1],u=n.indexOf("Chrome")>-1;return s!==null&&o==="4.0"&&i&&i>534.13&&!u?!0:!1}();n=n||{},i=n.transition||this.options.transition,this._trigger("beforeposition"),r=this._placementCoords(this._desiredCoords(n.x,n.y,n.positionTo||this.options.positionTo||"origin")),this._createPrereqs(e.noop,e.noop,e.proxy(this,"_openPrereqsComplete")),i?(this._currentTransition=i,this._applyTransition(i)):i=this.options.transition,this.options.theme||this._setTheme(this._page.jqmData("theme")||e.mobile.getInheritedTheme(this._page,"c")),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-selectmenu-hidden").offset(r),this.options.overlayTheme&&s&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:i,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prereqs:this._prereqs})},_closePrereqScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrereqContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-selectmenu-hidden").removeAttr("style")},_closePrereqsDone:function(){var t=this,n=t.options;t._ui.container.removeAttr("tabindex"),n.container.unbind(n.closeEvents),t.element.undelegate(n.closeLinkSelector,n.closeLinkEvents),e.mobile.popup.active=r,t._trigger("afterclose")},_close:function(){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrereqs(e.proxy(this,"_closePrereqScreen"),e.proxy(this,"_closePrereqContainer"),e.proxy(this,"_closePrereqsDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:this._currentTransition||this.options.transition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prereqs:this._prereqs})},_destroy:function(){var t=this;t._close(),t._setTheme("none"),t.element.insertAfter(t._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all"),t._ui.screen.remove(),t._ui.container.remove(),t._ui.placeholder.remove(),e.each(t._globalHandlers,function(t,n){e.each(n.handler,function(e,t){n.src.unbind(e,t)})})},_bindContainerClose:function(){var t=this;t.options.container.one(t.options.closeEvents,e.proxy(t._close,t))},open:function(t){var n=this,i=this.options,s,o,u,a,f,l;if(e.mobile.popup.active)return;e.mobile.popup.active=this;if(!i.history){n._open(t),n._bindContainerClose(),n.element.delegate(i.closeLinkSelector,i.closeLinkEvents,function(e){return n._close(),!1});return}o=e.mobile.dialogHashKey,u=e.mobile.activePage,a=u.is(".ui-dialog"),s=e.mobile.urlHistory.getActive().url,f=s.indexOf(o)>-1&&!a,l=e.mobile.urlHistory;if(f){n._open(t),n._bindContainerClose();return}s.indexOf(o)===-1&&!a?s+=o:s=e.mobile.path.parseLocation().hash+o,l.activeIndex===0&&s===l.initialDst&&(s+=o),i.container.one(i.navigateEvents,function(e){e.preventDefault(),n._open(t),n._bindContainerClose()}),l.ignoreNextHashChange=a,l.addNew(s,r,r,r,"dialog"),e.mobile.path.set(s)},close:function(){if(!e.mobile.popup.active)return;this.options.history?e.mobile.back():this._close()}}),e.mobile.popup.handleLink=function(t){var n=t.closest(":jqmData(role='page')"),r=n.length===0?e("body"):n,i=e(e.mobile.path.parseUrl(t.attr("href")).hash,r[0]),s;i.data("popup")&&(s=t.offset(),i.popup("open",{x:s.left+t.outerWidth()/2,y:s.top+t.outerHeight()/2,transition:t.jqmData("transition"),positionTo:t.jqmData("position-to"),link:t})),setTimeout(function(){t.removeClass(e.mobile.activeBtnClass)},300)},e(n).bind("pagebeforechange",function(t,n){n.options.role==="popup"&&(e.mobile.popup.handleLink(n.options.link),t.preventDefault())}),e(n).bind("pagecreate create",function(t){e.mobile.popup.prototype.enhanceWithin(t.target,!0)})}(e),function(e){var t=e("meta[name=viewport]"),n=t.attr("content"),r=n+",maximum-scale=1, user-scalable=no",i=n+",maximum-scale=10, user-scalable=yes",s=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(n);e.mobile.zoom=e.extend({},{enabled:!s,locked:!1,disable:function(n){!s&&!e.mobile.zoom.locked&&(t.attr("content",r),e.mobile.zoom.enabled=!1,e.mobile.zoom.locked=n||!1)},enable:function(n){!s&&(!e.mobile.zoom.locked||n===!0)&&(t.attr("content",i),e.mobile.zoom.enabled=!0,e.mobile.zoom.locked=!1)},restore:function(){s||(t.attr("content",n),e.mobile.zoom.enabled=!0)}})}(e),function(e,r){e.widget("mobile.textinput",e.mobile.widget,{options:{theme:null,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])",clearSearchButtonText:"clear text",disabled:!1},_create:function(){function h(){setTimeout(function(){c.toggleClass("ui-input-clear-hidden",!i.val())},0)}var r=this,i=this.element,s=this.options,o=s.theme||e.mobile.getInheritedTheme(this.element,"c"),u=" ui-body-"+o,a=i.jqmData("mini")===!0,f=a?" ui-mini":"",l,c;e("label[for='"+i.attr("id")+"']").addClass("ui-input-text"),l=i.addClass("ui-input-text ui-body-"+o),typeof i[0].autocorrect!="undefined"&&!e.support.touchOverflow&&(i[0].setAttribute("autocorrect","off"),i[0].setAttribute("autocomplete","off")),i.is("[type='search'],:jqmData(type='search')")?(l=i.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+u+f+"'></div>").parent(),c=e("<a href='#' class='ui-input-clear' title='"+s.clearSearchButtonText+"'>"+s.clearSearchButtonText+"</a>").bind("click",function(e){i.val("").focus().trigger("change"),c.addClass("ui-input-clear-hidden"),e.preventDefault()}).appendTo(l).buttonMarkup({icon:"delete",iconpos:"notext",corners:!0,shadow:!0,mini:a}),h(),i.bind("paste cut keyup focus change blur",h)):i.addClass("ui-corner-all ui-shadow-inset"+u+f),i.focus(function(){l.addClass(e.mobile.focusClass)}).blur(function(){l.removeClass(e.mobile.focusClass)}).bind("focus",function(){s.preventFocusZoom&&e.mobile.zoom.disable(!0)}).bind("blur",function(){s.preventFocusZoom&&e.mobile.zoom.enable(!0)});if(i.is("textarea")){var p=15,d=100,v;this._keyup=function(){var e=i[0].scrollHeight,t=i[0].clientHeight;t<e&&i.height(e+p)},i.keyup(function(){clearTimeout(v),v=setTimeout(r._keyup,d)}),this._on(e(n),{pagechange:"_keyup"}),e.trim(i.val())&&this._on(e(t),{load:"_keyup"})}i.attr("disabled")&&this.disable()},disable:function(){var e;return this.element.attr("disabled",!0).is("[type='search'], :jqmData(type='search')")?e=this.element.parent():e=this.element,e.addClass("ui-disabled"),this._setOption("disabled",!0)},enable:function(){var e;return this.element.attr("disabled",!1).is("[type='search'], :jqmData(type='search')")?e=this.element.parent():e=this.element,e.removeClass("ui-disabled"),this._setOption("disabled",!1)}}),e(n).bind("pagecreate create",function(t){e.mobile.textinput.prototype.enhanceWithin(t.target,!0)})}(e),function(e,t){e.mobile.listview.prototype.options.filter=!1,e.mobile.listview.prototype.options.filterPlaceholder="Filter items...",e.mobile.listview.prototype.options.filterTheme="c";var r=function(e,t,n){return e.toString().toLowerCase().indexOf(t)===-1};e.mobile.listview.prototype.options.filterCallback=r,e(n).delegate(":jqmData(role='listview')","listviewcreate",function(){var t=e(this),n=t.data("listview");if(!n.options.filter)return;var i=e("<form>",{"class":"ui-listview-filter ui-bar-"+n.options.filterTheme,role:"search"}),s=e("<input>",{placeholder:n.options.filterPlaceholder}).attr("data-"+e.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var i=e(this),s=this.value.toLowerCase(),o=null,u=i.jqmData("lastval")+"",a=!1,f="",l,c=n.options.filterCallback!==r;n._trigger("beforefilter","beforefilter",{input:this}),i.jqmData("lastval",s),c||s.length<u.length||s.indexOf(u)!==0?o=t.children():o=t.children(":not(.ui-screen-hidden)");if(s){for(var h=o.length-1;h>=0;h--)l=e(o[h]),f=l.jqmData("filtertext")||l.text(),l.is("li:jqmData(role=list-divider)")?(l.toggleClass("ui-filter-hidequeue",!a),a=!1):n.options.filterCallback(f,s,l)?l.toggleClass("ui-filter-hidequeue",!0):a=!0;o.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),o.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else o.toggleClass("ui-screen-hidden",!1);n._refreshCorners()}).appendTo(i).textinput();n.options.inset&&i.addClass("ui-listview-filter-inset"),i.bind("submit",function(){return!1}).insertBefore(t)})}(e),function(e,r){e.widget("mobile.slider",e.mobile.widget,{widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:!1},_create:function(){var i=this,s=this.element,o=e.mobile.getInheritedTheme(s,"c"),u=this.options.theme||o,a=this.options.trackTheme||o,f=s[0].nodeName.toLowerCase(),l=f==="select"?"ui-slider-switch":"",c=s.attr("id"),h=e("[for='"+c+"']"),p=h.attr("id")||c+"-label",d=h.attr("id",p),v=function(){return f==="input"?parseFloat(s.val()):s[0].selectedIndex},m=f==="input"?parseFloat(s.attr("min")):0,g=f==="input"?parseFloat(s.attr("max")):s.find("option").length-1,y=t.parseFloat(s.attr("step")||1),b=this.options.inline||s.jqmData("inline")===!0?" ui-slider-inline":"",w=this.options.mini||s.jqmData("mini")?" ui-slider-mini":"",E=n.createElement("a"),S=e(E),x=n.createElement("div"),T=e(x),N=s.jqmData("highlight")&&f!=="select"?function(){var t=n.createElement("div");return t.className="ui-slider-bg "+e.mobile.activeBtnClass+" ui-btn-corner-all",e(t).prependTo(T)}():!1,C;this._type=f,E.setAttribute("href","#"),x.setAttribute("role","application"),x.className=["ui-slider ",l," ui-btn-down-",a," ui-btn-corner-all",b,w].join(""),E.className="ui-slider-handle",x.appendChild(E),S.buttonMarkup({corners:!0,theme:u,shadow:!0}).attr({role:"slider","aria-valuemin":m,"aria-valuemax":g,"aria-valuenow":v(),"aria-valuetext":v(),title:v(),"aria-labelledby":p}),e.extend(this,{slider:T,handle:S,valuebg:N,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1});if(f==="select"){var k=n.createElement("div");k.className="ui-slider-inneroffset";for(var L=0,A=x.childNodes.length;L<A;L++)k.appendChild(x.childNodes[L]);x.appendChild(k),S.addClass("ui-slider-handle-snapping"),C=s.find("option");for(var O=0,M=C.length;O<M;O++){var _=O?"a":"b",D=O?" "+e.mobile.activeBtnClass:" ui-btn-down-"+a,P=n.createElement("div"),H=n.createElement("span");H.className=["ui-slider-label ui-slider-label-",_,D," ui-btn-corner-all"].join(""),H.setAttribute("role","img"),H.appendChild(n.createTextNode(C[O].innerHTML)),e(H).prependTo(T)}i._labels=e(".ui-slider-label",T)}d.addClass("ui-slider"),s.addClass(f==="input"?"ui-slider-input":"ui-slider-switch").change(function(){i.mouseMoved||i.refresh(v(),!0)}).keyup(function(){i.refresh(v(),!0,!0)}).blur(function(){i.refresh(v(),!0)}),this._preventDocumentDrag=function(e){if(i.dragging&&!i.options.disabled)return i.mouseMoved=!0,f==="select"&&S.removeClass("ui-slider-handle-snapping"),i.refresh(e),i.userModified=i.beforeStart!==s[0].selectedIndex,!1},this._on(e(n),{vmousemove:this._preventDocumentDrag}),s.bind("vmouseup",e.proxy(i._checkedRefresh,i)),T.bind("vmousedown",function(e){return i.options.disabled?!1:(i.dragging=!0,i.userModified=!1,i.mouseMoved=!1,f==="select"&&(i.beforeStart=s[0].selectedIndex),i.refresh(e),i._trigger("start"),!1)}).bind("vclick",!1),this._sliderMouseUp=function(){if(i.dragging)return i.dragging=!1,f==="select"&&(S.addClass("ui-slider-handle-snapping"),i.mouseMoved?i.userModified?i.refresh(i.beforeStart===0?1:0):i.refresh(i.beforeStart):i.refresh(i.beforeStart===0?1:0)),i.mouseMoved=!1,i._trigger("stop"),!1},this._on(T.add(n),{vmouseup:this._sliderMouseUp}),T.insertAfter(s),f==="select"&&this.handle.bind({focus:function(){T.addClass(e.mobile.focusClass)},blur:function(){T.removeClass(e.mobile.focusClass)}}),this.handle.bind({vmousedown:function(){e(this).focus()},vclick:!1,keydown:function(t){var n=v();if(i.options.disabled)return;switch(t.keyCode){case e.mobile.keyCode.HOME:case e.mobile.keyCode.END:case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:t.preventDefault(),i._keySliding||(i._keySliding=!0,e(this).addClass("ui-state-active"))}switch(t.keyCode){case e.mobile.keyCode.HOME:i.refresh(m);break;case e.mobile.keyCode.END:i.refresh(g);break;case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:i.refresh(n+y);break;case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:i.refresh(n-y)}},keyup:function(t){i._keySliding&&(i._keySliding=!1,e(this).removeClass("ui-state-active"))}}),this.refresh(r,r,!0)},_checkedRefresh:function(){this.value!=this._value()&&this.refresh(this._value())},_value:function(){return this._type==="input"?parseFloat(this.element.val()):this.element[0].selectedIndex},refresh:function(t,n,r){(this.options.disabled||this.element.attr("disabled"))&&this.disable(),this.value=this._value();var i=this.element,s,o=i[0].nodeName.toLowerCase(),u=o==="input"?parseFloat(i.attr("min")):0,a=o==="input"?parseFloat(i.attr("max")):i.find("option").length-1,f=o==="input"&&parseFloat(i.attr("step"))>0?parseFloat(i.attr("step")):1;if(typeof t=="object"){var l=t,c=8;if(!this.dragging||l.pageX<this.slider.offset().left-c||l.pageX>this.slider.offset().left+this.slider.width()+c)return;s=Math.round((l.pageX-this.slider.offset().left)/this.slider.width()*100)}else t==null&&(t=o==="input"?parseFloat(i.val()||0):i[0].selectedIndex),s=(parseFloat(t)-u)/(a-u)*100;if(isNaN(s))return;s<0&&(s=0),s>100&&(s=100);var h=s/100*(a-u)+u,p=(h-u)%f,d=h-p;Math.abs(p)*2>=f&&(d+=p>0?f:-f),h=parseFloat(d.toFixed(5)),h<u&&(h=u),h>a&&(h=a),this.handle.css("left",s+"%"),this.handle.attr({"aria-valuenow":o==="input"?h:i.find("option").eq(h).attr("value"),"aria-valuetext":o==="input"?h:i.find("option").eq(h).getEncodedText(),title:o==="input"?h:i.find("option").eq(h).getEncodedText()}),this.valuebg&&this.valuebg.css("width",s+"%");if(this._labels){var v=this.handle.width()/this.slider.width()*100,m=s&&v+(100-v)*s/100,g=s===100?0:Math.min(v+100-m,100);this._labels.each(function(){var t=e(this).is(".ui-slider-label-a");e(this).width((t?m:g)+"%")})}if(!r){var y=!1;o==="input"?(y=i.val()!==h,i.val(h)):(y=i[0].selectedIndex!==h,i[0].selectedIndex=h),!n&&y&&i.trigger("change")}},enable:function(){return this.element.attr("disabled",!1),this.slider.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.slider.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)}}),e(n).bind("pagecreate create",function(t){e.mobile.slider.prototype.enhanceWithin(t.target,!0)})}(e),function(e,r){e.widget("mobile.selectmenu",e.mobile.widget,{options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!0,overlayTheme:"a",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not( :jqmData(role='slider') )",mini:!1},_button:function(){return e("<div/>")},_setDisabled:function(e){return this.element.attr("disabled",e),this.button.attr("aria-disabled",e),this._setOption("disabled",e)},_focusButton:function(){var e=this;setTimeout(function(){e.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var t="";!~this.element[0].className.indexOf("ui-btn-left")||(t=" ui-btn-left"),!~this.element[0].className.indexOf("ui-btn-right")||(t=" ui-btn-right"),this.select=this.element.wrap("<div class='ui-select"+t+"'>"),this.selectID=this.select.attr("id"),this.label=e("label[for='"+this.selectID+"']").addClass("ui-select"),this.isMultiple=this.select[0].multiple,this.options.theme||(this.options.theme=e.mobile.getInheritedTheme(this.select,"c"))},_create:function(){this._preExtension(),this._trigger("beforeCreate"),this.button=this._button();var n=this,r=this.options,i=r.inline||this.select.jqmData("inline"),s=r.mini||this.select.jqmData("mini"),o=r.icon?r.iconpos||this.select.jqmData("iconpos"):!1,u=this.select[0].selectedIndex===-1?0:this.select[0].selectedIndex,a=this.button.insertBefore(this.select).buttonMarkup({theme:r.theme,icon:r.icon,iconpos:o,inline:i,corners:r.corners,shadow:r.shadow,iconshadow:r.iconshadow,mini:s});this.setButtonText(),r.nativeMenu&&t.opera&&t.opera.version&&a.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=e("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(a.addClass("ui-li-has-count"))),(r.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){n.refresh()}),this.build()},build:function(){var t=this;this.select.appendTo(t.button).bind("vmousedown",function(){t.button.addClass(e.mobile.activeBtnClass)}).bind("focus",function(){t.button.addClass(e.mobile.focusClass)}).bind("blur",function(){t.button.removeClass(e.mobile.focusClass)}).bind("focus vmouseover",function(){t.button.trigger("vmouseover")}).bind("vmousemove",function(){t.button.removeClass(e.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){t.button.trigger("vmouseout").removeClass(e.mobile.activeBtnClass)}).bind("change blur",function(){t.button.removeClass("ui-btn-down-"+t.options.theme)}),t.button.bind("vmousedown",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}).bind("mouseup",function(){t.options.preventFocusZoom&&setTimeout(function(){e.mobile.zoom.enable(!0)},0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var e=this;return this.selected().map(function(){return e._selectOptions().index(this)}).get()},setButtonText:function(){var t=this,r=this.selected(),i=this.placeholder,s=e(n.createElement("span"));this.button.find(".ui-btn-text").html(function(){return r.length?i=r.map(function(){return e(this).text()}).get().join(", "):i=t.placeholder,s.text(i).addClass(t.select.attr("class")).addClass(r.attr("class"))})},setButtonCount:function(){var e=this.selected();this.isMultiple&&this.buttonCount[e.length>1?"show":"hide"]().text(e.length)},refresh:function(){this.setButtonText(),this.setButtonCount()},open:e.noop,close:e.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-disabled")}}),e(n).bind("pagecreate create",function(t){e.mobile.selectmenu.prototype.enhanceWithin(t.target,!0)})}(e),function(e,r){var i=function(r){var i=r.select,s=r.selectID,o=r.label,u=r.select.closest(".ui-page"),a=r._selectOptions(),f=r.isMultiple=r.select[0].multiple,l=s+"-button",c=s+"-menu",h=e("<div data-"+e.mobile.ns+"role='dialog' data-"+e.mobile.ns+"theme='"+r.options.theme+"' data-"+e.mobile.ns+"overlay-theme='"+r.options.overlayTheme+"'>"+"<div data-"+e.mobile.ns+"role='header'>"+"<div class='ui-title'>"+o.getEncodedText()+"</div>"+"</div>"+"<div data-"+e.mobile.ns+"role='content'></div>"+"</div>"),p=e("<div>",{"class":"ui-selectmenu"}).insertAfter(r.select).popup({theme:"a"}),d=e("<ul>",{"class":"ui-selectmenu-list",id:c,role:"listbox","aria-labelledby":l}).attr("data-"+e.mobile.ns+"theme",r.options.theme).appendTo(p),v=e("<div>",{"class":"ui-header ui-bar-"+r.options.theme}).prependTo(p),m=e("<h1>",{"class":"ui-title"}).appendTo(v),g,y,b;r.isMultiple&&(b=e("<a>",{text:r.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+e.mobile.ns+"iconpos","notext").attr("data-"+e.mobile.ns+"icon","delete").appendTo(v).buttonMarkup()),e.extend(r,{select:r.select,selectID:s,buttonId:l,menuId:c,thisPage:u,menuPage:h,label:o,selectOptions:a,isMultiple:f,theme:r.options.theme,listbox:p,list:d,header:v,headerTitle:m,headerClose:b,menuPageContent:g,menuPageClose:y,placeholder:"",build:function(){var t=this;t.refresh(),t.select.attr("tabindex","-1").focus(function(){e(this).blur(),t.button.focus()}),t.button.bind("vclick keydown",function(n){if(n.type==="vclick"||n.keyCode&&(n.keyCode===e.mobile.keyCode.ENTER||n.keyCode===e.mobile.keyCode.SPACE))t.open(),n.preventDefault()}),t.list.attr("role","listbox").bind("focusin",function(t){e(t.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(t){e(t.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(n){var i=t.select[0].selectedIndex,s=t.list.find("li:not(.ui-li-divider)").index(this),o=t._selectOptions().eq(s)[0];o.selected=t.isMultiple?!o.selected:!0,t.isMultiple&&e(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",o.selected).toggleClass("ui-icon-checkbox-off",!o.selected),(t.isMultiple||i!==s)&&t.select.trigger("change"),t.isMultiple?t.list.find("li:not(.ui-li-divider)").eq(s).addClass("ui-btn-down-"+r.options.theme).find("a").first().focus():t.close(),n.preventDefault()}).keydown(function(t){var n=e(t.target),i=n.closest("li"),s,o;switch(t.keyCode){case 38:return s=i.prev().not(".ui-selectmenu-placeholder"),s.is(".ui-li-divider")&&(s=s.prev()),s.length&&(n.blur().attr("tabindex","-1"),s.addClass("ui-btn-down-"+r.options.theme).find("a").first().focus()),!1;case 40:return o=i.next(),o.is(".ui-li-divider")&&(o=o.next()),o.length&&(n.blur().attr("tabindex","-1"),o.addClass("ui-btn-down-"+r.options.theme).find("a").first().focus()),!1;case 13:case 32:return n.trigger("click"),!1}}),t.menuPage.bind("pagehide",function(){t.list.appendTo(t.listbox),t._focusButton(),e.mobile._bindPageRemove.call(t.thisPage)}),t.listbox.bind("popupafterclose",function(e){t.close()}),t.isMultiple&&t.headerClose.click(function(){if(t.menuType==="overlay")return t.close(),!1}),t.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var e=this.list.find("li"),t=this._selectOptions();return t.text()!==e.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(t,n){var r=this,i=this.element,s=this.isMultiple,o;(t||this._isRebuildRequired())&&r._buildList(),o=this.selectedIndices(),r.setButtonText(),r.setButtonCount(),r.list.find("li:not(.ui-li-divider)").removeClass(e.mobile.activeBtnClass).attr("aria-selected",!1).each(function(t){if(e.inArray(t,o)>-1){var n=e(this);n.attr("aria-selected",!0),r.isMultiple?n.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):n.is(".ui-selectmenu-placeholder")?n.next().addClass(e.mobile.activeBtnClass):n.addClass(e.mobile.activeBtnClass)}})},close:function(){if(this.options.disabled||!this.isOpen)return;var t=this;t.menuType==="page"?e.mobile.back():(t.listbox.popup("close"),t.list.appendTo(t.listbox),t._focusButton()),t.isOpen=!1},open:function(){function d(){var t=n.list.find("."+e.mobile.activeBtnClass+" a");t.length===0&&(t=n.list.find("li.ui-btn:not( :jqmData(placeholder='true') ) a")),t.first().focus().closest("li").addClass("ui-btn-down-"+r.options.theme)}if(this.options.disabled)return;var n=this,i=e(t),s=n.list.parent(),o=s.outerHeight(),u=s.outerWidth(),a=e("."+e.mobile.activePageClass),f=i.scrollTop(),l=n.button.offset().top,c=i.height(),p=i.width();n.button.addClass(e.mobile.activeBtnClass),setTimeout(function(){n.button.removeClass(e.mobile.activeBtnClass)},300),o>c-80||!e.support.scrollTop?(n.menuPage.appendTo(e.mobile.pageContainer).page(),n.menuPageContent=h.find(".ui-content"),n.menuPageClose=h.find(".ui-header a"),n.thisPage.unbind("pagehide.remove"),f===0&&l>c&&n.thisPage.one("pagehide",function(){e(this).jqmData("lastScroll",l)}),n.menuPage.one("pageshow",function(){d(),n.isOpen=!0}),n.menuType="page",n.menuPageContent.append(n.list),n.menuPage.find("div .ui-title").text(n.label.text()),e.mobile.changePage(n.menuPage,{transition:e.mobile.defaultDialogTransition})):(n.menuType="overlay",n.listbox.one("popupafteropen",d).popup("open",{x:n.button.offset().left+n.button.outerWidth()/2,y:n.button.offset().top+n.button.outerHeight()/2}),n.isOpen=!0)},_buildList:function(){var t=this,r=this.options,i=this.placeholder,s=!0,o=[],u=[],a=t.isMultiple?"checkbox-off":"false";t.list.empty().filter(".ui-listview").listview("destroy");var f=t.select.find("option"),l=f.length,c=this.select[0],h="data-"+e.mobile.ns,p=h+"option-index",d=h+"icon",v=h+"role",m=h+"placeholder",g=n.createDocumentFragment(),y=!1,b;for(var w=0;w<l;w++,y=!1){var E=f[w],S=e(E),x=E.parentNode,T=S.text(),N=n.createElement("a"),C=[];N.setAttribute("href","#"),N.appendChild(n.createTextNode(T));if(x!==c&&x.nodeName.toLowerCase()==="optgroup"){var k=x.getAttribute("label");if(k!==b){var L=n.createElement("li");L.setAttribute(v,"list-divider"),L.setAttribute("role","option"),L.setAttribute("tabindex","-1"),L.appendChild(n.createTextNode(k)),g.appendChild(L),b=k}}s&&(!E.getAttribute("value")||T.length===0||S.jqmData("placeholder"))&&(s=!1,y=!0,E.setAttribute(m,!0),r.hidePlaceholderMenuItems&&C.push("ui-selectmenu-placeholder"),i||(i=t.placeholder=T));var A=n.createElement("li");E.disabled&&(C.push("ui-disabled"),A.setAttribute("aria-disabled",!0)),A.setAttribute(p,w),A.setAttribute(d,a),y&&A.setAttribute(m,!0),A.className=C.join(" "),A.setAttribute("role","option"),N.setAttribute("tabindex","-1"),A.appendChild(N),g.appendChild(A)}t.list[0].appendChild(g),!this.isMultiple&&!i.length?this.header.hide():this.headerTitle.text(this.placeholder),t.list.listview()},_button:function(){return e("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};e(n).bind("selectmenubeforecreate",function(t){var n=e(t.target).data("selectmenu");!n.options.nativeMenu&&n.element.parents(":jqmData(role='popup')").length===0&&i(n)})}(e),function(e,r){e.widget("mobile.fixedtoolbar",e.mobile.widget,{options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-popup",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){var e=t,n=navigator.userAgent,r=navigator.platform,i=n.match(/AppleWebKit\/([0-9]+)/),s=!!i&&i[1],o=n.match(/Fennec\/([0-9]+)/),u=!!o&&o[1],a=n.match(/Opera Mobi\/([0-9]+)/),f=!!a&&a[1];return(r.indexOf("iPhone")>-1||r.indexOf("iPad")>-1||r.indexOf("iPod")>-1)&&s&&s<534||e.operamini&&{}.toString.call(e.operamini)==="[object OperaMini]"||a&&f<7458||n.indexOf("Android")>-1&&s&&s<533||u&&u<6||"palmGetResource"in t&&s&&s<534||n.indexOf("MeeGo")>-1&&n.indexOf("NokiaBrowser/8.5.0")>-1?!0:!1},initSelector:":jqmData(position='fixed')"},_create:function(){var e=this,t=e.options,n=e.element,r=n.is(":jqmData(role='header')")?"header":"footer",i=n.closest(".ui-page");if(t.supportBlacklist()){e.destroy();return}n.addClass("ui-"+r+"-fixed"),t.fullscreen?(n.addClass("ui-"+r+"-fullscreen"),i.addClass("ui-page-"+r+"-fullscreen")):i.addClass("ui-page-"+r+"-fixed"),e._addTransitionClass(),e._bindPageEvents(),e._bindToggleHandlers()},_addTransitionClass:function(){var e=this.options.transition;e&&e!=="none"&&(e==="slide"&&(e=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(e))},_bindPageEvents:function(){var n=this,r=n.options,i=n.element;i.closest(".ui-page").bind("pagebeforeshow",function(){r.disablePageZoom&&e.mobile.zoom.disable(!0),r.visibleOnPageShow||n.hide(!0)}).bind("webkitAnimationStart animationstart updatelayout",function(){var e=this;r.updatePagePadding&&n.updatePagePadding(e)}).bind("pageshow",function(){var i=this;n.updatePagePadding(i),r.updatePagePadding&&e(t).bind("throttledresize."+n.widgetName,function(){n.updatePagePadding(i)})}).bind("pagebeforehide",function(i,s){r.disablePageZoom&&e.mobile.zoom.enable(!0),r.updatePagePadding&&e(t).unbind("throttledresize."+n.widgetName);if(r.trackPersistentToolbars){var u=e(".ui-footer-fixed:jqmData(id)",this),a=e(".ui-header-fixed:jqmData(id)",this),f=u.length&&s.nextPage&&e(".ui-footer-fixed:jqmData(id='"+u.jqmData("id")+"')",s.nextPage)||e(),l=a.length&&s.nextPage&&e(".ui-header-fixed:jqmData(id='"+a.jqmData("id")+"')",s.nextPage)||e();if(f.length||l.length)f.add(l).appendTo(e.mobile.pageContainer),s.nextPage.one("pageshow",function(){f.add(l).appendTo(this)})}})},_visible:!0,updatePagePadding:function(t){var n=this.element,r=n.is(".ui-header");if(this.options.fullscreen)return;t=t||n.closest(".ui-page"),e(t).css("padding-"+(r?"top":"bottom"),n.outerHeight())},_useTransition:function(n){var r=e(t),i=this.element,s=r.scrollTop(),o=i.height(),u=i.closest(".ui-page").height(),a=e.mobile.getScreenHeight(),f=i.is(":jqmData(role='header')")?"header":"footer";return!n&&(this.options.transition&&this.options.transition!=="none"&&(f==="header"&&!this.options.fullscreen&&s>o||f==="footer"&&!this.options.fullscreen&&s+a<u-o)||this.options.fullscreen)},show:function(e){var t="ui-fixed-hidden",n=this.element;this._useTransition(e)?n.removeClass("out "+t).addClass("in"):n.removeClass(t),this._visible=!0},hide:function(e){var t="ui-fixed-hidden",n=this.element,r="out"+(this.options.transition==="slide"?" reverse":"");this._useTransition(e)?n.addClass(r).removeClass("in").animationComplete(function(){n.addClass(t).removeClass(r)}):n.addClass(t).removeClass(r),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var t=this,n=t.options,r=t.element;r.closest(".ui-page").bind("vclick",function(r){n.tapToggle&&!e(r.target).closest(n.tapToggleBlacklist).length&&t.toggle()}).bind("focusin focusout",function(r){screen.width<500&&e(r.target).is(n.hideDuringFocus)&&!e(r.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&t[r.type==="focusin"&&t._visible?"hide":"show"]()})},destroy:function(){this.element.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden"),this.element.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}}),e(n).bind("pagecreate create",function(t){e(t.target).jqmData("fullscreen")&&e(e.mobile.fixedtoolbar.prototype.options.initSelector,t.target).not(":jqmData(fullscreen)").jqmData("fullscreen",!0),e.mobile.fixedtoolbar.prototype.enhanceWithin(t.target)})}(e),function(e,t){function a(e){r=e.originalEvent,u=r.accelerationIncludingGravity,i=Math.abs(u.x),s=Math.abs(u.y),o=Math.abs(u.z),!t.orientation&&(i>7||(o>6&&s<8||o<8&&s>6)&&i>5)?n.enabled&&n.disable():n.enabled||n.enable()}if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1))return;var n=e.mobile.zoom,r,i,s,o,u;e(t).bind("orientationchange.iosorientationfix",n.enable).bind("devicemotion.iosorientationfix",a)}(e,this),function(e,t,r){function u(){i.removeClass("ui-mobile-rendering")}var i=e("html"),s=e("head"),o=e(t);e(t.document).trigger("mobileinit");if(!e.mobile.gradeA())return;e.mobile.ajaxBlacklist&&(e.mobile.ajaxEnabled=!1),i.addClass("ui-mobile ui-mobile-rendering"),setTimeout(u,5e3),e.extend(e.mobile,{initializePage:function(){var t=e(":jqmData(role='page'), :jqmData(role='dialog')"),r=e.mobile.path.parseLocation().hash.replace("#",""),i=n.getElementById(r);t.length||(t=e("body").wrapInner("<div data-"+e.mobile.ns+"role='page'></div>").children(0)),t.each(function(){var t=e(this);t.jqmData("url")||t.attr("data-"+e.mobile.ns+"url",t.attr("id")||location.pathname+location.search)}),e.mobile.firstPage=t.first(),e.mobile.pageContainer=t.first().parent().addClass("ui-mobile-viewport"),o.trigger("pagecontainercreate"),e.mobile.showPageLoadingMsg(),u(),!e.mobile.hashListeningEnabled||!e.mobile.path.isHashValid(location.hash)||!e(i).is(':jqmData(role="page")')&&!e.mobile.path.isPath(r)&&r!==e.mobile.dialogHashKey?(e.mobile.path.isHashValid(location.hash)&&(e.mobile.urlHistory.initialDst=r.replace("#","")),e.mobile.changePage(e.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0})):o.trigger("hashchange",[!0])}}),e.mobile.navreadyDeferred.resolve(),e(function(){t.scrollTo(0,1),e.mobile.defaultHomeScroll=!e.support.scrollTop||e(t).scrollTop()===1?0:1,e.fn.controlgroup&&e(n).bind("pagecreate create",function(t){e(":jqmData(role='controlgroup')",t.target).jqmEnhanceable().controlgroup({excludeInvisible:!1})}),e.mobile.autoInitializePage&&e.mobile.initializePage(),o.load(e.mobile.silentScroll),e.support.cssPointerEvents||e(n).delegate(".ui-disabled","vclick",function(e){e.preventDefault(),e.stopImmediatePropagation()})})}(e,this)}),function(e,t){function Z(e){return new et(e)}function et(e){if(e&&e._wrapped)return e;this._wrapped=e}function ft(e,t,n){t||(t=0);var r=e.length,i=r-t>=(n||30),s=i?{}:e;if(i){var o,u=t-1;while(++u<r)o=e[u]+"",(N.call(s,o)?s[o]:s[o]=[]).push(e[u])}return function(e){if(i){var n=e+"";return N.call(s,n)&&qt(s[n],e)>-1}return qt(s,e,t)>-1}}function lt(){var e,t,n,r=-1,i=arguments.length,s={bottom:"",exit:"",init:"",top:"",arrayBranch:{beforeLoop:""},objectBranch:{beforeLoop:""}};while(++r<i){e=arguments[r];for(t in e)n=(n=e[t])==null?"":n,/beforeLoop|inLoop/.test(t)?(typeof n=="string"&&(n={array:n,object:n}),s.arrayBranch[t]=n.array,s.objectBranch[t]=n.object):s[t]=n}var o=s.args,u=/^[^,]+/.exec(o)[0];s.firstArg=u,s.hasDontEnumBug=z,s.isKeysFast=$,s.shadowed=w,s.useHas=s.useHas!==!1,s.useStrict=s.useStrict!==!1,"noCharByIndex"in s||(s.noCharByIndex=X),s.exit||(s.exit="if (!"+u+") return result");if(u!="collection"||!s.arrayBranch.inLoop)s.arrayBranch=null;var a=Function("arrayClass, bind, compareAscending, funcClass, hasOwnProperty, identity, iteratorBind, objectTypes, nativeKeys, propertyIsEnumerable, slice, stringClass, toString","return function("+o+") {\n"+tt(s)+"\n}");return a(P,rn,ct,j,N,zn,vt,G,D,k,L,q,A)}function ct(e,n){return e=e.criteria,n=n.criteria,e===t?1:n===t?-1:e<n?-1:e>n?1:0}function ht(e,t){return x[t]}function pt(e){return"\\"+Y[e]}function dt(e){return Q[e]}function vt(e,t){return function(n,r,i){return e.call(t,n,r,i)}}function mt(){}function yt(e,t){if(c.test(t))return"<e%-"+t+"%>";var n=x.length;return x[n]="' +\n__e("+t+") +\n'",S+n}function bt(e,t,n,r){var i=x.length;return t?x[i]="';\n"+t+";\n__p += '":n?x[i]="' +\n__e("+n+") +\n'":r&&(x[i]="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),S+i}function wt(e,t){if(c.test(t))return"<e%="+t+"%>";var n=x.length;return x[n]="' +\n((__t = ("+t+")) == null ? '' : __t) +\n'",S+n}function Mt(e,t,n,r){if(!e)return n;var i=e.length,s=arguments.length<3;r&&(t=vt(t,r));if(i===i>>>0){var o=X&&A.call(e)==q?e.split(""):e;i&&s&&(n=o[--i]);while(i--)n=t(n,o[i],i,e);return n}var u,a=Fn(e);i=a.length,i&&s&&(n=e[a[--i]]);while(i--)u=a[i],n=t(n,e[u],u,e);return n}function Ht(e){if(!e)return[];if(e.toArray&&A.call(e.toArray)==j)return e.toArray();var t=e.length;return t===t>>>0?(W?A.call(e)==q:typeof e=="string")?e.split(""):L.call(e):Rn(e)}function Bt(e){var t=[];if(!e)return t;var n=-1,r=e.length;while(++n<r)e[n]&&t.push(e[n]);return t}function jt(e){var t=[];if(!e)return t;var n=-1,r=e.length,i=T.apply(t,arguments),s=ft(i,r);while(++n<r)s(e[n])||t.push(e[n]);return t}function Ft(e,t,n){if(e)return t==null||n?e[0]:L.call(e,0,t)}function It(e,t){var n=[];if(!e)return n;var r,i=-1,s=e.length;while(++i<s)r=e[i],xn(r)?C.apply(n,t?r:It(r)):n.push(r);return n}function qt(e,t,n){if(!e)return-1;var r=-1,i=e.length;if(n){if(typeof n!="number")return r=Qt(e,t),e[r]===t?r:-1;r=(n<0?Math.max(0,i+n):n)-1}while(++r<i)if(e[r]===t)return r;return-1}function Rt(e,t,n){return e?L.call(e,0,-(t==null||n?1:t)):[]}function Ut(e){var t=[];if(!e)return t;var n,r=-1,i=e.length,s=L.call(arguments,1),o=[];while(++r<i)n=e[r],qt(t,n)<0&&St(s,function(e,t){return(o[t]||(o[t]=ft(e)))(n)})&&t.push(n);return t}function zt(e,t,n){if(e){var r=e.length;return t==null||n?e[r-1]:L.call(e,-t||r)}}function Wt(e,t,n){if(!e)return-1;var r=e.length;n&&typeof n=="number"&&(r=(n<0?Math.max(0,r+n):Math.min(n,r-1))+1);while(r--)if(e[r]===t)return r;return-1}function Xt(e,t,n){var r=-Infinity,i=r;if(!e)return i;var s,o=-1,u=e.length;if(!t){while(++o<u)e[o]>i&&(i=e[o]);return i}n&&(t=vt(t,n));while(++o<u)s=t(e[o],o,e),s>r&&(r=s,i=e[o]);return i}function Vt(e,t,n){var r=Infinity,i=r;if(!e)return i;var s,o=-1,u=e.length;if(!t){while(++o<u)e[o]<i&&(i=e[o]);return i}n&&(t=vt(t,n));while(++o<u)s=t(e[o],o,e),s<r&&(r=s,i=e[o]);return i}function $t(e,t,n){n||(n=1),t==null&&(t=e||0,e=0);var r=-1,i=Math.max(0,Math.ceil((t-e)/n)),s=Array(i);while(++r<i)s[r]=e,e+=n;return s}function Jt(e,t,n){return e?L.call(e,t==null||n?1:t):[]}function Kt(e){if(!e)return[];var t,n=-1,r=e.length,i=Array(r);while(++n<r)t=Math.floor(Math.random()*(n+1)),i[n]=i[t],i[t]=e[n];return i}function Qt(e,t,n,r){if(!e)return 0;var i,s=0,o=e.length;if(n){r&&(n=rn(n,r)),t=n(t);while(s<o)i=s+o>>>1,n(e[i])<t?s=i+1:o=i}else while(s<o)i=s+o>>>1,e[i]<t?s=i+1:o=i;return s}function Gt(){var e=-1,t=[],n=T.apply(t,arguments),r=n.length;while(++e<r)qt(t,n[e])<0&&t.push(n[e]);return t}function Yt(e,t,n,r){var i=[];if(!e)return i;var s,o=-1,u=e.length,a=[];typeof t=="function"&&(r=n,n=t,t=!1),n?r&&(n=vt(n,r)):n=zn;while(++o<u){s=n(e[o],o,e);if(t?!o||a[a.length-1]!==s:qt(a,s)<0)a.push(s),i.push(e[o])}return i}function Zt(e){var t=[];if(!e)return t;var n=-1,r=e.length,i=ft(arguments,1,20);while(++n<r)i(e[n])||t.push(e[n]);return t}function en(e){if(!e)return[];var t=-1,n=Xt(At(arguments,"length")),r=Array(n);while(++t<n)r[t]=At(arguments,t);return r}function tn(e,t){if(!e)return{};var n=-1,r=e.length,i={};t||(t=[]);while(++n<r)i[e[n]]=t[n];return i}function nn(e,t){return e<1?t():function(){if(--e<1)return t.apply(this,arguments)}}function rn(e,t){function s(){var o=arguments,u=t;r||(e=t[n]),i.length&&(o=o.length?T.apply(i,o):i);if(this instanceof s){mt.prototype=e.prototype,u=new mt;var a=e.apply(u,o);return a&&G[typeof a]?a:u}return e.apply(u,o)}var n,r=A.call(e)==j;if(!r)n=t,t=e;else if(V||O&&arguments.length>2)return O.call.apply(O,arguments);var i=L.call(arguments,2);return s}function on(){var e=arguments;return function(){var t=arguments,n=e.length;while(n--)t=[e[n].apply(this,t)];return t[0]}}function un(e,t,n){function u(){o=null,n||e.apply(s,r)}var r,i,s,o;return function(){var a=n&&!o;return r=arguments,s=this,R(o),o=U(u,t),a&&(i=e.apply(s,r)),i}}function an(e,n){var r=L.call(arguments,2);return U(function(){return e.apply(t,r)},n)}function fn(e){var n=L.call(arguments,1);return U(function(){return e.apply(t,n)},1)}function ln(e,t){var n={};return function(){var r=t?t.apply(this,arguments):arguments[0];return N.call(n,r)?n[r]:n[r]=e.apply(this,arguments)}}function cn(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),t)}}function hn(e){var t=L.call(arguments,1),n=t.length;return function(){var r,i=arguments;return i.length&&(t.length=n,C.apply(t,i)),r=t.length==1?e.call(this,t[0]):e.apply(this,t),t.length=n,r}}function pn(e,t){function u(){o=new Date,s=null,e.apply(i,n)}var n,r,i,s,o=0;return function(){var a=new Date,f=t-(a-o);return n=arguments,i=this,f<=0?(o=a,r=e.apply(i,n)):s||(s=U(u,f)),r}}function dn(e,t){return function(){var n=[e];return arguments.length&&C.apply(n,arguments),t.apply(this,n)}}function vn(e){return e&&G[typeof e]?xn(e)?e.slice():gn({},e):e}function En(e,t){return N.call(e,t)}function Tn(e){return e===!0||e===!1||A.call(e)==H}function Nn(e){return A.call(e)==B}function Cn(e){return!!e&&e.nodeType==1}function Ln(e,t,n){n||(n=[]);if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e._chain&&(e=e._wrapped),t._chain&&(t=t._wrapped);if(e.isEqual&&A.call(e.isEqual)==j)return e.isEqual(t);if(t.isEqual&&A.call(t.isEqual)==j)return t.isEqual(e);var r=A.call(e);if(r!=A.call(t))return!1;switch(r){case q:return e==String(t);case F:return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case H:case B:return+e==+t;case I:return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var i=n.length;while(i--)if(n[i]==e)return!0;var s=-1,o=!0,u=0;n.push(e);if(r==P){u=e.length,o=u==t.length;if(o)while(u--)if(!(o=Ln(e[u],t[u],n)))break}else{if("constructor"in e!="constructor"in t||e.constructor!=t.constructor)return!1;for(var a in e)if(N.call(e,a)){u++;if(!(o=N.call(t,a)&&Ln(e[a],t[a],n)))break}if(o){for(a in t)if(N.call(t,a)&&!(u--))break;o=!u}if(o&&z)while(++s<7){a=w[s];if(N.call(e,a)&&!(o=N.call(t,a)&&Ln(e[a],t[a],n)))break}}return n.pop(),o}function An(e){return _(e)&&A.call(e)==F}function On(e){return A.call(e)==j}function Mn(e){return e&&G[typeof e]}function _n(e){return A.call(e)==F&&e!=+e}function Dn(e){return e===null}function Pn(e){return A.call(e)==F}function Hn(e){return A.call(e)==I}function Bn(e){return A.call(e)==q}function jn(e){return e===t}function In(e){var t,n=0,r=T.apply(u,arguments),i=r.length,s={};while(++n<i)t=r[n],t in e&&(s[t]=e[t]);return s}function qn(e){if(!e)return 0;var t=e.length;return t===t>>>0?e.length:Fn(e).length}function Un(e){return e==null?"":(e+"").replace(y,dt)}function zn(e){return e}function Wn(e){Nt(wn(e),function(t){var n=Z[t]=e[t];et.prototype[t]=function(){var e=[this._wrapped];arguments.length&&C.apply(e,arguments);var t=n.apply(Z,e);return this._chain&&(t=new et(t),t._chain=!0),t}})}function Xn(){return e._=l,this}function Vn(e,t){if(!e)return null;var n=e[t];return A.call(n)==j?e[t]():n}function $n(e,t,o){o||(o={});var u,a,f=o.escape,l=o.evaluate,c=o.interpolate,m=Z.templateSettings,y=o.variable;f==null&&(f=m.escape),l==null&&(l=m.evaluate),c==null&&(c=m.interpolate),f&&(e=e.replace(f,yt)),c&&(e=e.replace(c,wt)),l!=n&&(n=l,s=RegExp((l?l.source:"($^)")+"|<e%-([\\s\\S]+?)%>|<e%=([\\s\\S]+?)%>","g")),u=x.length,e=e.replace(s,bt),u=u!=x.length,e="__p += '"+e.replace(b,pt).replace(g,ht)+"';\n",x.length=0,y||(y=m.variable||r||"obj",u?e="with ("+y+") {\n"+e+"\n}\n":(y!=r&&(r=y,i=RegExp("(\\(\\s*)"+y+"\\."+y+"\\b","g")),e=e.replace(v,"$&"+y+".").replace(i,"$1__d"))),e=(u?e.replace(h,""):e).replace(p,"$1").replace(d,"$1;"),e="function("+y+") {\n"+y+" || ("+y+" = {});\n"+"var __t, __p = '', __e = _.escape"+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":", __d = "+y+"."+y+" || "+y+";\n")+e+"return __p\n}",J&&(e+="\n//@ sourceURL=/lodash/template/source["+E++ +"]");try{a=Function("_","return "+e)(Z)}catch(w){a=function(){throw w}}return t?a(t):(a.source=e,a)}function Jn(e,t,n){var r=-1;if(n)while(++r<e)t.call(n,r);else while(++r<e)t(r)}function Kn(e){var t=f++;return e?e+t:t}function Qn(e){return e=new et(e),e._chain=!0,e}function Gn(e,t){return t(e),e}function Yn(){return this._chain=!0,this}function Zn(){return this._wrapped}var n,r,i,s,o=typeof exports=="object"&&exports&&(typeof global=="object"&&global&&global==global.global&&(e=global),exports),u=Array.prototype,a=Object.prototype,f=0,l=e._,c=/[-+=!~*%&^<>|{(\/]|\[\D|\b(?:delete|in|instanceof|new|typeof|void)\b/,h=/\b__p \+= '';/g,p=/\b(__p \+=) '' \+/g,d=/(__e\(.*?\)|\b__t\)) \+\n'';/g,v=/(?:__e|__t = )\(\s*(?![\d\s"']|this\.)/g,m=RegExp("^"+(a.valueOf+"").replace(/[.*+?^=!:${}()|[\]\/\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),g=/__token__(\d+)/g,y=/[&<"']/g,b=/['\n\r\t\u2028\u2029\\]/g,w=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],E=0,S="__token__",x=[],T=u.concat,N=a.hasOwnProperty,C=u.push,k=a.propertyIsEnumerable,L=u.slice,A=a.toString,O=m.test(O=L.bind)&&O,M=m.test(M=Array.isArray)&&M,_=e.isFinite,D=m.test(D=Object.keys)&&D,P="[object Array]",H="[object Boolean]",B="[object Date]",j="[object Function]",F="[object Number]",I="[object RegExp]",q="[object String]",R=e.clearTimeout,U=e.setTimeout,z=!k.call({valueOf:0},"valueOf"),W=L.call("x")[0]!="x",X="x"[0]+Object("x")[0]!="xx",V=O&&/\n|Opera/.test(O+A.call(e.opera)),$=D&&/^.+$|true/.test(D+!!e.attachEvent);try{var J=(Function("//@cc_on!")(),!0)}catch(K){}var Q={"&":"&amp;","<":"&lt;",'"':"&quot;","'":"&#x27;"},G={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,"undefined":!1},Y={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};Z.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,variable:"obj"};var tt=$n("<% if (useStrict) { %>'use strict';\n<% } %>var index, iteratee = <%= firstArg %>, result<% if (init) { %> = <%= init %><% } %>;\n<%= exit %>;\n<%= top %>;\n<% if (arrayBranch) { %>var length = iteratee.length; index = -1;  <% if (objectBranch) { %>\nif (length === length >>> 0) {<% } %>  <% if (noCharByIndex) { %>\n  if (toString.call(iteratee) == stringClass) {\n    iteratee = iteratee.split('')\n  }  <% } %>\n  <%= arrayBranch.beforeLoop %>;\n  while (++index < length) {\n    <%= arrayBranch.inLoop %>\n  }  <% if (objectBranch) { %>\n}<% } %><% } %><% if (objectBranch) { %>  <% if (arrayBranch) { %>\nelse {<% } %>  <% if (!hasDontEnumBug) { %>\n  var skipProto = typeof iteratee == 'function' && \n    propertyIsEnumerable.call(iteratee, 'prototype');\n  <% } %>  <% if (isKeysFast && useHas) { %>\n  var props = nativeKeys(iteratee),\n      propIndex = -1,\n      length = props.length;\n\n  <%= objectBranch.beforeLoop %>;\n  while (++propIndex < length) {\n    index = props[propIndex];\n    if (!(skipProto && index == 'prototype')) {\n      <%= objectBranch.inLoop %>\n    }\n  }  <% } else { %>\n  <%= objectBranch.beforeLoop %>;\n  for (index in iteratee) {    <% if (hasDontEnumBug) { %>\n    <%   if (useHas) { %>if (hasOwnProperty.call(iteratee, index)) {\n  <% } %>    <%= objectBranch.inLoop %>;\n    <%   if (useHas) { %>}<% } %>    <% } else { %>\n    if (!(skipProto && index == 'prototype')<% if (useHas) { %> &&\n        hasOwnProperty.call(iteratee, index)<% } %>) {\n      <%= objectBranch.inLoop %>\n    }    <% } %>\n  }  <% } %>  <% if (hasDontEnumBug) { %>\n\n  var ctor = iteratee.constructor;\n    <% for (var k = 0; k < 7; k++) { %>\n  index = '<%= shadowed[k] %>';\n  if (<%      if (shadowed[k] == 'constructor') {        %>!(ctor && ctor.prototype === iteratee) && <%      } %>hasOwnProperty.call(iteratee, index)) {\n    <%= objectBranch.inLoop %>\n  }    <% } %>  <% } %>  <% if (arrayBranch) { %>\n}<% } %><% } %>\n<%= bottom %>;\nreturn result"),nt={args:"collection, callback, thisArg",init:"collection",top:"if (!callback) {\n  callback = identity\n}\nelse if (thisArg) {\n  callback = iteratorBind(callback, thisArg)\n}",inLoop:"callback(iteratee[index], index, collection)"},rt={init:"true",inLoop:"if (!callback(iteratee[index], index, collection)) return !result"},it={useHas:!1,useStrict:!1,args:"object",init:"object",top:"for (var iterateeIndex = 1, length = arguments.length; iterateeIndex < length; iterateeIndex++) {\n  iteratee = arguments[iterateeIndex];\n"+(z?"  if (iteratee) {":""),inLoop:"result[index] = iteratee[index]",bottom:(z?"  }\n":"")+"}"},st={init:"[]",inLoop:"callback(iteratee[index], index, collection) && result.push(iteratee[index])"},ot={top:"if (thisArg) callback = iteratorBind(callback, thisArg)"},ut={inLoop:{object:nt.inLoop}},at={init:"",exit:"if (!collection) return []",beforeLoop:{array:"result = Array(length)",object:"result = "+($?"Array(length)":"[]")},inLoop:{array:"result[index] = callback(iteratee[index], index, collection)",object:"result"+($?"[propIndex] = ":".push")+"(callback(iteratee[index], index, collection))"}},gt=lt({args:"object",exit:"if (!(object && objectTypes[typeof object])) throw TypeError()",init:"[]",inLoop:"result.push(index)"}),Et=lt({args:"collection, target",init:"false",noCharByIndex:!1,beforeLoop:{array:"if (toString.call(iteratee) == stringClass) return collection.indexOf(target) > -1"},inLoop:"if (iteratee[index] === target) return true"}),St=lt(nt,rt),xt=lt(nt,st),Tt=lt(nt,ot,{init:"",inLoop:"if (callback(iteratee[index], index, collection)) return iteratee[index]"}),Nt=lt(nt,ot),Ct=lt(nt,{init:"{}",top:"var prop, isFunc = typeof callback == 'function';\nif (isFunc && thisArg) callback = iteratorBind(callback, thisArg)",inLoop:"prop = isFunc\n  ? callback(iteratee[index], index, collection)\n  : iteratee[index][callback];\n(hasOwnProperty.call(result, prop) ? result[prop] : result[prop] = []).push(iteratee[index])"}),kt=lt(at,{args:"collection, methodName",top:"var args = slice.call(arguments, 2),\n    isFunc = typeof methodName == 'function'",inLoop:{array:"result[index] = (isFunc ? methodName : iteratee[index][methodName]).apply(iteratee[index], args)",object:"result"+($?"[propIndex] = ":".push")+"((isFunc ? methodName : iteratee[index][methodName]).apply(iteratee[index], args))"}}),Lt=lt(nt,at),At=lt(at,{args:"collection, property",inLoop:{array:"result[index] = iteratee[index][property]",object:"result"+($?"[propIndex] = ":".push")+"(iteratee[index][property])"}}),Ot=lt({args:"collection, callback, accumulator, thisArg",init:"accumulator",top:"var noaccum = arguments.length < 3;\nif (thisArg) callback = iteratorBind(callback, thisArg)",beforeLoop:{array:"if (noaccum) result = collection[++index]"},inLoop:{array:"result = callback(result, iteratee[index], index, collection)",object:"result = noaccum\n  ? (noaccum = false, iteratee[index])\n  : callback(result, iteratee[index], index, collection)"}}),_t=lt(nt,st,{inLoop:"!"+st.inLoop}),Dt=lt(nt,rt,{init:"false",inLoop:rt.inLoop.replace("!","")}),Pt=lt(nt,at,{top:"if (typeof callback == 'string') {\n  var prop = callback;\n  callback = function(collection) { return collection[prop] }\n}\nelse if (thisArg) {\n  callback = iteratorBind(callback, thisArg)\n}",inLoop:{array:"result[index] = {\n  criteria: callback(iteratee[index], index, collection),\n  value: iteratee[index]\n}",object:"result"+($?"[propIndex] = ":".push")+"({\n"+"  criteria: callback(iteratee[index], index, collection),\n"+"  value: iteratee[index]\n"+"})"},bottom:"result.sort(compareAscending);\nlength = result.length;\nwhile (length--) {\n  result[length] = result[length].value\n}"}),sn=lt({useHas:!1,useStrict:!1,args:"object",init:"object",top:"var funcs = arguments,\n    length = funcs.length;\nif (length > 1) {\n  for (var index = 1; index < length; index++)\n    result[funcs[index]] = bind(result[funcs[index]], result);\n  return result\n}",inLoop:"if (toString.call(result[index]) == funcClass) result[index] = bind(result[index], result)"}),mn=lt(it,{inLoop:"if (result[index] == null) "+it.inLoop}),gn=lt(it),yn=lt(nt,ot,ut,{useHas:!1}),bn=lt(nt,ot,ut),wn=lt({useHas:!1,args:"object",init:"[]",inLoop:"if (toString.call(iteratee[index]) == funcClass) result.push(index)",bottom:"result.sort()"}),Sn=function(e){return A.call(e)=="[object Arguments]"};Sn(arguments)||(Sn=function(e){return!!e&&!!N.call(e,"callee")});var xn=M||function(e){return A.call(e)==P},kn=lt({args:"value",init:"true",top:"var className = toString.call(value);\nif (className == arrayClass || className == stringClass) return !value.length",inLoop:{object:"return false"}}),Fn=D?function(e){return typeof e=="function"&&k.call(e,"prototype")?gt(e):D(e)}:gt,Rn=lt({args:"object",init:"[]",inLoop:"result.push(iteratee[index])"});Z.VERSION="0.4.2",Z.after=nn,Z.bind=rn,Z.bindAll=sn,Z.chain=Qn,Z.clone=vn,Z.compact=Bt,Z.compose=on,Z.contains=Et,Z.debounce=un,Z.defaults=mn,Z.defer=fn,Z.delay=an,Z.difference=jt,Z.escape=Un,Z.every=St,Z.extend=gn,Z.filter=xt,Z.find=Tt,Z.first=Ft,Z.flatten=It,Z.forEach=Nt,Z.forIn=yn,Z.forOwn=bn,Z.functions=wn,Z.groupBy=Ct,Z.has=En,Z.identity=zn,Z.indexOf=qt,Z.initial=Rt,Z.intersection=Ut,Z.invoke=kt,Z.isArguments=Sn,Z.isArray=xn,Z.isBoolean=Tn,Z.isDate=Nn,Z.isElement=Cn,Z.isEmpty=kn,Z.isEqual=Ln,Z.isFinite=An,Z.isFunction=On,Z.isNaN=_n,Z.isNull=Dn,Z.isNumber=Pn,Z.isObject=Mn,Z.isRegExp=Hn,Z.isString=Bn,Z.isUndefined=jn,Z.keys=Fn,Z.last=zt,Z.lastIndexOf=Wt,Z.map=Lt,Z.max=Xt,Z.memoize=ln,Z.min=Vt,Z.mixin=Wn,Z.noConflict=Xn,Z.once=cn,Z.partial=hn,Z.pick=In,Z.pluck=At,Z.range=$t,Z.reduce=Ot,Z.reduceRight=Mt,Z.reject=_t,Z.rest=Jt,Z.result=Vn,Z.shuffle=Kt,Z.size=qn,Z.some=Dt,Z.sortBy=Pt,Z.sortedIndex=Qt,Z.tap=Gn,Z.template=$n,Z.throttle=pn,Z.times=Jn,Z.toArray=Ht,Z.union=Gt,Z.uniq=Yt,Z.uniqueId=Kn,Z.values=Rn,Z.without=Zt,Z.wrap=dn,Z.zip=en,Z.zipObject=tn,Z.all=St,Z.any=Dt,Z.collect=Lt,Z.detect=Tt,Z.each=Nt,Z.foldl=Ot,Z.foldr=Mt,Z.head=Ft,Z.include=Et,Z.inject=Ot,Z.methods=wn,Z.select=xt,Z.tail=Jt,Z.take=Ft,Z.unique=Yt,Z._iteratorTemplate=tt,Z._shimKeys=gt,et.prototype=Z.prototype,Wn(Z),et.prototype.chain=Yn,et.prototype.value=Zn,Nt(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];et.prototype[e]=function(){var e=this._wrapped;return t.apply(e,arguments),e.length===0&&delete e[0],this._chain&&(e=new et(e),e._chain=!0),e}}),Nt(["concat","join","slice"],function(e){var t=u[e];et.prototype[e]=function(){var e=this._wrapped,n=t.apply(e,arguments);return this._chain&&(n=new et(n),n._chain=!0),n}}),typeof define=="function"&&typeof define.amd=="object"&&define.amd?(e._=Z,define("underscore",[],function(){return Z})):o?typeof module=="object"&&module&&module.exports==o?(module.exports=Z)._=Z:o._=Z:e._=Z}(this),function(){var e=this,t=e.Backbone,n=Array.prototype.slice,r=Array.prototype.splice,i;typeof exports!="undefined"?i=exports:i=e.Backbone={},i.VERSION="0.9.2";var s=e._;!s&&typeof require!="undefined"&&(s=require("underscore"));var o=e.jQuery||e.Zepto||e.ender;i.setDomLibrary=function(e){o=e},i.noConflict=function(){return e.Backbone=t,this},i.emulateHTTP=!1,i.emulateJSON=!1;var u=/\s+/,a=i.Events={on:function(e,t,n){var r,i,s,o,a;if(!t)return this;e=e.split(u),r=this._callbacks||(this._callbacks={});while(i=e.shift())a=r[i],s=a?a.tail:{},s.next=o={},s.context=n,s.callback=t,r[i]={tail:o,next:a?a.next:s};return this},off:function(e,t,n){var r,i,o,a,f,l;if(!(i=this._callbacks))return;if(!(e||t||n))return delete this._callbacks,this;e=e?e.split(u):s.keys(i);while(r=e.shift()){o=i[r],delete i[r];if(!o||!t&&!n)continue;a=o.tail;while((o=o.next)!==a)f=o.callback,l=o.context,(t&&f!==t||n&&l!==n)&&this.on(r,f,l)}return this},trigger:function(e){var t,r,i,s,o,a,f;if(!(i=this._callbacks))return this;a=i.all,e=e.split(u),f=n.call(arguments,1);while(t=e.shift()){if(r=i[t]){s=r.tail;while((r=r.next)!==s)r.callback.apply(r.context||this,f)}if(r=a){s=r.tail,o=[t].concat(f);while((r=r.next)!==s)r.callback.apply(r.context||this,o)}}return this}};a.bind=a.on,a.unbind=a.off;var f=i.Model=function(e,t){var n;e||(e={}),t&&t.parse&&(e=this.parse(e));if(n=C(this,"defaults"))e=s.extend({},n,e);t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=s.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=s.clone(this.attributes),this.initialize.apply(this,arguments)};s.extend(f.prototype,a,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return s.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var n=this.get(e);return this._escapedAttributes[e]=s.escape(n==null?"":""+n)},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i,o;s.isObject(e)||e==null?(r=e,n=t):(r={},r[e]=t),n||(n={});if(!r)return this;r instanceof f&&(r=r.attributes);if(n.unset)for(i in r)r[i]=void 0;if(!this._validate(r,n))return!1;this.idAttribute in r&&(this.id=r[this.idAttribute]);var u=n.changes={},a=this.attributes,l=this._escapedAttributes,c=this._previousAttributes||{};for(i in r){o=r[i];if(!s.isEqual(a[i],o)||n.unset&&s.has(a,i))delete l[i],(n.silent?this._silent:u)[i]=!0;n.unset?delete a[i]:a[i]=o,!s.isEqual(c[i],o)||s.has(a,i)!=s.has(c,i)?(this.changed[i]=o,n.silent||(this._pending[i]=!0)):(delete this.changed[i],delete this._pending[i])}return n.silent||this.change(n),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(s.clone(this.attributes),e)},fetch:function(e){e=e?s.clone(e):{};var t=this,n=e.success;return e.success=function(r,i,s){if(!t.set(t.parse(r,s),e))return!1;n&&n(t,r)},e.error=i.wrapError(e.error,t,e),(this.sync||i.sync).call(this,"read",this,e)},save:function(e,t,n){var r,o;s.isObject(e)||e==null?(r=e,n=t):(r={},r[e]=t),n=n?s.clone(n):{};if(n.wait){if(!this._validate(r,n))return!1;o=s.clone(this.attributes)}var u=s.extend({},n,{silent:!0});if(r&&!this.set(r,n.wait?u:n))return!1;var a=this,f=n.success;n.success=function(e,t,i){var o=a.parse(e,i);n.wait&&(delete n.wait,o=s.extend(r||{},o));if(!a.set(o,n))return!1;f?f(a,e):a.trigger("sync",a,e,n)},n.error=i.wrapError(n.error,a,n);var l=this.isNew()?"create":"update",c=(this.sync||i.sync).call(this,l,this,n);return n.wait&&this.set(o,u),c},destroy:function(e){e=e?s.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(this.isNew())return r(),!1;e.success=function(i){e.wait&&r(),n?n(t,i):t.trigger("sync",t,i,e)},e.error=i.wrapError(e.error,t,e);var o=(this.sync||i.sync).call(this,"delete",this,e);return e.wait||r(),o},url:function(){var e=C(this,"urlRoot")||C(this.collection,"url")||k();return this.isNew()?e:e+(e.charAt(e.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(e){e||(e={});var t=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var r=s.extend({},e.changes,this._silent);this._silent={};for(var n in r)this.trigger("change:"+n,this,this.get(n),e);if(t)return this;while(!s.isEmpty(this._pending)){this._pending={},this.trigger("change",this,e);for(var n in this.changed){if(this._pending[n]||this._silent[n])continue;delete this.changed[n]}this._previousAttributes=s.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?s.has(this.changed,e):!s.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?s.clone(this.changed):!1;var t,n=!1,r=this._previousAttributes;for(var i in e){if(s.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return s.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=s.extend({},this.attributes,e);var n=this.validate(e,t);return n?(t&&t.error?t.error(this,n,t):this.trigger("error",this,n,t),!1):!0}});var l=i.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};s.extend(l.prototype,a,{model:f,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){var n,i,o,u,a,f,l={},c={},h=[];t||(t={}),e=s.isArray(e)?e.slice():[e];for(n=0,o=e.length;n<o;n++){if(!(u=e[n]=this._prepareModel(e[n],t)))throw new Error("Can't add an invalid model to a collection");a=u.cid,f=u.id;if(l[a]||this._byCid[a]||f!=null&&(c[f]||this._byId[f])){h.push(n);continue}l[a]=c[f]=u}n=h.length;while(n--)e.splice(h[n],1);for(n=0,o=e.length;n<o;n++)(u=e[n]).on("all",this._onModelEvent,this),this._byCid[u.cid]=u,u.id!=null&&(this._byId[u.id]=u);this.length+=o,i=t.at!=null?t.at:this.models.length,r.apply(this.models,[i,0].concat(e)),this.comparator&&this.sort({silent:!0});if(t.silent)return this;for(n=0,o=this.models.length;n<o;n++){if(!l[(u=this.models[n]).cid])continue;t.index=n,u.trigger("add",u,this,t)}return this},remove:function(e,t){var n,r,i,o;t||(t={}),e=s.isArray(e)?e.slice():[e];for(n=0,r=e.length;n<r;n++){o=this.getByCid(e[n])||this.get(e[n]);if(!o)continue;delete this._byId[o.id],delete this._byCid[o.cid],i=this.indexOf(o),this.models.splice(i,1),this.length--,t.silent||(t.index=i,o.trigger("remove",o,this,t)),this._removeReference(o)}return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return e==null?void 0:this._byId[e.id!=null?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return s.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){e||(e={});if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=s.bind(this.comparator,this);return this.comparator.length==1?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return s.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]),t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return this._reset(),this.add(e,s.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?s.clone(e):{},e.parse===undefined&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r,i,s){t[e.add?"add":"reset"](t.parse(r,s),e),n&&n(t,r)},e.error=i.wrapError(e.error,t,e),(this.sync||i.sync).call(this,"read",this,e)},create:function(e,t){var n=this;t=t?s.clone(t):{},e=this._prepareModel(e,t);if(!e)return!1;t.wait||n.add(e,t);var r=t.success;return t.success=function(i,s,o){t.wait&&n.add(i,t),r?r(i,s):i.trigger("sync",e,s,t)},e.save(null,t),e},parse:function(e,t){return e},chain:function(){return s(this.models).chain()},_reset:function(e){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){t||(t={});if(e instanceof f)e.collection||(e.collection=this);else{var n=e;t.collection=this,e=new this.model(n,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e=="add"||e=="remove")&&n!=this)return;e=="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments)}});var c=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];s.each(c,function(e){l.prototype[e]=function(){return s[e].apply(s,[this.models].concat(s.toArray(arguments)))}});var h=i.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},p=/:\w+/g,d=/\*\w+/g,v=/[-[\]{}()+?.,\\^$|#\s]/g;s.extend(h.prototype,a,{initialize:function(){},route:function(e,t,n){return i.history||(i.history=new m),s.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),i.history.route(e,s.bind(function(r){var s=this._extractParameters(e,r);n&&n.apply(this,s),this.trigger.apply(this,["route:"+t].concat(s)),i.history.trigger("route",this,t,s)},this)),this},navigate:function(e,t){i.history.navigate(e,t)},_bindRoutes:function(){if(!this.routes)return;var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var n=0,r=e.length;n<r;n++)this.route(e[n][0],e[n][1],this[e[n][1]])},_routeToRegExp:function(e){return e=e.replace(v,"\\$&").replace(p,"([^/]+)").replace(d,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var m=i.History=function(){this.handlers=[],s.bindAll(this,"checkUrl")},g=/^[#\/]/,y=/msie [\w.]+/;m.started=!1,s.extend(m.prototype,a,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||t){e=window.location.pathname;var n=window.location.search;n&&(e+=n)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(g,"")},start:function(e){if(m.started)throw new Error("Backbone.history has already been started");m.started=!0,this.options=s.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var t=this.getFragment(),n=document.documentMode,r=y.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);r&&(this.iframe=o('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=window.location,u=i.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!u)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&u&&i.hash&&(this.fragment=this.getHash().replace(g,""),window.history.replaceState({},document.title,i.protocol+"//"+i.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},stop:function(){o(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),m.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t==this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t==this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=s.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!m.started)return!1;if(!t||t===!0)t={trigger:t};var n=(e||"").replace(g,"");if(this.fragment==n)return;this._hasPushState?(n.indexOf(this.options.root)!=0&&(n=this.options.root+n),this.fragment=n,window.history[t.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,t.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){n?e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var b=i.View=function(e){this.cid=s.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName"];s.extend(b.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,n){var r=document.createElement(e);return t&&o(r).attr(t),n&&o(r).html(n),r},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o?e:o(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=C(this,"events")))return;this.undelegateEvents();for(var t in e){var n=e[t];s.isFunction(n)||(n=this[e[t]]);if(!n)throw new Error('Method "'+e[t]+'" does not exist');var r=t.match(w),i=r[1],o=r[2];n=s.bind(n,this),i+=".delegateEvents"+this.cid,o===""?this.$el.bind(i,n):this.$el.delegate(o,i,n)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=s.extend({},this.options,e));for(var t=0,n=E.length;t<n;t++){var r=E[t];e[r]&&(this[r]=e[r])}this.options=e},_ensureElement:function(){if(!this.el){var e=C(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}else this.setElement(this.el,!1)}});var S=function(e,t){var n=N(this,e,t);return n.extend=this.extend,n};f.extend=l.extend=h.extend=b.extend=S;var x={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};i.sync=function(e,t,n){var r=x[e];n||(n={});var u={type:r,dataType:"json"};return n.url||(u.url=C(t,"url")||k()),!n.data&&t&&(e=="create"||e=="update")&&(u.contentType="application/json",u.data=JSON.stringify(t.toJSON())),i.emulateJSON&&(u.contentType="application/x-www-form-urlencoded",u.data=u.data?{model:u.data}:{}),i.emulateHTTP&&(r==="PUT"||r==="DELETE")&&(i.emulateJSON&&(u.data._method=r),u.type="POST",u.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r)}),u.type!=="GET"&&!i.emulateJSON&&(u.processData=!1),o.ajax(s.extend(u,n))},i.wrapError=function(e,t,n){return function(r,i){i=r===t?i:r,e?e(t,i,n):t.trigger("error",t,i,n)}};var T=function(){},N=function(e,t,n){var r;return t&&t.hasOwnProperty("constructor")?r=t.constructor:r=function(){e.apply(this,arguments)},s.extend(r,e),T.prototype=e.prototype,r.prototype=new T,t&&s.extend(r.prototype,t),n&&s.extend(r,n),r.prototype.constructor=r,r.__super__=e.prototype,r},C=function(e,t){return!e||!e[t]?null:s.isFunction(e[t])?e[t]():e[t]},k=function(){throw new Error('A "url" property or function must be specified')}}.call(this),define("backbone",["underscore","jquery"],function(e){return function(){var t,n;return t||e.Backbone}}(this)),function(e){function t(t,n){var r=e(n);return r.length<2?r:t.parent().find(n)}function n(n,i){var s=this,o=n.add(s),u=n.children(),a=0,f=i.vertical;r||(r=s),u.length>1&&(u=e(i.items,n)),e.extend(s,{getConf:function(){return i},getIndex:function(){return a},getSize:function(){return s.getItems().size()},getNaviButtons:function(){return h.add(d)},getRoot:function(){return n},getItemWrap:function(){return u},getItems:function(){return u.children(i.item).not("."+i.clonedClass)},move:function(e,t){return s.seekTo(a+e,t)},next:function(e){return s.move(1,e)},prev:function(e){return s.move(-1,e)},begin:function(e){return s.seekTo(0,e)},end:function(e){return s.seekTo(s.getSize()-1,e)},focus:function(){return r=s},addItem:function(t){return t=e(t),i.circular?(u.children("."+i.clonedClass+":last").before(t),u.children("."+i.clonedClass+":first").replaceWith(t.clone().addClass(i.clonedClass))):u.append(t),o.trigger("onAddItem",[t]),s},seekTo:function(t,n,l){t.jquery||(t*=1);if(i.circular&&t===0&&a==-1&&n!==0)return s;if(!i.circular&&t<0||t>s.getSize()||t<-1)return s;var c=t;t.jquery?t=s.getItems().index(t):c=s.getItems().eq(t);var h=e.Event("onBeforeSeek");if(!l){o.trigger(h,[t,n]);if(h.isDefaultPrevented()||!c.length)return s}return c=f?{top:-c.position().top}:{left:-c.position().left},a=t,r=s,n===undefined&&(n=i.speed),u.animate(c,n,i.easing,l||function(){o.trigger("onSeek",[t])}),s}}),e.each(["onBeforeSeek","onSeek","onAddItem"],function(t,n){e.isFunction(i[n])&&e(s).bind(n,i[n]),s[n]=function(t){return t&&e(s).bind(n,t),s}});if(i.circular){var l=s.getItems().slice(-1).clone().prependTo(u),c=s.getItems().eq(1).clone().appendTo(u);l.add(c).addClass(i.clonedClass),s.onBeforeSeek(function(e,t,n){if(!e.isDefaultPrevented()){if(t==-1)return s.seekTo(l,n,function(){s.end(0)}),e.preventDefault();t==s.getSize()&&s.seekTo(c,n,function(){s.begin(0)})}}),s.seekTo(0,0,function(){})}var h=t(n,i.prev).click(function(){s.prev()}),d=t(n,i.next).click(function(){s.next()});!i.circular&&s.getSize()>1&&(s.onBeforeSeek(function(e,t){setTimeout(function(){e.isDefaultPrevented()||(h.toggleClass(i.disabledClass,t<=0),d.toggleClass(i.disabledClass,t>=s.getSize()-1))},1)}),i.initialIndex||h.addClass(i.disabledClass)),i.mousewheel&&e.fn.mousewheel&&n.mousewheel(function(e,t){if(i.mousewheel)return s.move(t<0?1:-1,i.wheelSpeed||50),!1});if(i.touch){var v={};u[0].ontouchstart=function(e){e=e.touches[0],v.x=e.clientX,v.y=e.clientY},u[0].ontouchmove=function(e){if(e.touches.length==1&&!u.is(":animated")){var t=e.touches[0],n=v.x-t.clientX;t=v.y-t.clientY,absX=Math.abs(n),absY=Math.abs(t);if(f&&absY>absX||!f&&absX>absY)e.preventDefault(),s[f&&t>0||!f&&n>0?"next":"prev"]()}}}i.keyboard&&e(document).bind("keydown.scrollable",function(t){if(!(!i.keyboard||t.altKey||t.ctrlKey||e(t.target).is(":input")))if(i.keyboard=="static"||r==s){var n=t.keyCode;if(!(!f||n!=38&&n!=40))return s.move(n==38?-1:1),t.preventDefault();if(!f&&(n==37||n==39))return s.move(n==37?-1:1),t.preventDefault()}}),i.initialIndex&&s.seekTo(i.initialIndex,0,function(){})}e.tools=e.tools||{version:"1.2.5"},e.tools.scrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:null,items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",speed:400,vertical:!1,touch:!0,wheelSpeed:0}};var r;e.fn.scrollable=function(t){var r=this.data("scrollable");return r?r:(t=e.extend({},e.tools.scrollable.conf,t),this.each(function(){r=new n(e(this),t),e(this).data("scrollable",r)}),t.api?r:this)}}(jQuery),function(e){function t(t,n){var r=e(n);return r.length<2?r:t.parent().find(n)}var n=e.tools.scrollable;n.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:!1,idPrefix:null,history:!1}},e.fn.navigator=function(r){typeof r=="string"&&(r={navi:r}),r=e.extend({},n.navigator.conf,r);var i;return this.each(function(){function n(e,t,n){a.seekTo(t);if(!h)return n.preventDefault();location.hash&&(location.hash=e.attr("href").replace("#",""))}function s(){return f.find(r.naviItem||"> *")}function o(t){var i=e("<"+(r.naviItem||"a")+"/>").click(function(r){n(e(this),t,r)}).attr("href","#"+t);return t===0&&i.addClass(c),r.indexed&&i.text(t+1),r.idPrefix&&i.attr("id",r.idPrefix+t),i.appendTo(f)}function u(e,t){e=s().eq(t.replace("#","")),e.length||(e=s().filter("[href="+t+"]")),e.click()}var a=e(this).data("scrollable"),f=r.navi.jquery?r.navi:t(a.getRoot(),r.navi),l=a.getNaviButtons(),c=r.activeClass,h=r.history&&e.fn.history;a&&(i=a),a.getNaviButtons=function(){return l.add(f)},s().length?s().each(function(t){e(this).click(function(r){n(e(this),t,r)})}):e.each(a.getItems(),function(e){o(e)}),a.onBeforeSeek(function(e,t){setTimeout(function(){if(!e.isDefaultPrevented()){var n=s().eq(t);!e.isDefaultPrevented()&&n.length&&s().removeClass(c).eq(t).addClass(c)}},1)}),a.onAddItem(function(e,t){t=o(a.getItems().index(t)),h&&t.history(u)}),h&&s().history(u)}),r.api?i:this}}(jQuery),define("scrollable",["jquery"],function(e){return function(){var t,n;return t||e.$}}(this)),define("../../common/utils",["jquery","underscore","backbone"],function(e,t,n){var r={isAjaxLoading:function(t,n){return e(t).hasClass("ajax-loading")?!0:n!=null&&n===!0?(this.setAjaxLoading(t),!0):!1},setAjaxLoading:function(t){e(t).addClass("ajax-loading"),app.appMode==="main"&&this.showGlobalLoader()},unsetAjaxLoading:function(t){e(t).removeClass("ajax-loading"),app.appMode==="main"&&this.hideGlobalLoader()},showGlobalLoader:function(){app.hideMessage(),window.scrollTo(0,0),e(".global-ajax-loading").show()},hideGlobalLoader:function(){e(".global-ajax-loading").hide()},padDecimal:function(e){var t=2,n="0";e=e.toString();var r=e.indexOf(".");r===-1&&(e+="."),r=e.indexOf("."),r=e.length-r-1;for(var i=r;i<t;i++)e+=n;return e},isZipValid:function(e){return app.zones.getPriceForZip(e)===-1?!1:!0},valid:function(e,t,n){var r=e.$("["+n+"~="+t+"]");e.id!=null&&e.id==="payment"?app.utils.paymentValid(t,r):app.utils.genericValid(r)},invalid:function(e,t,n,r){var i=e.$("["+r+"~="+t+"]");e.id!=null&&e.id==="payment"?app.utils.paymentInvalid(t,i,n):e.id!=null&&e.id==="contact"?app.utils.contactInvalid(t,i,n):app.utils.genericInvalid(i,n)},genericValid:function(e){e.hasClass("invalid")&&(e.removeClass("invalid"),e.next().remove())},genericInvalid:function(t,n){t.hasClass("invalid")&&t.next().remove(),t.addClass("invalid"),t.after(e("<label/>",{"class":"invalid",text:n}))},paymentValid:function(t,n){if(t==="expiryMonth")div=e("#invalid-month-area");else{if(t!=="expiryYear"){app.utils.genericValid(n);return}div=e("#invalid-year-area")}n.hasClass("invalid")&&(n.removeClass("invalid"),div.empty())},paymentInvalid:function(t,n,r){var i=null;if(t==="expiryMonth")i=e("#invalid-month-area");else{if(t!=="expiryYear"){app.utils.genericInvalid(n,r);return}i=e("#invalid-year-area")}n.hasClass("invalid")&&i.empty(),n.addClass("invalid"),i.append(e("<label/>",{"class":"invalid",text:r}))},contactInvalid:function(t,n,r){var i=null;if(t!=="agree_box"){app.utils.genericInvalid(n,r);return}i=e("#contact-us .error-message"),n.addClass("invalid"),i.append(e("<label/>",{"class":"invalid",text:r}))},getStickerDescription:function(e){var t;return e==="S10"?description='<li>Name: AppFX Stickers</li><li>Size: 8" x 10"</li><li>Sticker count: 79</li><li>Sticker type: Glossy paper finish</li><li>Description: AppFX Sticker Sheet</li><li>Stickers are water-based</li><li>No mess; easy-application</li>':e==="S11"?description='<li>Name: DC Labs Stickers</li><li>Size: 8" x 10"</li><li>Sticker count: 64</li><li>Sticker type: Glossy paper finish</li><li>Description: DC Labs Sticker Sheet</li><li>Stickers are water-based</li><li>No mess; easy-application</li>':e==="S12"?description='<li>Name: Police Interceptor Stickers</li><li>Size: 8" x 10"</li><li>Sticker count: 58</li><li>Sticker type: Glossy paper finish</li><li>Description: Patrol Sticker Sheet</li><li>Stickers are water-based</li><li>No mess; easy-application</li>':e==="S13"&&(description='<li>Name: Police Patrol Stickers</li><li>Size: 8" x 11"</li><li>Sticker count: 59</li><li>Sticker type: Glossy paper finish</li><li>Description: Interceptor Sticker Sheet</li><li>Stickers are water-based</li><li>No mess; easy-application</li>'),description},getStickerPDFName:function(e){var t="";return e==="S10"?t="AppFX-race-appfx-stickers-spec.pdf":e==="S11"?t="AppFX-race-dclabs-stickers-spec.pdf":e==="S12"?t="AppFX-police-interceptor-stickers-spec.pdf":e==="S13"&&(t="AppFX-police-patrol-stickers-spec.pdf"),t}};return r}),define("../../common/catalog",["jquery","underscore","backbone"],function(e,t,n){var r={itemList:[],getItemById:function(t){for(var n=0;n<this.itemList.length;n++)if(this.itemList[n]["itemNumber"]==t){var r={};return e.extend(r,this.itemList[n]),r.quantity=1,r}return null},getPriceById:function(e){var t=this.getItemById(e);return t.price},getProductsByCategory:function(e){var t;e==="tape"?t="T":e==="postcard"&&(t="P");var n=[];for(var r=0;r<this.itemList.length;r++)this.itemList[r].itemNumber.charAt(0)===t&&n.push(this.itemList[r]);return n},isCouponItem:function(e){var t=this.getItemById(e);return t["couponPrice"]!=null?!0:!1},getCouponPrice:function(e){return this.isCouponItem(e)===!0?this.getItemById(e).couponPrice:null}};return r}),define("../../common/zones",["jquery","underscore","backbone"],function(e,t,n){var r={zonesList:[],zoneRateList:[],getZoneForZip:function(e){e=e.substring(0,3);var t=parseInt(e);for(var n=0;n<this.zonesList.length;n++)if(t>=this.zonesList[n].lowZip&&t<=this.zonesList[n].highZip)return this.zonesList[n].zone;return-1},getPriceByZone:function(e,t){for(var n=0;n<this.zoneRateList.length;n++)if(this.zoneRateList[n].zone===e)return t===!0?this.zoneRateList[n].costMultipleCars:this.zoneRateList[n].costSingleCar;return-1},getPriceForZip:function(e,t){var n=this.getZoneForZip(e);return n===-1?-1:this.getPriceByZone(n,t)}};return r}),define("../../common/../common/models/user-info/credentials-model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({urlRoot:"rest/login/",defaults:{email:"",password:"",token:""},labels:{email:"Email",password:"Password"},initialize:function(){},updateHeader:function(){app.setLoginUserArea(this.get("email"))},sync:function(e,t,r){t.get("token")!=null&&t.get("token")!=""?r.url="rest/login/un/"+t.get("email")+"/token/"+t.get("token"):r.url="rest/login/un/"+t.get("email")+"/pw/"+t.get("password"),n.sync(e,t,r)},isAuthed:function(){return this.get("email")==null||this.get("email")==""?!1:!0}});return r}),define("../../common/session",["jquery","underscore","backbone","../common/models/user-info/credentials-model"],function(e,t,n,r){var i={syncToServer:function(t,n){var r=this;e.ajax({type:"GET",url:"rest/session"}).done(function(e,n,i){r.doSync(e),t()}).error(function(e,r,i){t(),n("warning, could not sync your session data at this time")})},syncToSpecified:function(e){},doSync:function(e){e.catalog!=null?app.catalog.itemList=e.catalog:app.showError("Could not sync item catalog, adding items may be an issue"),e.zones!=null?app.zones.zonesList=e.zones:app.showError("Could not sync zip code data, calculating shipping costs may be an issue"),e.zoneRates!=null?app.zones.zoneRateList=e.zoneRates:app.showError("Could not sync zip code data, calculating shipping costs may be an issue");if(e.cartDataList!=null)for(var t=0;t<e.cartDataList.length;t++)app.cartItemList.add(e.cartDataList[t]);if(e.userInfoDataList!=null)for(var t=0;t<e.userInfoDataList.length;t++)app.userInfoList.add(e.userInfoDataList[t]);e.credentialsData!=null&&(app.credentialsModel=new r(e.credentialsData),app.credentialsModel.updateHeader(e.credentialsData.email))},removeServerSession:function(){var t=this;e.ajax({type:"DELETE",url:"rest/session"}).done(function(e,n,r){app.utils.unsetAjaxLoading(""),t.removeClientSession(e)}).error(function(e,t,n){app.utils.unsetAjaxLoading(""),errorCallback("warning, could not log out completely, please refresh your browser")})},removeClientSession:function(){app.credentialsModel=new r,app.userInfoList.reset(),app.cartItemList.reset()}};return i}),define("text",["module"],function(e){var t,n,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,s=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,o=typeof location!="undefined"&&location.href,u=o&&location.protocol&&location.protocol.replace(/\:/,""),a=o&&location.hostname,f=o&&(location.port||undefined),l=[],c=e.config&&e.config()||{};t={version:"2.0.3",strip:function(e){if(e){e=e.replace(i,"");var t=e.match(s);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:c.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=r[t];try{e=new ActiveXObject(n)}catch(i){}if(e){r=[n];break}}return e},parseName:function(e){var t=!1,n=e.indexOf("."),r=e.substring(0,n),i=e.substring(n+1,e.length);return n=i.indexOf("!"),n!==-1&&(t=i.substring(n+1,i.length),t=t==="strip",i=i.substring(0,n)),{moduleName:r,ext:i,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,c.isBuild&&(l[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}c.isBuild=i.isBuild;var s=t.parseName(e),l=s.moduleName+"."+s.ext,h=n.toUrl(l),p=c.useXhr||t.useXhr;!o||p(h,u,a,f)?t.get(h,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([l],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(l.hasOwnProperty(n)){var s=t.jsEscape(l[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.moduleName+"."+o.ext,a=r.toUrl(o.moduleName+"."+o.ext)+".js";t.load(u,r,function(n){var r=function(e){return i(a,e)};r.asModule=function(e,t){return i.asModule(e,a,t)},t.write(e,u,r,s)},s)}};if(c.env==="node"||!c.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node)n=require.nodeRequire("fs"),t.get=function(e,t){var r=n.readFileSync(e,"utf8");r.indexOf("ï»¿")===0&&(r=r.substring(1)),t(r)};else if(c.env==="xhr"||!c.env&&t.createXhr())t.get=function(e,n,r){var i=t.createXhr();i.open("GET",e,!0),c.onXhr&&c.onXhr(i,e),i.onreadystatechange=function(t){var s,o;i.readyState===4&&(s=i.status,s>399&&s<600?(o=new Error(e+" HTTP status: "+s),o.xhr=i,r(o)):n(i.responseText))},i.send(null)};else if(c.env==="rhino"||!c.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};return t}),define("text!templates/main-menus/main-menu.html",[],function(){return'<ul id="menu-sec">\r\n  <li class="car"><a class="ui-link" href="" rel="external">FX CAR<span> > </span></a></li>\r\n  <li class="stickers"><a class="ui-link" href="" rel="external">FX STICKERS<span> > </span></a></li>\r\n  <li class="track"><a class="ui-link" href="" rel="external">FX TRACK<span> > </span></a></li>\r\n  <li class="app"><a class="ui-link" href="" rel="external">FX DRIVER<span> > </span></a></li>\r\n  <li class="exchange"><a class="ui-link" href="" rel="external">DEVICE XCHANGE<span> > </span></a></li>\r\n  <li class="safety"><a class="ui-link" href="" rel="external">PRODUCT DESIGN<span> > </span></a></li>\r\n  <li class="blog"><a class="ui-link" href="" rel="external">ABOUT US<span> > </span></a></li>\r\n  <li class="contact"><a class="ui-link" href="" rel="external">CONTACT US<span> > </span></a></li>\r\n</ul>'}),define("views/main-menus/main-menu",["jquery","underscore","backbone","text!templates/main-menus/main-menu.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){this.template=t.template(r)},render:function(e){return this.$el.html(this.template()),this.el},events:{"click .car":"carClick","click .stickers":"stickersClick","click .track":"trackClick","click .app":"appClick","click .exchange":"exchangeClick","click .safety":"safetyClick","click .blog":"blogClick","click .contact":"contactClick"},carClick:function(e){e.preventDefault(),app.navigate("stockCar",!0)},stickersClick:function(e){e.preventDefault(),app.navigate("stickers",!0)},trackClick:function(e){e.preventDefault(),app.navigate("tape",!0)},appClick:function(e){e.preventDefault(),app.navigate("appstore",!0)},exchangeClick:function(e){e.preventDefault(),app.navigate("deviceExchange",!0)},safetyClick:function(e){e.preventDefault(),app.navigate("safety",!0)},blogClick:function(e){e.preventDefault(),app.navigate("blog",!0)},contactClick:function(e){e.preventDefault(),app.navigate("contactus",!0)}});return i}),define("text!templates/home/appstore.html",[],function(){return'<div id="appstore">\r\n  <div class="appstore-area">\r\n    <div class="sub-header">\r\n      <div class="header-text">Premium Edition</div>\r\n    </div>\r\n    <div class="background-area">\r\n      <a href="https://itunes.apple.com/us/app/fx-driver/id716379554?ls=1&mt=8" target="_blank">\r\n        <img class="banner" src="../images/mobile/home/app_mp.jpg">\r\n      </a>\r\n    </div>\r\n\r\n    <div class="description">\r\n      <ul>\r\n        <li>Nearly an unlimited ways to play; unleash your imagination. Reign over the Driver in either the action-packed Race Car or Police mode...Includes all the features in the free Lite version</li>\r\n        <li>Turn left, flip over, crash into the wall, your Driver will let you know exactly how he feels about that...remember, the app is not designed to react when the FX Car leaves your hand, but do it anyways since it rides so well</li>\r\n        <li>Combination of movements kicks off over a dozen different animations...find them all</li>\r\n      </ul>\r\n    </div>\r\n    <div class="sub-header">\r\n      <div class="header-text">Lite Edition (coming soon!)</div>\r\n    </div>\r\n    <div class="icon">\r\n      <img src="../images/getapp/icon_lite.png" alt="AppFX LITE">\r\n    </div>\r\n\r\n    <div class="description">\r\n      <ul>\r\n        <li>You are the Driver; control and match your actions with your movements.  Also, play in either Police or Race mode</li>\r\n        <li>Steering: like the real thing, turn the wheel the direction you are heading, use the horn when someone gets in your way, but be careful how far you turn the wheel because you may spin out and crash</li>\r\n        <li>Gear Shifting: built in gear control so you donât accidentally skip a gear; PSM control so you feel the acceleration when you shift up</li>\r\n        <li>Computer: check out what you can control and do</li>\r\n        <li>Music: got iTunes music, wellâ¦listen to you as you drive</li>\r\n        <li>Other Controls: there\'s much much more; half the fun is discovering how the controls interact with the real world movements.  In addition, we plan to continue add more and have more surprises for you real soon, that not even a real car could provide</li>\r\n      </ul>\r\n    </div>\r\n\r\n    <!--<div>-->\r\n      <!--<p class="fx-verbiage">-->\r\n        <!--<a href="http://www.itunes.com" target="_blank">Get FX Driver from iTunes!</a>-->\r\n      <!--</p>-->\r\n    <!--</div>-->\r\n\r\n  </div>\r\n</div>\r\n</div>'}),define("views/home/appstore",["jquery","underscore","backbone","text!templates/home/appstore.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){this.template=t.template(r)},render:function(e){return this.$el.html(this.template()),this.el},getTitle:function(){return""}});return i}),define("text!templates/privacy-policy.html",[],function(){return'<div id="privacy-policy">\r\n  <div class="inner">\r\n    <div class="description">\r\n      <ul>\r\n        <li>\r\n          This Privacy Policy governs the manner in which DC LABS LLC and AppFX collects, uses, maintains and discloses information collected from users (each, a "User") of the http://www.appfxtoys.com/ website ("Site"). This privacy policy applies to the Site and all products and services offered by DC LABS LLC and AppFX.\r\n        </li>\r\n        <li>\r\n          <span class="heading">Personal identification information</span>\r\n        </li>\r\n        <li>\r\n          We may collect personal identification information from Users in a variety of ways, including, but not limited to, when Users visit our site, place an order, subscribe to the newsletter, and in connection with other activities, services, features or resources we make available on our Site. Users may be asked for, as appropriate, name, email address. Users may, however, visit our Site anonymously. We will collect personal identification information from Users only if they voluntarily submit such information to us. Users can always refuse to supply personally identification\r\n          information,\r\n          except\r\n          that it may prevent them from engaging in certain Site related activities.\r\n        <li>\r\n          <span class="heading">Non-personal identification information</span>\r\n        </li>\r\n        <li>\r\n          We may collect non-personal identification information about Users whenever they interact with our Site. Non-personal identification information may include the browser name, the type of computer and technical information about Users means of connection to our Site, such as the operating system and the Internet service providers utilized and other similar information.\r\n        </li>\r\n        <li>\r\n          <span class="heading">Web browser cookies</span>\r\n        </li>\r\n        <li>\r\n          Our Site may use "cookies" to enhance User experience. User\'s web browser places cookies on their hard drive for record-keeping purposes and sometimes to track information about them. User may choose to set their web browser to refuse cookies, or to alert you when cookies are being sent. If they do so, note that some parts of the Site may not function properly.\r\n        </li>\r\n        <li>\r\n          <span class="heading">How we use collected information</span>\r\n        </li>\r\n        <li>\r\n          DC LABS LLC and AppFX may collect and use Users personal information for the following purposes:\r\n        </li>\r\n        <li>\r\n          - To process payments\r\n          We may use the information Users provide about themselves when placing an order only to provide service to that order. We do not share this information with outside parties except to the extent necessary to provide the service.\r\n          - To send periodic emails\r\n        </li>\r\n        <li>\r\n          We may use the email address to send them information and updates pertaining to their order. If User decides to opt-in to our mailing list, they will receive emails that may include company news, updates, related product or service information, etc.\r\n        </li>\r\n        <li>\r\n          <span class="heading">How we protect your information</span>\r\n        </li>\r\n        <li>\r\n          We adopt appropriate data collection, storage and processing practices and security measures to protect against unauthorized access, alteration, disclosure or destruction of your personal information, username, password, transaction information and data stored on our Site.\r\n        </li>\r\n        <li>\r\n          For your safety and protection, your credit card information is not stored on our servers. Our payment gateway provider, PayPal, keeps this information encrypted and secure on your behalf.\r\n        </li>\r\n        <li>\r\n          <span class="heading">Sharing your personal information</span>\r\n        </li>\r\n        <li>\r\n          We do not sell, trade, or rent Users personal identification information to others. We may share generic aggregated demographic information not linked to any personal identification information regarding visitors and users with our business partners, trusted affiliates and advertisers for the purposes outlined above.\r\n        </li>\r\n        <li>\r\n          <span class="heading">Changes to this privacy policy</span>\r\n        </li>\r\n        <li>\r\n          DC LABS LLC and AppFX have the discretion to update this privacy policy at any time. When we do, we will revise the updated date at the bottom of this page. We encourage Users to frequently check this page for any changes to stay informed about how we are helping to protect the personal information we collect. You acknowledge and agree that it is your responsibility to review this privacy policy periodically and become aware of modifications.\r\n        </li>\r\n        <li>\r\n          <span class="heading">Your acceptance of these terms</span>\r\n        </li>\r\n        <li>\r\n          By using this Site, you signify your acceptance of this policy. If you do not agree to this policy, please do not use our Site. Your continued use of the Site following the posting of changes to this policy will be deemed your acceptance of those changes.\r\n        </li>\r\n        <li>\r\n          <span class="heading">Contacting us</span>\r\n        </li>\r\n        <li>\r\n          If you have any questions about this Privacy Policy, the practices of this site, or your dealings with this site, please contact us at:\r\n        </li>\r\n        <li>\r\n          DC LABS LLC\r\n          http://www.appfxtoys.com/\r\n          info@appfxtoys.com\r\n        </li>\r\n        <li>\r\n          This document was last updated on July 10, 2013\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>'}),define("../../common/views/home/privacy-policy",["jquery","underscore","backbone","text!templates/privacy-policy.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){this.template=t.template(r)},render:function(e){return this.$el.html(this.template()),this.el},getTitle:function(){return"Privacy Policy"}});return i}),define("text!templates/policy_coppa.html",[],function(){return'\r\n\r\n<div id="privacy-policy">\r\n  <div class="inner">\r\n    <div class="description">\r\n      <ul>\r\n        <li>FX Driver Childrenâs Privacy Policy</li>\r\n        <li>Effective Date: September 30, 2013</li>\r\n\r\n\r\n        <li>A Message for Parents</li>\r\n        <li>PLEASE READ THIS CHILDRENâS PRIVACY POLICY CAREFULLY BEFORE ALLOWING YOUR CHILDREN TO USE THE FX DRIVER APP</li>\r\n        <li>The Childrenâs Online Privacy Protection Act ("COPPA") requires us to inform parents and legal guardians about how we collect, use, and disclose personal information from children under the age of 13. It also requires that we obtain parental consent before we allow children under the age of 13 to use certain features of the APP.</li>\r\n\r\n        <li>As used in this Childrenâs Privacy Policy, the following terms have the following meanings:</li>\r\n        <li>"Parent" includes legal guardians.</li>\r\n        <li>"Child" means a child that is under the age of 13.</li>\r\n        <li>"Personal information" means individually identifiable information about an individual that is collected online, such as first and last name, a home address, an e-mail address, a telephone number, a SSN, or any information collected from an individual and combined with such identifying information.</li>\r\n\r\n        <li>For more information about COPPA, click <a href="http://business.ftc.gov/documents/Complying-with-COPPA-Frequently-Asked-Question">here</a>.</li>\r\n\r\n        <li>Scope of this Policy</li>\r\n        <li>This Policy describes how we collect, use and disclose personal information about children under 13 years old, within FX Driver and its links. This policy incorporates by reference the Terms of Use ("Terms") for AppFX and those <a href="/terms">Terms</a> apply to this Policy. To view our general Privacy Policy for AppFX and DC Labs LLC (subsidary), which applies to the information we collect from members 13 years old or older, click <a href="/policy">here</a>. Before using this APP, please also read our Terms and our general Privacy Policy.</li>\r\n        <li>BY USING OR ACCESSING OUR APP, OR BY PERMITTING YOUR CHILD TO USE APP, YOU ARE ACCEPTING THE PRACTICES DESCRIBED IN THIS POLICY.</li>\r\n\r\n        <li>Overview</li>\r\n        <li>The APP is is intended for parents, children and other family members alike. For children under the age of 13 it is advisable to have parental involvement and approval. Children under the age of 13 are allowed to use this APP without a parentâs permission, however, we strongly advise parental consent.</li>\r\n\r\n        <li>Parental Consent</li>\r\n        <li>We are required by COPPA to use reasonable efforts to ensure that before we collect any personal information from a child, the childâs parent receives notice of and consents to our information practices.</li>\r\n\r\n        <li>Information We Collect From Children and How We Collect It</li>\r\n        <li>Information We Collect Directly</li>\r\n        <li>At this time, the APP does not collect any personal information.</li>\r\n        <li>Information We Collect Passively</li>\r\n        <li>At this time, the APP only collects download activity native in the mobile device operating system only.</li>\r\n\r\n        <li>Tracking Activities of the APP</li>\r\n        <li>At this time, the APP only collects download activity native in the mobile device operating system only. We may use this information to reconcile activity with download statistics.</li>\r\n\r\n        <li>How We Use Your Childâs Personal Information</li>\r\n        <li>We do not directly collect any personal information.</li>\r\n        <li>We may use non-personal information such as information about app usage to improve the design, content and performance, or to analyze site usage and the popularity of certain features. However, this feature is currently not activated.</li>\r\n\r\n        <li>How We Share a Childâs Personal Information with Third Parties</li>\r\n        <li>We will not sell, rent or trade your childâs personal information PERIOD.</li>\r\n        <li>Aggregate and Anonymized Information</li>\r\n        <li>We DO NOT share aggregate or anonymized information about children with non-affiliated third parties for advertising, marketing or research purposes.</li>\r\n\r\n        <li>Data Security</li>\r\n        <li>We have implemented commercially reasonable safeguards to protect personal information that we collect and store. Despite these precautions, however, no data security safeguards are foolproof. Unauthorized individuals may find ways to obtain personal information from or to access the APP that we cannot and do not guarantee.</li>\r\n\r\n        <li>Third Party Links</li>\r\n        <li>At this time, our APP may contain links to other third party websites. Any access to and use of such linked websites is not governed by this Policy but, instead, is governed by the privacy policies of those third party websites. AppFX and FX Driver are not responsible for your access to and use of such third party websites.</li>\r\n\r\n        <li>Changes to this Childrenâs Privacy Policy</li>\r\n        <li>We reserve the right to amend this policy at any time. Please check this page periodically for changes. We will post a notice on this website if and when this policy changes to alert visitors that a new policy is in place. If we intend to collect and/or use your childâs personal information in a manner materially different from that stated at the time of collection we will notify you via this Privacy Policy.</li>\r\n\r\n        <li>Contact Us</li>\r\n        <li>If you have questions, comments or concerns about any of our privacy policies or practices, or to raise any other issue related to privacy, you may contact AppFX at:</li>\r\n        <li>PO Box 219111, Portland OR 97225</li>\r\n        <li><a href="mailto:info@appfxtoys.com">info@appfxtoys.com</a></li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>'}),define("../../common/views/home/privacy-policy-coppa",["jquery","underscore","backbone","text!templates/policy_coppa.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){this.template=t.template(r)},render:function(e){return this.$el.html(this.template()),this.el},getTitle:function(){return"COPPA Privacy Policy"}});return i}),define("text!templates/terms-conditions.html",[],function(){return'<div id="terms-conditions">\r\n  <div class="inner">\r\n    <div class="description">\r\n      <ul>\r\n        <li>\r\n          By accessing this web site, you are agreeing to be bound by these web site Terms and Conditions of Use, all applicable laws and regulations, and agree that you are responsible for compliance with any applicable local laws. If you do not agree with any of these terms, you are prohibited from using or accessing this site. The materials contained in this web site are protected by applicable copyright and trademark law.\r\n        </li>\r\n        <li>\r\n          <span class="heading">Use License</span>\r\n        </li>\r\n        <li>\r\n          <ul>\r\n            <li class="alphalist">\r\n              Permission is granted to temporarily download one copy of the materials (information or software) on AppFX and DC LABS LLCsâ web site for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:\r\n              <ul>\r\n                <li class="romanlist">\r\n                  modify or copy the materials;\r\n                </li>\r\n                <li class="romanlist">\r\n                  use the materials for any commercial purpose, or for any public display (commercial or non-commercial);\r\n                </li>\r\n                <li class="romanlist">\r\n                  attempt to decompile or reverse engineer any software contained on AppFX and DC LABS LLCsâ web site;\r\n                </li>\r\n                <li class="romanlist">\r\n                  remove any copyright or other proprietary notations from the materials; or\r\n                </li>\r\n                <li class="romanlist">\r\n                  transfer the materials to another person or "mirror" the materials on any other server.\r\n                </li>\r\n              </ul>\r\n            </li>\r\n            <li class="alphalist">\r\n              This license shall automatically terminate if you violate any of these restrictions and may be terminated by DC LABS LLC at any time. Upon terminating your viewing of these materials or upon the termination of this license, you must destroy any downloaded materials in your possession whether in electronic or printed format.\r\n            </li>\r\n          </ul>\r\n        </li>\r\n        <li>\r\n\r\n\r\n          <span class="heading">Disclaimer</span>\r\n        </li>\r\n        <li>\r\n\r\n          The materials on AppFX and DC LABS LLCsâ web site are provided "as is". AppFX or DC LABS LLC makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties, including without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights. Further, AppFX and DC LABS LLC do not warrant or make any representations concerning the accuracy, likely results, or reliability of the use of the materials on its Internet web site or otherwise relating to\r\n          such materials or on any sites linked to this site.\r\n        </li>\r\n        <li>\r\n\r\n          <span class="heading">Limitations</span>\r\n        </li>\r\n        <li>\r\n\r\n          In no event shall DC LABS LLC or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption,) arising out of the use or inability to use the materials on AppFX and DC LABS LLCsâ Internet site, even if DC LABS LLC, AppFX or a DC LABS LLC authorized representative has been notified orally or in writing of the possibility of such damage. Because some jurisdictions do not allow limitations on implied warranties, or limitations of liability for consequential or incidental damages, these limitations may not\r\n          apply to you.\r\n        </li>\r\n        <li>\r\n\r\n          <span class="heading">Revisions and Errata</span>\r\n        </li>\r\n        <li>\r\n\r\n          The materials appearing on AppFX and DC LABS LLCsâ web site could include technical, typographical, or photographic errors. AppFX or DC LABS LLC does not warrant that any of the materials on its web site are accurate, complete, or current. AppFX and DC LABS LLC may make changes to the materials contained on its web site at any time without notice. AppFX and DC LABS LLC does not, however, make any commitment to update the materials.\r\n        </li>\r\n        <li>\r\n\r\n          <span class="heading">Links</span>\r\n        </li>\r\n        <li>\r\n\r\n          AppFX and DC LABS LLC has not reviewed all of the sites linked to its Internet web site and is not responsible for the contents of any such linked site. The inclusion of any link does not imply endorsement by AppFX or DC LABS LLC of the site. Use of any such linked web site is at the user\'s own risk.\r\n        </li>\r\n        <li>\r\n\r\n          <span class="heading">Return Policy and Warranties</span>\r\n        </li>\r\n        <li>\r\n\r\n          DC LABS LLC offers a no-questions-asked 30-day return policy on all products. However, fees will be charged for return shipping and inventory restocking.\r\n        </li>\r\n        <li>\r\n\r\n          In the event of manufacturing defects for all purchases excluding the Digital App, a full refund will be issued. Refunds will not include shipping costs. Refunds will not be issued for damages from shipping, nor will return shipping costs be refunded.\r\n        </li>\r\n        <li>\r\n\r\n          AppFX and DC LABS LLC does not offer a warranty or guarantee for free areas on the website.\r\n        </li>\r\n        <li>\r\n\r\n          <span class="heading">Changes to These Terms</span>\r\n        </li>\r\n        <li>\r\n\r\n          DC LABS LLC may revise these terms of use for its web site at any time without notice. By using this web site you are agreeing to be bound by the then current version of these Terms and Conditions of Use.\r\n        </li>\r\n        <li>\r\n\r\n          <span class="heading">Your Acceptance of These Terms</span>\r\n\r\n        </li>\r\n        <li>\r\n          By using this Site, you signify your acceptance of these terms. If you do not agree to these terms, please do not use our Site. Your continued use of the Site following the posting of changes to these terms will be deemed your acceptance of those changes.\r\n        </li>\r\n        <li>\r\n\r\n          <span class="heading">Contacting Us</span>\r\n        </li>\r\n        <li>\r\n\r\n          If you have any questions about these Terms of Use, the practices of this site, or your dealings with this site, please contact us at:\r\n        </li>\r\n        <li>\r\n\r\n          DC LABS LLC\r\n          http://www.appfxtoys.com/\r\n          info@appfxtoys.com\r\n        </li>\r\n        <li>\r\n\r\n          This document was last updated on July 12, 2013\r\n        </li>\r\n\r\n'}),define("../../common/views/home/terms-conditions",["jquery","underscore","backbone","text!templates/terms-conditions.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){this.template=t.template(r)},render:function(e){return this.$el.html(this.template()),this.el},getTitle:function(){return"Terms And Conditions"}});return i}),define("text!templates/main-menus/header.html",[],function(){return'<div class="back fx-label"><a href="#"><img src="../images/mobile/general/back_icon.png"></a></div>\r\n<div class="title fx-label"></div>\r\n<div class="home fx-label"><a href="./#home"><img src="../images/mobile/general/home_icon.png"></a></div>\r\n'}),define("views/main-menus/header",["jquery","underscore","backbone","text!templates/main-menus/header.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){this.template=t.template(r)},events:{"click .back":"backClick"},backClick:function(e){e.preventDefault(),window.history.back()},render:function(e){return this.$el.html(this.template()),this.el},setTitle:function(e){this.$(".title").html(e)}});return i}),define("text!templates/home/home.html",[],function(){return'<div id="home-page">\r\n  <div class="scrollable">\r\n    <div class="scrollarea"></div>\r\n    <div class="navi white">\r\n      <a class="active" href="#0"></a><a href="#1"></a><a href="#2"></a><a href="#3"></a>\r\n    </div>\r\n\r\n    <div style="left: 0px;" class="items">\r\n\r\n      <div class="item">\r\n        <div class="scrolltxt" style="top: 5px; right: 0px; width: 120px;">\r\n          <p class="title"></p>\r\n\r\n          <p class="subtitle">\r\n\r\n          </p>\r\n        </div>\r\n        <a href="./#stockCar">\r\n          <div class="image" id=\'fxcar\'></div>\r\n        </a>\r\n      </div>\r\n\r\n      <div class="item">\r\n        <div class="scrolltxt" style="right:10px; top: 5px; ">\r\n          <p class="title"></p>\r\n\r\n          <p class="subtitle">\r\n          </p>\r\n        </div>\r\n        <a href="./#fxCarDetails/B10">\r\n          <div class="image" id="fxbundle"></div>\r\n        </a>\r\n      </div>\r\n\r\n      <div class="item">\r\n        <div class="scrolltxt" style="right:10px; top: 5px;">\r\n          <p class="title"></p>\r\n\r\n          <p class="subtitle">\r\n\r\n          </p>\r\n        </div>\r\n        <a href="http://instagram.com/" target="_blank">\r\n          <div class="image" id="masking"></div>\r\n        </a>\r\n      </div>\r\n\r\n      <div class="item">\r\n        <div class="scrolltxt" style="left:10px; bottom: 35px;">\r\n          <p class="title"></p>\r\n\r\n          <p class="subtitle">\r\n\r\n          </p>\r\n        </div>\r\n        <a href="./#stickerTypes">\r\n          <div class="image" id="stickerbundle"></div>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- end scrollable -->\r\n\r\n  <ul id="boxmenu" class="home">\r\n    <li class="stockcar">\r\n      <div><span></span></div>\r\n    </li>\r\n    <li class="video">\r\n      <div class="video-container">\r\n        <iframe src="//www.youtube.com/embed/LHhDw1M72T8?rel=0" frameborder="0"></iframe>\r\n      </div>\r\n    </li>\r\n    <li class="tape-tracks"><a class="ui-link tape-track" href=""><span>Masking Tape Track</span></a></li>\r\n  </ul>\r\n</div>'}),define("views/home/home",["jquery","underscore","backbone","text!templates/home/home.html"],function(e,t,n,r){var i=Backbone.View.extend({id:"home",initialize:function(){this.template=t.template(r)},events:{"click .stockcar":"fxStockCarClick","click .tape-tracks":"tapeTrackClick"},fxStockCarClick:function(e){e.preventDefault(),app.navigate("stockCar",!0)},tapeTrackClick:function(e){e.preventDefault(),app.navigate("tape",!0)},render:function(e){return this.$el.html(this.template()),this.el},postRender:function(){e(".scrollable").scrollable().navigator(".navi"),e(".scrollable").scrollable().focus()},getTitle:function(){return""}});return i}),define("text!templates/home/home-wide.html",[],function(){return'<div id="home-page-wide">\r\n\r\n\r\n  <div class="scrollable">\r\n    <div class="scrollarea"></div>\r\n    <div class="navi white">\r\n      <a class="active" href="#0"></a><a href="#1"></a><a href="#2"></a><a href="#3"></a>\r\n    </div>\r\n\r\n    <div style="left: 0px;" class="items">\r\n\r\n      <div class="item">\r\n        <a href="./#stockCar">\r\n          <div class="image" id="fxcar"></div>\r\n        </a>\r\n      </div>\r\n\r\n      <div class="item">\r\n        <a href="./#fxCarDetails/B10">\r\n          <div class="image" id="fxbundle"></div>\r\n        </a>\r\n      </div>\r\n\r\n      <div class="item">\r\n        <a href="http://instagram.com/" target="_blank">\r\n          <div class="image" id="masking"></div>\r\n        </a>\r\n      </div>\r\n\r\n      <div class="item">\r\n        <a href="./#stickerTypes">\r\n          <div class="image" id="stickerbundle"></div>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="center-boxmenu">\r\n    <ul id="boxmenu" class="home">\r\n      <li class="stockcar"><div><span></span></div></li>\r\n      <li>\r\n        <div class="video-container">\r\n          <iframe src="//www.youtube.com/embed/LHhDw1M72T8?rel=0" frameborder="0"></iframe>\r\n        </div>\r\n      </li>\r\n      <li class="tape-tracks"><a class="ui-link tape-track" href=""><span>Masking Tape Track</span></a></li>\r\n    </ul>\r\n  </div>\r\n\r\n</div>'}),define("views/home/home-wide",["jquery","underscore","backbone","text!templates/home/home-wide.html"],function(e,t,n,r){var i=Backbone.View.extend({id:"home-wide",initialize:function(){this.template=t.template(r)},events:{"click .stockcar":"fxStockCarClick","click .tape-tracks":"tapeTrackClick"},fxStockCarClick:function(e){e.preventDefault(),app.navigate("stockCar",!0)},tapeTrackClick:function(e){e.preventDefault(),app.navigate("tape",!0)},render:function(e){return this.$el.html(this.template()),this.el},postRender:function(){e(".scrollable").scrollable().navigator(".navi"),e(".scrollable").scrollable().focus()},getTitle:function(){return""}});return i}),function(e){typeof define=="function"&&define.amd?define("modelBinder",["underscore","jquery","backbone"],e):e(_,$,Backbone)}(function(e,t,n){if(!n)throw"Please include Backbone.js before Backbone.ModelBinder.js";return n.ModelBinder=function(t){e.bindAll(this),this._modelSetOptions=t||{}},n.ModelBinder.VERSION="0.1.5",n.ModelBinder.Constants={},n.ModelBinder.Constants.ModelToView="ModelToView",n.ModelBinder.Constants.ViewToModel="ViewToModel",e.extend(n.ModelBinder.prototype,{bind:function(n,r,i,s){this.unbind(),this._model=n,this._rootEl=r,this._modelSetOptions=e.extend({},this._modelSetOptions,s);if(!this._model)throw"model must be specified";if(!this._rootEl)throw"rootEl must be specified";i?(this._attributeBindings=t.extend(!0,{},i),this._initializeAttributeBindings(),this._initializeElBindings()):this._initializeDefaultBindings(),this._bindModelToView(),this._bindViewToModel()},unbind:function(){this._unbindModelToView(),this._unbindViewToModel(),this._attributeBindings&&(delete this._attributeBindings,this._attributeBindings=undefined)},_initializeAttributeBindings:function(){var t,n,r,i,s;for(t in this._attributeBindings){n=this._attributeBindings[t];if(e.isString(n))r={elementBindings:[{selector:n}]};else if(e.isArray(n))r={elementBindings:n};else{if(!e.isObject(n))throw"Unsupported type passed to Model Binder "+r;r={elementBindings:[n]}}for(i=0;i<r.elementBindings.length;i++)s=r.elementBindings[i],s.attributeBinding=r;r.attributeName=t,this._attributeBindings[t]=r}},_initializeDefaultBindings:function(){var e,n,r,i,s;this._attributeBindings={},n=t("[name]",this._rootEl);for(e=0;e<n.length;e++)r=n[e],i=t(r).attr("name"),this._attributeBindings[i]?this._attributeBindings[i].elementBindings.push({attributeBinding:this._attributeBindings[i],boundEls:[r]}):(s={attributeName:i},s.elementBindings=[{attributeBinding:s,boundEls:[r]}],this._attributeBindings[i]=s)},_initializeElBindings:function(){var e,n,r,i,s,o,u;for(e in this._attributeBindings){n=this._attributeBindings[e];for(r=0;r<n.elementBindings.length;r++){i=n.elementBindings[r],i.selector===""?s=t(this._rootEl):s=t(i.selector,this._rootEl);if(s.length===0)throw"Bad binding found. No elements returned for binding selector "+i.selector;i.boundEls=[];for(o=0;o<s.length;o++)u=s[o],i.boundEls.push(u)}}},_bindModelToView:function(){this._model.on("change",this._onModelChange,this),this.copyModelAttributesToView()},copyModelAttributesToView:function(t){var n,r;for(n in this._attributeBindings)if(t===undefined||e.indexOf(t,n)!==-1)r=this._attributeBindings[n],this._copyModelToView(r)},_unbindModelToView:function(){this._model&&(this._model.off("change",this._onModelChange),this._model=undefined)},_bindViewToModel:function(){t(this._rootEl).delegate("","change",this._onElChanged),t(this._rootEl).delegate("[contenteditable]","blur",this._onElChanged)},_unbindViewToModel:function(){this._rootEl&&(t(this._rootEl).undelegate("","change",this._onElChanged),t(this._rootEl).undelegate("[contenteditable]","blur",this._onElChanged))},_onElChanged:function(e){var n,r,i,s;n=t(e.target)[0],r=this._getElBindings(n);for(i=0;i<r.length;i++)s=r[i],this._isBindingUserEditable(s)&&this._copyViewToModel(s,n)},_isBindingUserEditable:function(e){return e.elAttribute===undefined||e.elAttribute==="text"||e.elAttribute==="html"},_getElBindings:function(e){var t,n,r,i,s,o,u=[];for(t in this._attributeBindings){n=this._attributeBindings[t];for(r=0;r<n.elementBindings.length;r++){i=n.elementBindings[r];for(s=0;s<i.boundEls.length;s++)o=i.boundEls[s],o===e&&u.push(i)}}return u},_onModelChange:function(){var e,t;for(e in this._model.changedAttributes())t=this._attributeBindings[e],t&&this._copyModelToView(t)},_copyModelToView:function(e){var r,i,s,o,u,a;u=this._model.get(e.attributeName);for(r=0;r<e.elementBindings.length;r++){i=e.elementBindings[r];for(s=0;s<i.boundEls.length;s++)o=i.boundEls[s],o._isSetting||(a=this._getConvertedValue(n.ModelBinder.Constants.ModelToView,i,u),this._setEl(t(o),i,a))}},_setEl:function(e,t,n){t.elAttribute?this._setElAttribute(e,t,n):this._setElValue(e,n)},_setElAttribute:function(t,r,i){switch(r.elAttribute){case"html":t.html(i);break;case"text":t.text(i);break;case"enabled":t.attr("disabled",!i);break;case"displayed":t[i?"show":"hide"]();break;case"hidden":t[i?"hide":"show"]();break;case"css":t.css(r.cssAttribute,i);break;case"class":var s=this._model.previous(r.attributeBinding.attributeName);e.isUndefined(s)||(s=this._getConvertedValue(n.ModelBinder.Constants.ModelToView,r,s),t.removeClass(s)),i&&t.addClass(i);break;default:t.attr(r.elAttribute,i)}},_setElValue:function(e,t){if(e.attr("type"))switch(e.attr("type")){case"radio":e.val()===t&&e.attr("checked","checked");break;case"checkbox":t?e.attr("checked","checked"):e.removeAttr("checked");break;default:e.val(t)}else e.is("input")||e.is("select")||e.is("textarea")?e.val(t):e.text(t)},_copyViewToModel:function(e,r){var i,s;r._isSetting||(r._isSetting=!0,this._setModel(e,t(r)),r._isSetting=!1,e.converter&&(i=this._model.get(e.attributeBinding.attributeName),s=this._getConvertedValue(n.ModelBinder.Constants.ModelToView,e,i),this._setEl(t(r),e,s)))},_getElValue:function(e,t){switch(t.attr("type")){case"checkbox":return t.prop("checked")?!0:!1;default:return t.attr("contenteditable")!==undefined?t.html():t.val()}},_setModel:function(t,r){var i={},s=this._getElValue(t,r);s=this._getConvertedValue(n.ModelBinder.Constants.ViewToModel,t,s),i[t.attributeBinding.attributeName]=s;var o=e.extend({},this._modelSetOptions,{changeSource:"ModelBinder"});this._model.set(i,o)},_getConvertedValue:function(e,t,n){return t.converter&&(n=t.converter(e,n,t.attributeBinding.attributeName,this._model)),n}}),n.ModelBinder.CollectionConverter=function(t){this._collection=t;if(!this._collection)throw"Collection must be defined";e.bindAll(this,"convert")},e.extend(n.ModelBinder.CollectionConverter.prototype,{convert:function(e,t){return e===n.ModelBinder.Constants.ModelToView?t?t.id:undefined:this._collection.get(t)}}),n.ModelBinder.createDefaultBindings=function(e,n,r,i){var s,o,u,a,f={};s=t("["+n+"]",e);for(o=0;o<s.length;o++){u=s[o],a=t(u).attr(n);if(!f[a]){var l={selector:"["+n+'="'+a+'"]'};f[a]=l,r&&(f[a].converter=r),i&&(f[a].elAttribute=i)}}return f},n.ModelBinder.combineBindings=function(t,n){e.each(n,function(e,n){var r={selector:e.selector};e.converter&&(r.converter=e.converter),e.elAttribute&&(r.elAttribute=e.elAttribute),t[n]?t[n]=[t[n],r]:t[n]=r})},n.ModelBinder}),define("text!templates/contact/contact.html",[],function(){return'<div id="contact-us">\r\n\r\n\r\n  <div class="sub-header">\r\n    <div class="header-text">Request Information</div>\r\n  </div>\r\n  <div class="background-area">\r\n    <div class="form-area">\r\n      <form>\r\n        <div>\r\n          <label class="fx-label"><span class="asterisk">*</span>First name:</label>\r\n          <input type="text" name="firstName"/>\r\n\r\n        </div>\r\n        <div>\r\n          <label class="fx-label"><span class="asterisk">*</span>Last name:</label>\r\n          <input type="text" name="lastName"/>\r\n        </div>\r\n        <div>\r\n          <label class="fx-label"><span class="asterisk">*</span>Email:</label>\r\n          <input type="text" name="email"/>\r\n        </div>\r\n        <div class="message">\r\n          <label class="fx-label"><span class="asterisk">*</span>Message:</label>\r\n\r\n          <div class="our-terms">\r\n            <p><a href="./#terms">Read Our terms</a></p>\r\n\r\n            <p>\r\n              <input id="agree_box" name="agreeBox" type="checkbox"/>\r\n              <label class="fx-label" for="agree_box"><span class="asterisk">*</span>Click here to agree</label>\r\n            </p>\r\n          </div>\r\n          <textarea name="message"></textarea>\r\n        </div>\r\n\r\n        <div class="duns-image">\r\n          <!--<img src="../images/secure/duns-registered.gif" alt="Duns Registered">-->\r\n        </div>\r\n        <div class="contact-details">\r\n          <span class="fx-text"><b>Email:</b> info@appfxtoys.com</span>\r\n          <span class="fx-text"><b>Phone:</b> 503 395 5007</span>\r\n        </div>\r\n\r\n        <div class="submit-button fx-section">\r\n          <div id="submit-button" class="fx-button">\r\n            <span>Submit</span>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n  <!--<div id="pop-up">-->\r\n  <!--<div>No terms or conditions endorsed upon, delivered with or contained in the Seller\'s quotation,-->\r\n  <!--acknowledgement or acceptance of order, specification or similar document will form part of the agreement-->\r\n  <!--and the Seller waives any right which it otherwise might have to rely on such terms and conditions.-->\r\n  <!--</div>-->\r\n  <!--<div class="close"><span>X</span> Close</div>-->\r\n  <!--</div>-->\r\n\r\n</div>'}),define("../../common/views/contact/contact",["jquery","underscore","backbone","modelBinder","text!templates/contact/contact.html"],function(e,t,n,r,i){var s=Backbone.View.extend({initialize:function(){t.bindAll(this,"successCallback","errorCallback"),this.template=t.template(i),this.binder=new r},events:{"click #submit-button":"doSubmit"},render:function(e){return this.$el.html(this.template()),this.binder.bind(this.model,this.el),this.$el},postRender:function(){e(".submitquest button").val("submit request")},doSubmit:function(e){e.preventDefault(),Backbone.Validation.bind(this,{valid:app.utils.valid,invalid:app.utils.invalid,forceUpdate:!0});if(app.utils.isAjaxLoading(e.currentTarget))return;this.model.validate();var t=this.model.isValid();if(t===!0){app.utils.setAjaxLoading(e.currentTarget);var n=this.model.save(this.model,{success:this.successCallback,error:this.errorCallback});window.console.log(n)}},successCallback:function(t,n,r){app.utils.unsetAjaxLoading(e("#submit-button")),app.showMessage("Thank you, you request was received and will be answered shortly")},errorCallback:function(t,n,r){app.utils.unsetAjaxLoading(e("#submit-button")),app.showError("Sorry, there was an error with your form submission. Please try again at a later time or email us directly")},getTitle:function(){return"Contact Us"}});return s}),define("text!templates/safety/safety.html",[],function(){return'<div id="product-safety">\r\n  <div class="safety-area">\r\n    <div class="sub-header">\r\n      <div class="header-text">Patent-pending Design</div>\r\n    </div>\r\n    <div class="background-area">\r\n      <p class="fx-verbiage">\r\n        Until now, you either had the video game or the toy. You most likely had both but they definitely did not interact with each other.\r\n      </p>\r\n\r\n      <p class="fx-verbiage">\r\n        The TOY CAR has EVOLVEDâ¦drive yourself with your finger or watch the Driver react as you play with the toy.\r\n      </p>\r\n\r\n      <p class="fx-verbiage">\r\n        <a class="link" href="./#stockCar">FX Car</a> and <a class="link" href="./#appstore">FX Driver</a>: it does not replace the imagination, it super charges it.\r\n      </p>\r\n\r\n      <p class="fx-verbiage">\r\n        Of course, a car isnât really cool unless itâs eco-consious and the FX is extremely green. The green-as-a-shamrock FX is crafted of BPA-free, phthalate-free materials. You wonât find any lead, dioxins, (PCDDs) or mercury under this carâs hood (or anywhere on its gorgeous body and accessories, for that matter).\r\n      </p>\r\n\r\n      <p class="fx-verbiage">\r\n        When the FX has come to the end of the road, after logging in 10,000 fun-filled miles, isnât it great to know that it is entirely recyclable? From its stainless steel axis to its thick plastic body, the FX ranks 99% in reusability and can be disposed of at any recycling center when its days of road blazing glory are over.\r\n      </p>\r\n\r\n      <div class="safety-area-image">\r\n        <div id="car-top">\r\n          <div class="front">\r\n          </div>\r\n          <div class="middle">\r\n          </div>\r\n          <div class="back">\r\n          </div>\r\n        </div>\r\n        <div id="car-bottom">\r\n          <div class="front">\r\n          </div>\r\n          <div class="middle">\r\n          </div>\r\n          <div class="back">\r\n          </div>\r\n        </div>\r\n        <div id="recycle">\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div id="verbiage-area" class="fx-verbiage">\r\n\r\n      </div>\r\n\r\n      <div class="sub-header">\r\n        <div class="header-text">Plastic you can trust</div>\r\n      </div>\r\n      <div class="bottom-verbiage">\r\n\r\n        <p class="fx-verbiage">\r\n          After a careful and thorough selection process, we selected high-density polymer as it is the same plastic that you trust everydayâ¦to contain your food.\r\n        </p>\r\n\r\n        <p class="fx-verbiage">\r\n          For your information, BPA free is not the only thing that poses a risk. Other toxins are equally as dangerous, as they contain Mercury and hormones. Even recycled plastic, although environmental, do not guarantee safe handling. Unfortunately and fortunately, most toys using recyclable plastic use a negligible amount (less than 10%) it doesnât adversly harm the environment or pose as much of a safety concern.\r\n        </p>\r\n\r\n        <p class="fx-verbiage">\r\n          More costly and tougher to work with, we went above and beyond because we know it is not only about the design but rather the upmost quality that includes safety as its top priority.\r\n        </p>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n\r\n  </div>\r\n</div>'}),define("views/safety/safety",["jquery","underscore","backbone","text!templates/safety/safety.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){this.template=t.template(r)},render:function(e){return this.$el.html(this.template()),this.el},postRender:function(){e("#product-safety #verbiage-area").hide()},events:{"click  #product-safety #car-top div.front":"showTopFront","click  #product-safety #car-top div.middle":"showTopMiddle","click  #product-safety #car-top div.back":"showTopBack","click  #product-safety #car-bottom div.front":"showBottomFront","click  #product-safety #car-bottom div.middle":"showBottomMiddle","click  #product-safety #car-bottom div.back":"showBottomBack","click  #product-safety #recycle":"showRecycle"},displayMessage:function(t){e("#product-safety #verbiage-area").show(),e("#product-safety #verbiage-area").text(t)},showTopFront:function(t){this.activateGlow(e(t.target)),this.displayMessage("Solid body construction with thick plastic and wide body design supports the weight of any adult using")},showTopMiddle:function(t){this.activateGlow(e(t.target)),this.displayMessage("High quality silicon rubber, the same material as high-end iPhone cases.  Provides comfort, grip and control, and sustained repeated use")},showTopBack:function(t){this.activateGlow(e(t.target)),this.displayMessage("Two rear ports channel sound out of the device for amplified effects and music")},showBottomFront:function(t){this.activateGlow(e(t.target)),this.displayMessage("Stainless steel axel that will not rust and 100% recyclable ")},showBottomMiddle:function(t){this.activateGlow(e(t.target)),this.displayMessage("Additional layer of plastic added to remove sharp edges that could make the toy potentially dangerous")},showBottomBack:function(t){this.activateGlow(e(t.target)),this.displayMessage("Rubber wheels for maximum traction and precise movement control")},showRecycle:function(t){this.resetGlows(),e(t.target).css("background-image",'url("../../images/product/recycle_glow.png")'),this.displayMessage("Fully Recyclable, the entire car can be taken to any local recycling center.")},activateGlow:function(e){this.resetGlows(),e.css("background-image",'url("../../images/product/callout_glow.png")')},resetGlows:function(){e("#product-safety .safety-area-image #car-top div").css("background-image",'url("../../images/product/callout.png")'),e("#product-safety .safety-area-image #car-bottom div").css("background-image",'url("../../images/product/callout.png")'),e("#product-safety .safety-area-image #recycle div").css("background-image",'url("../../images/product/recycle.png")')},getTitle:function(){return"Product Design"}});return i}),define("text!templates/cart/cart-item.html",[],function(){return'<div class="sub-header">\r\n  <div class="header-text"><%=index%><%=itemName%></div>\r\n  <div class="remove-item"><span>X</span> Remove Item</div>\r\n</div>\r\n<div class="fx-section">\r\n  <div><img src="../images/thumbs/<%=thumbnail%>.png"></div>\r\n  <div>\r\n    <div><span class="description"><%=description%></span></div>\r\n    <div class="price">Item price: $<%=price%></div>\r\n    <div class="form-area">\r\n      <div class="form-area-text">\r\n        Qty: <input type="text" value=\'<%=quantity%>\' maxlength="2" name="quantity"/>\r\n        <div class="fx-button update-button">\r\n          <span>Update</span>\r\n        </div>\r\n      </div>\r\n      <!--<img src="./images/update_button_normal.png">-->\r\n    </div>\r\n  </div>\r\n  <div>Total: $<%=total%></div>\r\n</div>'}),define("views/cart/cart-item",["jquery","underscore","backbone","text!templates/cart/cart-item.html"],function(e,t,n,r){var i=Backbone.View.extend({tagName:"div",className:"cart-item fx-label",initialize:function(){this.template=t.template(r),t.bindAll(this,"updateSuccessCallback","updateErrorCallback","deleteSuccessCallback","deleteErrorCallback")},events:{"click .form-area .update-button":"updateQuantity","click .remove-item":"removeItem"},updateQuantity:function(){var e=this.model.get("quantity"),t=this.$(".form-area input").val();if(e==t)return;this.model.set({quantity:t});if(this.model.isValid()===!1){this.model.set({quantity:0}),this.$('input[type="text"]').val("");return}this.model.save(this.model,{success:this.updateSuccessCallback,error:this.updateErrorCallback})},updateSuccessCallback:function(e,t,n){this.model=e,this.model.updateTotal(),this.render()},updateErrorCallback:function(e,t,n){console.log("update quantity failed"),app.showError("Could not update quantity at this time.")},removeItem:function(){this.model.destroy({success:this.deleteSuccessCallback,error:this.deleteErrorCallback,wait:!0})},deleteSuccessCallback:function(e,t,n){this.remove()},deleteErrorCallback:function(e,t,n){console.log("unable to delete cart item"),app.showError("Could not delete cart item at this time.")},render:function(){return Backbone.Validation.bind(this,{valid:app.utils.valid,invalid:app.utils.invalid,forceUpdate:!0}),this.$el.html(this.template(this.model.toJSON())),this}});return i}),define("text!templates/cart/cart.html",[],function(){return'<div id="cart">\r\n  <div class="background-area">\r\n    <div id="cart-list">\r\n\r\n    </div>\r\n\r\n    <div class="fx-section">\r\n      <div class="cost-total">\r\n        <div><span class="fx-color fx-label">TOTAL</span></div>\r\n        <div><span class="fx-label sum"></span></div>\r\n      </div>\r\n      <div id="handling" class="cost-handling">\r\n        <div><span class="fx-label handling">+ HANDLING</span></div>\r\n        <div><span class="fx-label sum"></span></div>\r\n      </div>\r\n    </div>\r\n    <div class="fx-section grand-total">\r\n      <div class="grand-total-area">\r\n        <div><span class="fx-color fx-label">GRAND TOTAL</span></div>\r\n        <div><span class="fx-label sum"></span></div>\r\n      </div>\r\n    </div>\r\n    <div class="notice">\r\n      <p class="fx-verbiage">* At this time, only Continental US orders are accepted through the website.\r\n        All international shipments must be completed through email.\r\n        Please send your request to <a href="mailto:world@appfxtoys.com" target="_blank">world@appfxtoys.com</a></p>\r\n    </div>\r\n    <div class="button-area">\r\n      <div class="center-wide">\r\n        <div class="fx-section checkout">\r\n          <div id="checkout-button" class="fx-button">\r\n            <span>Proceed To Checkout</span>\r\n          </div>\r\n        </div>\r\n        <div class="fx-section clear">\r\n          <div id="clear-button" class="fx-button">\r\n            <span>Clear Cart</span>\r\n          </div>\r\n        </div>\r\n        <div class="fx-section continue">\r\n          <div id="continue-button" class="fx-button">\r\n            <span>Continue Shopping</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),define("views/cart/cart",["jquery","underscore","backbone","views/cart/cart-item","text!templates/cart/cart.html"],function(e,t,n,r,i){var s=Backbone.View.extend({initialize:function(){this.template=t.template(i),t.bindAll(this,"clearSuccessCallback","clearErrorCallback")},render:function(e){this.$el.html(this.template());for(var t=0;t<this.collection.models.length;t++)this.renderCartItem(this.collection.models[t],t);return this.el},updateTotals:function(){this.collection.updateTotals()},events:{"click .checkout #checkout-button":"checkout","click .clear #clear-button":"clearCart","click .continue #continue-button":"continueShopping"},renderCartItem:function(e,t){var n=Math.round(e.get("quantity")*e.get("price")*100)/100;n=app.utils.padDecimal(n),e.set({total:n},{silent:!0});var i=new r({model:e});this.$("#cart-list").append(i.render().el)},checkout:function(e){var t=this.collection.models;if(t.length==null||t.length==0){app.showError("You must have at least one item in your cart to continue");return}var n=!0;for(var r=0;r<t.length;r++)t[r].validate(),t[r].isValid()===!1&&(n=!1);if(n===!1)return;app.navigate("checkout",!0)},clearCart:function(e){this.collection.sync("delete",this.collections,{success:this.clearSuccessCallback,error:this.clearErrorCallback,wait:!0})},clearSuccessCallback:function(e,t,n){var r=this.collection;r.each(function(e){r.pop()}),this.render(),window.scrollTo(0,0),app.showMessage("Cart items were cleared")},clearErrorCallback:function(e,t,n){console.log("unable to clear cart items"),app.showMessage("Not able to clear your cart at this time")},continueShopping:function(e){app.navigate("home",!0)},getTitle:function(){return"Your Shopping Cart"}});return s}),define("text!templates/stock-car/fx-car.html",[],function(){return'<div id="fx-gallery">\r\n\r\n  <div id="car-package">\r\n    <div class="sub-header">\r\n      <div class="header-text">Single Car</div>\r\n    </div>\r\n    <div class="background-area">\r\n      <div>\r\n        <img class="main-image" id="single-car"/>\r\n      </div>\r\n\r\n      <div class="gallery">\r\n\r\n        <div class="arrow">\r\n          <a class="prev browse left"><span style="float:left"> < </span></a>\r\n        </div>\r\n\r\n        <!-- root element for scrollable -->\r\n        <div class="fx-scrollable">\r\n\r\n          <!-- root element for the items -->\r\n          <div class="fx-items">\r\n\r\n            <!-- 1-5 -->\r\n            <div>\r\n              <img src="../images/car/appfx_front.jpg"/>\r\n              <img src="../images/car/appfx_rear.jpg"/>\r\n              <img src="../images/car/dclabs_right.jpg"/>\r\n            </div>\r\n\r\n            <!-- 5-10 -->\r\n            <div>\r\n              <img src="../images/car/dclabs_side.jpg"/>\r\n              <img src="../images/car/patrol_right.jpg"/>\r\n              <img src="../images/car/patrol_topback.jpg"/>\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div class="arrow">\r\n          <a class="next browse right"><span> > </span></a>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="description">\r\n        <ul>\r\n          <li>Crafted of quality silicon rubber</li>\r\n          <li>Rubber wheels offer maximum traction</li>\r\n          <li>Patent-Pending Design, Child-friendly crafted</li>\r\n          <li>Features a sleek, streamlined design with grip control for easy handling of hard turns</li>\r\n          <li>Eco-friendly and 100% recyclable</li>\r\n        </ul>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div id="complete-package">\r\n  <div class="sub-header">\r\n    <div class="header-text">Complete Package</div>\r\n  </div>\r\n  <div class="background-area">\r\n    <div>\r\n      <img id="full-car" class="main-image"/>\r\n    </div>\r\n    <div class="gallery">\r\n\r\n      <div class="arrow">\r\n        <a class="prev browse left"><span style="float:left"> < </span></a>\r\n      </div>\r\n\r\n      <!-- root element for scrollable -->\r\n      <div class="fx-scrollable" id="package-scrollable">\r\n\r\n        <!-- root element for the items -->\r\n        <div class="fx-items">\r\n\r\n          <!-- 1-5 -->\r\n          <div>\r\n            <img src=" ../images/mobile/home/fx_bundle_no_border.jpg"/>\r\n            <img src="../images/car/app.png"/>\r\n            <img src="../images/car/appfx_front.jpg"/>\r\n          </div>\r\n\r\n          <!-- 5-10 -->\r\n          <div>\r\n            <img src="../images/car/appfx_rear.jpg"/>\r\n            <img src="../images/car/dclabs_right.jpg"/>\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="arrow">\r\n        <a class="next browse right"><span> > </span></a>\r\n      </div>\r\n\r\n      <div class="description">\r\n        <ul>\r\n          <li>Get it all:</li>\r\n          <li>FX Car</li>\r\n          <li>2 Sticker Sheets (Race or Police Set)</li>\r\n          <li>Premium Edition of App for over 40% off if bought individually</li>\r\n          <li>Free Shipping</li>\r\n        </ul>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n\r\n\r\n'}),define("views/stock-car/fx-car",["jquery","underscore","backbone","text!templates/stock-car/fx-car.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){this.template=t.template(r)},events:{"click #car-package .fx-items img":"setCarImage","click #complete-package .fx-items img":"setPackageImage","click #car-package img#single-car":"doSingleCarClick","click #complete-package img#full-car":"doFullPackageClick"},setCarImage:function(t){var n=e("#car-package .main-image");n.attr("src",t.target.src)},setPackageImage:function(t){var n=e("#complete-package .main-image");n.attr("src",t.target.src)},doSingleCarClick:function(e){app.navigate("fxCarDetails/C1",!0)},doFullPackageClick:function(e){app.navigate("fxCarDetails/B10",!0)},render:function(){return this.$el.html(this.template()),this.el},getTitle:function(){return e("#car-package .main-image").attr("src","../images/car/appfx_front.jpg"),e("#complete-package .main-image").attr("src","../images/mobile/home/fx_bundle_no_border.jpg"),"FX Car"}});return i}),define("text!templates/stock-car/details.html",[],function(){return'<div id="stock-car-details">\r\n  <div class="background-area">\r\n    <div class="">\r\n      <div class="sub-header">\r\n        <div class="header-text"><%=name%></div>\r\n      </div>\r\n      <div class="image">\r\n        <img id="product-image" src="../images/car/appfx_front.jpg">\r\n      </div>\r\n\r\n      <div class="description">\r\n        <ul>\r\n          <li>Extremely Green : %100 recyclable</li>\r\n          <li><a href="#safety">Full Product Specs</a></li>\r\n          <li> Dimensions (4"", 4.5"", & 10.5"")</li>\r\n          <li>Weight (1 lbs)</li>\r\n          <li>Color : currently only black is available (Note. Black textured material for the best adhesive surface for stickers and acts as the best contrast to video screens like that of an iPhone)</li>\r\n          <li>Cost: $<%=price%></li>\r\n        </ul>\r\n      </div>\r\n      <div class="iphone-toggle">\r\n        <input type="checkbox" name="iphone-single" value="true"><span>Sized for iPhone/iPod 5</span>\r\n      </div>\r\n\r\n      <div class="cart-button">\r\n        <div id="cart-button" class="fx-button">\r\n          <span>Add To Cart</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("views/stock-car/details",["jquery","underscore","backbone","text!templates/stock-car/details.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(e){this.item=app.catalog.getItemById(e),this.template=t.template(r)},render:function(){return this.$el.html(this.template(this.item)),this.el},postRender:function(){this.item.itemNumber==="B10"&&e("#product-image").attr("src","../images/mobile/home/fx_bundle_mp.jpg")},getTitle:function(){return this.item.itemNumber==="B10"?"FX Complete Package":"FX Car"},events:{"click .cart-button #cart-button":"addToCart","click #product-image":"addToCart","click .iphone-toggle":"togglePhoneSize"},addToCart:function(){window.scrollTo(0,0),(this.item.itemNumber==="C2"||this.item.itemNumber==="B11")&&alert("Please be aware that due to popular demand the FX Car for iPhone/iPod 5 (S/C) is currently on back order.  Please expect a 3-4 week delay, we apologize for the inconvenience."),app.cartItemList.addItem(this.item)},togglePhoneSize:function(e){this.item.itemNumber==="B10"?this.item=app.catalog.getItemById("B11"):this.item.itemNumber==="B11"?this.item=app.catalog.getItemById("B10"):this.item.itemNumber==="C1"?this.item=app.catalog.getItemById("C2"):this.item.itemNumber==="C2"&&(this.item=app.catalog.getItemById("C1"))}});return i}),define("text!templates/stickers/options.html",[],function(){return'<div id="stickers-options">\r\n  <div class="background-area">\r\n    <div class="sub-header">\r\n      <div class="header-text">FX Car Sticker Sheets</div>\r\n    </div>\r\n    <div class="fx-section">\r\n      <div class="sticker-description">\r\n        <p>\r\n          Tat it Up!\r\n        </p>\r\n\r\n        <p>\r\n          Have Some Wicked Good Fun with FX Stickers\r\n        </p>\r\n\r\n        <p>\r\n          Before you tear it up, tat up your FX Car with its own special custom lookâdesigned by you! Have fun creating your own unique look by mixing your own personal selection of FX car stickers on the doors, trunk, lights, windows or rear of your FX car. From top to grill to axis, the possibilities are endless. Simply peel off the sticker sheet and apply. Itâs that easâ¦.and so much fun.\r\n        </p>\r\n\r\n        <p>\r\n          Ready? Set. Go! Your sleek black FX car is going to look absolutely stunning after youâve applied our glossy colorful stickers for a high-contrast racing car appearance. Select from a diverse collection of logos and images that will take you from the starting line to the finish line in highstyle.\r\n        </p>\r\n      </div>\r\n      <div class="options">\r\n        <img src="./images/rear.jpg">\r\n      </div>\r\n      <div class="arrow">\r\n        <span class="arrow-right"> > </span>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>'}),define("views/stickers/options",["jquery","underscore","backbone","text!templates/stickers/options.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){this.template=t.template(r)},events:{"click .options img":"navType"},render:function(){return this.$el.html(this.template()),this.el},getTitle:function(){return"FX Stickers"},navType:function(){app.navigate("stickersGallery",!0)}});return i}),define("text!templates/stickers/gallery.html",[],function(){return'<div id="fx-gallery">\r\n\r\n  <div id="stickers">\r\n    <div class="sub-header">\r\n      <div class="header-text">FX Stickers</div>\r\n    </div>\r\n    <div class="background-area">\r\n      <div class="sticker-description">\r\n        <p>\r\n          Tat it Up!\r\n        </p>\r\n\r\n        <p>\r\n          Have Some Wicked Good Fun with FX Stickers\r\n        </p>\r\n\r\n        <p>\r\n          Before you tear it up, tat up your FX Car with its own special custom lookâdesigned by you! Have fun creating your own unique look by mixing your own personal selection of FX car stickers on the doors, trunk, lights, windows or rear of your FX car. From top to grill to axis, the possibilities are endless. Simply peel off the sticker sheet and apply. Itâs that easâ¦.and so much fun.\r\n        </p>\r\n\r\n        <p>\r\n          Ready? Set. Go! Your sleek black FX car is going to look absolutely stunning after youâve applied our glossy colorful stickers for a high-contrast racing car appearance. Select from a diverse collection of logos and images that will take you from the starting line to the finish line in highstyle.\r\n        </p>\r\n      </div>\r\n      <div>\r\n        <img class="main-image"/>\r\n      </div>\r\n\r\n      <div class="gallery">\r\n\r\n        <div class="arrow">\r\n          <a class="prev browse left"><span style="float:left"> < </span></a>\r\n        </div>\r\n\r\n        <!-- root element for scrollable -->\r\n        <div class="fx-scrollable">\r\n\r\n          <!-- root element for the items -->\r\n          <div class="fx-items">\r\n\r\n\r\n            <div>\r\n              <img src="../images/stickers/appfx_front.jpg"/>\r\n              <img src="../images/stickers/appfx_rear.jpg"/>\r\n              <img src="../images/stickers/appfx_side.jpg"/>\r\n            </div>\r\n            <div>\r\n              <img src="../images/stickers/appfx_sweet.jpg"/>\r\n              <img src="../images/stickers/appfx_top.jpg"/>\r\n              <img src="../images/stickers/appfx_top_back.jpg"/>\r\n            </div>\r\n            <div>\r\n              <img src="../images/stickers/appfx_top_front.jpg"/>\r\n              <img src="../images/stickers/dclabs_llc_front.jpg"/>\r\n              <img src="../images/stickers/dclabs_llc_rear.jpg"/>\r\n            </div>\r\n            <div>\r\n              <img src="../images/stickers/dclabs_llc_right.jpg"/>\r\n              <img src="../images/stickers/dclabs_llc_side.jpg"/>\r\n              <img src="../images/stickers/dclabs_llc_top.jpg"/>\r\n            </div>\r\n            <div>\r\n              <img src="../images/stickers/dclabs_llc_top_back.jpg"/>\r\n              <img src="../images/stickers/dclabs_llc_top_front.jpg"/>\r\n              <img src="../images/stickers/patrol_front.jpg"/>\r\n            </div>\r\n            <div>\r\n              <img src="../images/stickers/patrol_back.jpg"/>\r\n              <img src="../images/stickers/patrol_right_side.jpg"/>\r\n              <img src="../images/stickers/patrol_sweet.jpg"/>\r\n            </div>\r\n            <div>\r\n              <img src="../images/stickers/patrol_top.jpg"/>\r\n              <img src="../images/stickers/patrol_top_back.jpg"/>\r\n              <img src="../images/stickers/patrol_top_front.jpg"/>\r\n            </div>\r\n            <div>\r\n              <img src="../images/stickers/police_front.jpg"/>\r\n              <img src="../images/stickers/police_back.jpg"/>\r\n              <img src="../images/stickers/police_right_side.jpg"/>\r\n            </div>\r\n            <div>\r\n              <img src="../images/stickers/police_sweet.jpg"/>\r\n              <img src="../images/stickers/police_top.jpg"/>\r\n              <img src="../images/stickers/police_top_back.jpg"/>\r\n            </div>\r\n            <div>\r\n              <img src="../images/stickers/police_top_front.jpg"/>\r\n            </div>\r\n\r\n\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div class="arrow">\r\n          <a class="next browse right"><span> > </span></a>\r\n        </div>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  </div>\r\n</div>'}),define("views/stickers/gallery",["jquery","underscore","backbone","text!templates/stickers/gallery.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){this.template=t.template(r)},events:{"click #stickers .fx-items img":"setStickerImage","click #stickers img.main-image":"doTrackClick"},setStickerImage:function(t){var n=e("#stickers .main-image");n.attr("src",t.target.src)},doTrackClick:function(e){app.navigate("stickerTypes",!0)},render:function(){return this.$el.html(this.template()),this.el},postRender:function(){e("#stickers .main-image").attr("src","../images/stickers/appfx_front.jpg")},getTitle:function(){return"FX Stickers"}});return i}),define("text!templates/stickers/types.html",[],function(){return'<div id="cart-item-types">\r\n  <div class="background-area">\r\n    <div class="cart-item-type ribbon">\r\n      <div class="ribbon">\r\n        <img src="../images/stickers/ribbon.png">\r\n      </div>\r\n      <div class="ribbon-title-area">\r\n        <div class="header-text">Add all 4 high gloss sticker sheets for $<%=price%></div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="cart-item-type">\r\n      <div class="thumbnails">\r\n        <img src="../images/thumbs/appfx_sticker-ct.png">\r\n      </div>\r\n      <div class="title-area">\r\n        <div class="header-text">AppFX Sticker Sheet</div>\r\n        <div>\r\n          <div item="S10" class="fx-button details-button">\r\n            <span item="S10">Details</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="cart-item-type">\r\n      <div class="thumbnails">\r\n        <img src="../images/thumbs/dclabs_sticker-ct.png">\r\n      </div>\r\n      <div class="title-area">\r\n        <div class="header-text">DC Labs LLC Sticker Sheet</div>\r\n        <div>\r\n          <div item="S11" class="fx-button details-button">\r\n            <span item="S11">Details</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="cart-item-type">\r\n      <div class="thumbnails">\r\n        <img src="../images/thumbs/patrol_sticker-ct.png">\r\n      </div>\r\n      <div class="title-area">\r\n        <div class="header-text">Patrol Sticker Sheet</div>\r\n        <div>\r\n          <div item="S12" class="fx-button details-button">\r\n            <span item="S12">Details</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="cart-item-type">\r\n      <div class="thumbnails">\r\n        <img src="../images/thumbs/police_sticker-ct.png">\r\n      </div>\r\n      <div class="title-area">\r\n        <div class="header-text">Interceptor Sticker Sheet</div>\r\n        <div>\r\n          <div item="S13" class="fx-button details-button">\r\n            <span item="S13">Details</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>'}),define("views/stickers/types",["jquery","underscore","backbone","text!templates/stickers/types.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){this.template=t.template(r),this.bundle=app.catalog.getItemById("B13")},events:{"click .cart-item-type .title-area .details-button":"doDetailsClick","click .cart-item-type.ribbon":"doRibbonClick"},render:function(){return this.$el.html(this.template({price:this.bundle.price})),this.el},doDetailsClick:function(e){var t=this.$(e.target).attr("item");app.navigate("stickerDetails/"+t,!0)},doRibbonClick:function(e){window.scrollTo(0,0),app.cartItemList.addItem(this.bundle)},getTitle:function(){return"FX Stickers"}});return i}),define("text!templates/stickers/details.html",[],function(){return'<div id="stickers-details">\r\n  <div class="background-area">\r\n    <div class="sticker-type-item">\r\n      <div class="sub-header">\r\n        <div class="header-text"><%=name%></div>\r\n      </div>\r\n      <div class="image">\r\n        <img src="">\r\n      </div>\r\n      <div>\r\n        <ul class="fx-description-list">\r\n         </ul>\r\n      </div>\r\n      <div class="ribbon">\r\n        <div class="image-ribbon"><img src="../images/stickers/ribbon.png"></div>\r\n        <div class="text-ribbon fx-text">Add all 4 high gloss sticker sheets for $<span id="bundle-price"></span></div>\r\n\r\n      </div>\r\n      <div class="spec-sheet">\r\n        <a class="pdf-link" href="#" target="_blank">Download PDF Specs</a>\r\n      </div>\r\n\r\n      <div class="cart-button">\r\n        <div id="cart-button" class="fx-button">\r\n          <span>Add To Cart</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),define("views/stickers/details",["jquery","underscore","backbone","text!templates/stickers/details.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(e){this.item=app.catalog.getItemById(e),this.template=t.template(r),this.bundle=app.catalog.getItemById("B13")},setPageDetails:function(t){var n=app.utils.getStickerPDFName(t),r=app.utils.getStickerDescription(t);e(".spec-sheet a.pdf-link").attr("href","../pdf/"+n),e(".fx-description-list").html(r)},render:function(){return this.$el.html(this.template(this.item)),this.el},postRender:function(){this.setPageDetails(this.item.itemNumber),e("#bundle-price").text(this.bundle.price);var t=this.item.thumbnail.replace("-ct","");e(".image img").attr("src","../images/stickers/"+t+".png")},getTitle:function(){return"FX Stickers Details"},events:{"click .cart-button #cart-button":"addToCart","click .image img":"addToCart","click #stickers-details .ribbon":"addBundleToCart"},addToCart:function(){window.scrollTo(0,0),app.cartItemList.addItem(this.item)},addBundleToCart:function(){window.scrollTo(0,0),app.cartItemList.addItem(this.bundle)}});return i}),define("text!templates/tape/gallery.html",[],function(){return'<div id="fx-gallery">\r\n\r\n  <div id="tracks">\r\n    <div class="sub-header">\r\n      <div class="header-text">Build Your Own</div>\r\n    </div>\r\n    <div class="background-area">\r\n      <div class="description">\r\n        <ul>\r\n          <li>Create your own tracks</li>\r\n          <li>Add your own buildings and other figures for the FX Car to navigate through</li>\r\n          <li>Purchase our FX Track 3-color bundle and save $</li>\r\n          <li>Unlimited creative uses</li>\r\n          <li>Build interactive tracks with multi colored tape</li>\r\n          <li>Take pictures of your creations and upload to our blog</li>\r\n        </ul>\r\n      </div>\r\n      <div>\r\n        <img class="main-image"/>\r\n      </div>\r\n\r\n      <div class="gallery">\r\n\r\n        <div class="arrow">\r\n          <a class="prev browse left"><span style="float:left"> < </span></a>\r\n        </div>\r\n\r\n        <!-- root element for scrollable -->\r\n        <div class="fx-scrollable">\r\n\r\n          <!-- root element for the items -->\r\n          <div class="fx-items">\r\n\r\n            <!-- 1-5 -->\r\n            <div>\r\n              <img src="../images/track/track1.jpg"/>\r\n              <img src="../images/track/track2.jpg"/>\r\n              <img src="../images/track/track3.jpg"/>\r\n            </div>\r\n\r\n            <!-- 5-10 -->\r\n            <div>\r\n              <img src="../images/track/track4.jpg"/>\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div class="arrow">\r\n          <a class="next browse right"><span> > </span></a>\r\n        </div>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  </div>\r\n</div>'}),define("views/tape/gallery",["jquery","underscore","backbone","text!templates/tape/gallery.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){this.template=t.template(r)},events:{"click #tracks .fx-items img":"setTrackImage","click #tracks img.main-image":"doTrackClick"},setTrackImage:function(t){var n=e("#tracks .main-image");n.attr("src",t.target.src)},doTrackClick:function(e){app.navigate("tapeDetails/tape",!0)},render:function(){return this.$el.html(this.template()),this.el},getTitle:function(){return e("#tracks .main-image").attr("src","../images/track/track1.jpg"),"FX Track"}});return i}),define("text!templates/tape/types.html",[],function(){return'<div id="cart-item-types">\r\n  <div class="background-area">\r\n    <div class="cart-item-type">\r\n      <div class="thumbnails">\r\n        <img src="./images/multi-color.png">\r\n      </div>\r\n      <div class="title-area">\r\n        <div class="header-text">Muti colored track tape</div>\r\n        <div><img class="tape" src="./images/details_button_normal.png"></div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--<div class="cart-item-type">-->\r\n      <!--<div class="thumbnails">-->\r\n        <!--<img src="./images/postcard.png">-->\r\n      <!--</div>-->\r\n      <!--<div class="title-area">-->\r\n        <!--<div class="header-text">Postcard Buildings</div>-->\r\n        <!--<div><img class="postcard" src="./images/details_button_normal.png"></div>-->\r\n      <!--</div>-->\r\n    <!--</div>-->\r\n\r\n\r\n  </div>\r\n</div>'}),define("views/tape/types",["jquery","underscore","backbone","text!templates/tape/types.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){this.template=t.template(r)},events:{"click .cart-item-type .title-area img":"doDetailsClick"},render:function(){return this.$el.html(this.template()),this.el},doDetailsClick:function(e){var t=e.target.className;app.navigate("tapeDetails/"+t,!0)},getTitle:function(){return"FX Track"}});return i}),define("text!templates/tape/details.html",[],function(){return'<div id="cart-item-details">\r\n  <div class="background-area">\r\n    <div class="cart-item-type">\r\n      <div class="sub-header">\r\n        <div class="header-text"><%=name%></div>\r\n      </div>\r\n      <div class="image">\r\n        <img src="../images/track/<%=thumbnail%>.png">\r\n      </div>\r\n      <div class="item-text">\r\n        <ul class="fx-description-list">\r\n        </ul>\r\n      </div>\r\n\r\n      <div class="products">\r\n        <ul class="products-list">\r\n            <li class="<%=bundle.itemNumber%>"><div><input class="<%=bundle.itemNumber%>" type="checkbox" name="<%=bundle.itemNumber%>"> <%=bundle.itemName%> :</div> <span>$<%=bundle.price%></span><a class="<%=bundle.itemNumber%>">thumb</a></li>\r\n          <% _.each(products, function(p) { %>\r\n            <li class="<%= p.itemNumber %>"><div><input class="<%= p.itemNumber %>" type="checkbox" name="<%= p.itemNumber %>"><img class="disabled-checkbox" src="../images/mobile/general/uncheck.png"> <%= p.itemName %> :</div> <span>$<%= p.price %></span> <a class="<%= p.itemNumber %>">thumb</a></li>\r\n          <% }); %>\r\n        </ul>\r\n      </div>\r\n\r\n\r\n      <div class="cart-button">\r\n        <div id="cart-button" class="fx-button">\r\n          <span>Add To Cart</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div id="pop-up">\r\n    <div>\r\n      <img src="" alt="">\r\n    </div>\r\n    <div class="close"><span>X</span> Close</div>\r\n  </div>\r\n\r\n\r\n</div>'}),define("views/tape/details",["jquery","underscore","backbone","text!templates/tape/details.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(e){this.template=t.template(r),this.name=e,this.selectedItemNumbers=[]},render:function(){var e={},t;this.name==="tape"&&(e.name="Multi-colored Tape",e.thumbnail="tape_bundle",t=app.catalog.getItemById("B15"));var n=app.catalog.getProductsByCategory(this.name);return e.products=n,e.bundle=t,this.$el.html(this.template(e)),this.el},postRender:function(){var e="<li>Build interactive tracks with multi colored tape</li><li>Price: $1.50 each</li>",t=this.$(".fx-description-list");this.name==="tape"&&t.append(e)},getTitle:function(){return"FX Track"},events:{"click .cart-button #cart-button":"addToCart","click .cart-item-type li input":"toggleCheckbox","click .cart-item-type li a":"showPopupImage","click #pop-up":"doPopupClose"},addToCart:function(){window.scrollTo(0,0);var e=[];for(var t=0;t<this.selectedItemNumbers.length;t++)e.push(app.catalog.getItemById(this.selectedItemNumbers[t]));app.cartItemList.addItems(e)},toggleCheckbox:function(e){var n=e.currentTarget.className,r=this.$("input."+n);if(n==="B15"){this.selectedItemNumbers=[];var i=r.attr("checked")==="checked";i===!0&&this.selectedItemNumbers.push(n),this.disableCheckboxes(i);return}r.attr("checked")==="checked"?this.selectedItemNumbers.push(n):this.selectedItemNumbers=t.without(this.selectedItemNumbers,n)},disableCheckboxes:function(e){var t=app.catalog.getProductsByCategory(this.name);for(var n=0;n<t.length;n++)this.$("input."+t[n].itemNumber).attr("disabled",e),this.$("input."+t[n].itemNumber).attr("checked",!1)},showPopupImage:function(t){var n=t.currentTarget.className,r=app.catalog.getItemById(n),i="../images/thumbs/"+r.thumbnail+".png";this.$("#pop-up img").attr("src",i),this.$("#pop-up img").attr("alt",r.itemName),e("#cart-item-details div#pop-up").show()},doPopupClose:function(){e("#cart-item-details div#pop-up").hide()}});return i}),define("text!templates/device-exchange/device-list.html",[],function(){return'<div id="device-exchange">\r\n  <div class="background-area">\r\n    <div id="device-list">\r\n      <div class="sub-header">\r\n        <div class="header-text iphone-classic">iPhone Classic</div>\r\n      </div>\r\n      <div class="sub-header">\r\n        <div class="header-text iphone3">iPhone 3G and 3GS</div>\r\n      </div>\r\n      <div class="sub-header">\r\n        <div class="header-text iphone4">iPhone 4 and 4S</div>\r\n      </div>\r\n      <div class="sub-header">\r\n        <div class="header-text ipod-touch3">iPod Touch 3rd Generation</div>\r\n      </div>\r\n      <div class="sub-header">\r\n        <div class="header-text ipod-touch4">iPod Touch 4th Generation</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),define("../../common/views/device-exchange/device-list",["jquery","underscore","backbone","text!templates/device-exchange/device-list.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){this.template=t.template(r)},events:{"click .iphone-classic":"getiPhoneClassic"},render:function(e){return this.$el.html(this.template()),this.el},getiPhoneClassic:function(){},getTitle:function(){return"Device XChange"}});return i}),define("text!templates/device-exchange/landing.html",[],function(){return'<div id="xchange-landing">\r\n  <div class="background-area">\r\n    <!--<div class="xchange">-->\r\n      <!--<img src="../images/mobile/exchange/xchange_m.png">-->\r\n    <!--</div>-->\r\n\r\n    <p class="fx-verbiage">\r\n      Free to post, Free to use.\r\n    </p>\r\n\r\n    <p class="fx-verbiage">\r\n      With so many devices neglected, here is a place to share with others devices that donât have an owner.\r\n      We thought about putting a cap on how much you can charge for your old device,\r\n      but we trust that people we get behind our cause and allow your unused device go to a home with owner desperately wanting one, willing to give it the attention it deserves.\r\n    </p>\r\n\r\n    <p class="fx-verbiage">\r\n      Please give or sell your device at a reasonable price to someone that will use and love your device\r\n    </p>\r\n\r\n    <p class="fx-verbiage">\r\n      Designed to protect personal information; anyone under 18, please have your guardian\r\n    </p>\r\n\r\n\r\n    <div class="submit">\r\n      <div id="search-button" class="fx-button">\r\n        <span>Device Search</span>\r\n      </div>\r\n    </div>\r\n    <div class="submit">\r\n      <div id="create-button" class="fx-button">\r\n        <span>Create Account</span>\r\n      </div>\r\n    </div>\r\n    <div class="submit">\r\n      <div id="add-button" class="fx-button">\r\n        <span>Add Device</span>\r\n      </div>\r\n    </div>\r\n    <div class="contact-details">\r\n      <div class="info-details">\r\n        <span class="fx-text"><%=email%></span>\r\n        <span class="fx-text"><%=firstName%> <%=lastName%></span>\r\n        <span class="fx-text"><%=address1%></span>\r\n        <span class="fx-text"><%=city%> <%=region%> </span>\r\n        <span class="fx-text"><%=country%></span>\r\n        <span class="fx-text"><%=postal%></span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),define("../../common/views/device-exchange/landing",["jquery","underscore","backbone","text!templates/device-exchange/landing.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(e){this.name=e,this.template=t.template(r)},render:function(){var e=app.userInfoList.where({type:app.userInfoList.model.REGISTRATION})[0];return e==null?(this.$el.html(this.template()),this.$("#add").hide()):(this.$el.html(this.template(e.toJSON())),this.$("#create").hide()),this.el},getTitle:function(){return"Device XChange"},events:{"click .submit #search-button":"search","click .submit #create-button":"createAccount","click .submit #add-button":"add"},search:function(e){e.preventDefault(),app.navigate("searchDevices",!0)},createAccount:function(e){e.preventDefault(),app.navigate("login/deviceExchange",!0)},add:function(e){e.preventDefault(),app.navigate("addDevice",!0)}});return i}),define("text!templates/device-exchange/add.html",[],function(){return'<div id="add-device">\r\n  <div class="background-area">\r\n    <form>\r\n      <div class="form-area">\r\n        <label class="fx-label">Device Type:</label>\r\n        <select class="select" name="deviceType" id="device-type">\r\n          <option value=""></option>\r\n          <option value="iphone3g">iPhone 3G</option>\r\n          <option value="iphone3gs">iPhone 3GS</option>\r\n          <option value="iphone4">iPhone 4</option>\r\n          <option value="iphone4s">iPhone 4S</option>\r\n          <option value="ipod3">iPod 3rd Generation</option>\r\n          <option value="ipod4">iPod 4th Generation</option>\r\n        </select>\r\n\r\n        <label class="fx-label">Price:</label>\r\n        <input type="text" name="price"/>\r\n        <label class="fx-label">Description:</label>\r\n        <textarea name="description"></textarea>\r\n      </div>\r\n    </form>\r\n    <div class="submit">\r\n      <div id="add-device-button" class="fx-button">\r\n        <span>Add Device</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),define("../../common/views/device-exchange/add",["jquery","underscore","backbone","modelBinder","text!templates/device-exchange/add.html"],function(e,t,n,r,i){var s=Backbone.View.extend({initialize:function(){this.binder=new r,t.bindAll(this,"addSuccessCallback","addErrorCallback"),this.template=t.template(i)},render:function(){return this.$el.html(this.template()),this.binder.bind(this.model,this.el),this.el},getTitle:function(){return"Add Device"},events:{"click .submit #add-device-button":"add"},add:function(e){e.preventDefault();if(app.utils.isAjaxLoading(e.currentTarget))return;if(app.isAuthUser()===!1){app.showMessage("You must be logged in to add a device");return}this.model.set("credentialsId",app.credentialsModel.get("id")),Backbone.Validation.bind(this,{valid:app.utils.valid,invalid:app.utils.invalid,forceUpdate:!0}),this.model.validate();var t=this.model.isValid();t===!0&&(app.utils.setAjaxLoading(e.currentTarget),this.model.save(this.model,{success:this.addSuccessCallback,error:this.addErrorCallback,urlRoot:this.model.urlRoot+"add/"}))},addSuccessCallback:function(t,n,r){app.utils.unsetAjaxLoading(e("#add-device-button")),app.navigate("deviceExchange",!0),app.showMessage("Your device has been listed successfully.")},addErrorCallback:function(t,n,r){app.utils.unsetAjaxLoading(e("#add-device-button")),app.showError("Sorry, add device did not succeed at this time.")}});return s}),define("text!templates/device-exchange/search.html",[],function(){return'<div id="search-device">\r\n  <div class="background-area">\r\n    <form>\r\n      <div class="form-area">\r\n        <label class="fx-label">Enter keywords or name</label>\r\n        <input id="criteria" type="text" name="criteria"/>\r\n\r\n        <label class="fx-label">Device Type:</label>\r\n        <select class="select" name="deviceType" id="device-type">\r\n          <option value="all">All Devices</option>\r\n          <option value="iphone3g">iPhone 3G</option>\r\n          <option value="iphone3gs">iPhone 3GS</option>\r\n          <option value="iphone4">iPhone 4</option>\r\n          <option value="iphone4s">iPhone 4S</option>\r\n          <option value="ipod3">iPod 3rd Generation</option>\r\n          <option value="ipod4">iPod 4th Generation</option>\r\n        </select>\r\n\r\n      </div>\r\n    </form>\r\n    <div class="submit">\r\n      <div id="search-button" class="fx-button">\r\n        <span>Search For Devices</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),define("../../common/views/device-exchange/search",["jquery","underscore","backbone","text!templates/device-exchange/search.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){t.bindAll(this,"searchSuccessCallback","searchErrorCallback"),this.template=t.template(r)},render:function(){return this.$el.html(this.template()),this.el},getTitle:function(){return"Device Search"},events:{"click .submit #search-button":"search"},search:function(e){e.preventDefault();if(app.utils.isAjaxLoading(e.currentTarget))return;app.deviceList.criteria=this.$("#criteria").val(),app.deviceList.type=this.$("#device-type").val(),app.utils.setAjaxLoading(e.currentTarget),app.deviceList.fetch({success:this.searchSuccessCallback,error:this.searchErrorCallback})},searchSuccessCallback:function(t,n,r){app.utils.unsetAjaxLoading(e("#search-button")),app.deviceList=t,app.navigate("searchDeviceResults",!0)},searchErrorCallback:function(t,n,r){app.utils.unsetAjaxLoading(e("#search-button")),app.showError("Sorry, search for devices was not successful at this time.")}});return i}),define("text!templates/device-exchange/search-results-item.html",[],function(){return'<div class="sub-header">\r\n  <div class="header-text"><%=deviceName%></div>\r\n  <div class="contact-seller">Contact Seller</div>\r\n  <div class="remove">\r\n    <div class="remove-item" style="display:none"><span>X</span> Remove Your Device</div>\r\n  </div>\r\n\r\n</div>\r\n<div class="fx-section">\r\n  <div><!--<img src="../images/device/<%=thumbnail%>.png">--></div>\r\n  <div class="description">\r\n    <div>Device price: $<%=price%></div>\r\n    <div>\r\n      <span><%=description%></span>\r\n    </div>\r\n  </div>\r\n</div>'}),define("text!templates/device-exchange/contact-seller.html",[],function(){return'<div id="contact-seller-section">\r\n  <div class="fx-section">\r\n    <div class="description">\r\n      <form class="form-area">\r\n        <div>Please enter your email address in which the seller will respond to directly:</div>\r\n        <div><input type="text" name="email"></div>\r\n        <div>\r\n          Please enter in a message to be sent to the seller for this device\r\n        </div>\r\n        <div><textarea name="deviceMessage"></textarea></div>\r\n      </form>\r\n      <div id="submit-button" class="fx-button">\r\n        <span>Send Email To Seller</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),define("../../common/views/device-exchange/../../views/device-exchange/search-results-item",["jquery","underscore","backbone","modelBinder","text!templates/device-exchange/search-results-item.html","text!templates/device-exchange/contact-seller.html"],function(e,t,n,r,i,s){var o=Backbone.View.extend({tagName:"div",className:"device-item fx-label",initialize:function(){t.bindAll(this,"emailSuccessCallback","emailErrorCallback","removeSuccessCallback","removeErrorCallback"),this.binder=new r,this.model.validation.email={required:!0,pattern:"email"},this.template=t.template(i),this.sellerTemplate=t.template(s),this.isExpanded=!1},events:{"click .contact-seller":"contactSeller","click .remove-item":"removeItem","click #submit-button":"sendEmail"},contactSeller:function(e){this.isExpanded===!0?(this.$("#contact-seller-section").remove(),this.isExpanded=!1):(this.$el.append(this.sellerTemplate),this.binder.bind(this.model,this.el),Backbone.Validation.bind(this,{valid:app.utils.valid,invalid:app.utils.invalid,forceUpdate:!0}),this.isExpanded=!0,app.isAuthUser()===!0&&this.model.set("email",app.credentialsModel.get("email")))},removeItem:function(e){confirm("Are you sure you want to remove this item '"+this.model.get("deviceName")+"' ?")&&this.model.destroy({success:this.removeSuccessCallback,error:this.removeErrorCallback})},removeSuccessCallback:function(e,t,n){app.showMessage("You device has been removed from the postings, thank you"),this.$el.remove()},removeErrorCallback:function(e,t,n){app.showError("Sorry, unable to remove your device at this time.")},sendEmail:function(e){this.model.validate();var t=this.model.isValid();t===!0&&(app.utils.setAjaxLoading(e.currentTarget),this.model.save(this.model,{success:this.emailSuccessCallback,error:this.emailErrorCallback,contact:!0,urlRoot:"rest/device/contact/item/"}))},emailSuccessCallback:function(t,n,r){app.utils.unsetAjaxLoading(e("#submit-button")),app.showMessage("Thank you, this seller has been contacted.")},emailErrorCallback:function(t,n,r){app.utils.unsetAjaxLoading(e("#submit-button")),app.showError("Sorry, we were unable to contact the seller at this time.")},render:function(){return this.model.set("deviceName",this.getNameForType(this.model.get("deviceType"))),this.$el.html(this.template(this.model.toJSON())),app.isAuthUser()===!0&&app.credentialsModel.get("id")===this.model.get("credentialsId")&&(e(".remove-item",this.$el).css("display","inline"),e(".contact-seller",this.$el).hide()),this},getNameForType:function(e){if(e==="iphone3g")return"iPhone 3G";if(e==="iphone3gs")return"iPhone 3GS";if(e==="iphone4")return"iPhone 4";if(e==="iphone4s")return"iPhone 4s";if(e==="ipod3")return"iPod 3rd Gen";if(e==="ipod4")return"iPod 4th Gen"}});return o}),define("text!templates/device-exchange/search-results.html",[],function(){return'<div id="search-device-results">\r\n  <div class="background-area">\r\n    <div class="image">\r\n      <img class="thumbnail" src="../images/device/<%=imageName%>.png">\r\n    </div>\r\n    <div id="device-list">\r\n\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n'}),define("../../common/views/device-exchange/search-results",["jquery","underscore","backbone","../../views/device-exchange/search-results-item","text!templates/device-exchange/search-results.html"],function(e,t,n,r,i){var s=Backbone.View.extend({initialize:function(){this.template=t.template(i)},render:function(){var e=this.getImageForType(app.deviceList.type);this.$el.html(this.template({imageName:e}));for(var t=0;t<app.deviceList.models.length;t++)this.renderDeviceItem(app.deviceList.models[t],t);return this.el},renderDeviceItem:function(e,t){var n=new r({model:e});this.$("#device-list").append(n.render().el)},getTitle:function(){return"Device Search Results"},events:{},getImageForType:function(e){return e==="iphone3g"?"iphone3GS":e==="iphone3gs"?"iphone3GS":e==="iphone4"?"iphone4GS":e==="iphone4s"?"iphone4GS":e==="ipod3"?"ipod3":e==="ipod4"?"ipod4":"all"}});return s}),define("../../common/views/home/../../models/user-info/credentials-model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({urlRoot:"rest/login/",defaults:{email:"",password:"",token:""},labels:{email:"Email",password:"Password"},initialize:function(){},updateHeader:function(){app.setLoginUserArea(this.get("email"))},sync:function(e,t,r){t.get("token")!=null&&t.get("token")!=""?r.url="rest/login/un/"+t.get("email")+"/token/"+t.get("token"):r.url="rest/login/un/"+t.get("email")+"/pw/"+t.get("password"),n.sync(e,t,r)},isAuthed:function(){return this.get("email")==null||this.get("email")==""?!1:!0}});return r}),define("text!templates/home/login.html",[],function(){return'<div id="login">\r\n  <div class="background-area">\r\n    <div class="sub-header">\r\n      <div class="header-text">Returning Customer</div>\r\n    </div>\r\n    <form>\r\n      <div class="form-area">\r\n        <label class="fx-label">Enter Email:</label>\r\n        <input class="email" type="text" name="email"/>\r\n        <label class="fx-label">Enter Password:</label>\r\n        <input class="password" type="password" name="password"/>\r\n      </div>\r\n    </form>\r\n    <div class="submit">\r\n      <div id="login-button" class="fx-button">\r\n        <span>Login</span>\r\n      </div>\r\n    </div>\r\n    <div class="sub-header">\r\n      <div class="header-text">New Customer</div>\r\n    </div>\r\n    <form>\r\n      <div class="form-area">\r\n        <label class="fx-label">Enter Email:</label>\r\n        <input class="email_new" type="text" type="text" name="email_new"/>\r\n      </div>\r\n    </form>\r\n    <div class="submit">\r\n      <div id="register-button" class="fx-button">\r\n        <span>Register</span>\r\n      </div>\r\n    </div>\r\n    <div class="secure-images">\r\n      <img class="privacy" src="../images/secure/privsafe-4925-lg.gif" alt="Privacy Safe">\r\n      <img class="verified" src="../images/secure/newbiz-4925-lg.gif" alt="Business Verified">\r\n    </div>\r\n\r\n    <div class="privacy-link">\r\n      <a class="pdf-link" href="./#policy">Privacy Policy</a>\r\n    </div>\r\n\r\n    <div id="guest-area">\r\n      <div style="text-align:center"><label class="fx-label">or</label></div>\r\n      <div class="submit">\r\n        <div id="guest-button" class="fx-button">\r\n          <span>Continue As Guest</span>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>'}),define("../../common/views/home/login",["jquery","underscore","backbone","../../models/user-info/credentials-model","text!templates/home/login.html"],function(e,t,n,r,i){var s=Backbone.View.extend({initialize:function(e){t.bindAll(this,"loginSuccessCallback","loginErrorCallback"),this.template=t.template(i),this.model=new r,this.nav=e,Backbone.Validation.bind(this,{valid:app.utils.valid,invalid:app.utils.invalid,forceUpdate:!0})},render:function(e){return this.$el.html(this.template()),this.el},postRender:function(){},events:{"click #login-button":"login","click #register-button":"register","click #guest-button":"guest"},getValidation:function(){var t={password:{required:!0},email:{required:!0,pattern:"email"},email_new:{required:!0,pattern:"email"}};return e.extend({},t)},getTitle:function(){return"Customer Login"},login:function(e){e.preventDefault();if(app.utils.isAjaxLoading(e.currentTarget))return;var t=this.getValidation();delete t.email_new,this.model.validation=t;var n=this.$(".email").val(),r=this.$(".password").val();this.model.set("email",n),this.model.set("password",r),this.model.validate();var i=this.model.isValid();if(i===!1)return;app.utils.setAjaxLoading(e.currentTarget);var s=this.model.fetch({success:this.loginSuccessCallback,error:this.loginErrorCallback})},loginSuccessCallback:function(t,n,r){app.utils.unsetAjaxLoading(e("#login-button"));var i="reg_checkout",s={};s=t.attributes,app.session.doSync(s),app.setLoginUserArea(t.get("email")),this.nav!=null&&(i=this.nav),app.navigate(i,!0)},loginErrorCallback:function(t,n,r){app.utils.unsetAjaxLoading(e("#login-button")),app.showMessage("user name password incorrect")},register:function(t){t.preventDefault();if(app.utils.isAjaxLoading(t.currentTarget))return;var n=this.$(".email_new").val();this.model.set("email_new",n);var r=this.getValidation();delete r.email,delete r.password,this.model.validation=r,this.model.validate();var i=this.model.isValid();if(i===!1)return;var s=this;app.utils.setAjaxLoading(t.currentTarget),e.ajax({type:"GET",url:"rest/login/avail/"+n}).done(function(t,r){app.utils.unsetAjaxLoading(e("#register-button")),t=="AVAIL"?s.nav!=null&&s.nav!=""?app.navigate("registration1/"+n+"/"+s.nav,!0):app.navigate("registration1/"+n,!0):t=="NOT_AVAIL"&&app.showError("Sorry, this username already exists in the system.")}).error(function(t,n){app.utils.unsetAjaxLoading(e("#register-button")),app.showError("Sorry, the system encountered an error, please try again later.")})},guest:function(e){e.preventDefault(),app.navigate("shipping",!0)}});return s}),function(e){typeof exports=="object"?module.exports=e(require("backbone"),require("underscore")):typeof define=="function"&&define.amd&&define("validation",["backbone","underscore"],e)}(function(e,t){return e.Validation=function(e){var t={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},n=function(){var n=function(t){return e.reduce(e.keys(t.validation||{}),function(e,t){return e[t]=void 0,e},{})},i=function(t,n){var r=t.validation?t.validation[n]||{}:{};if(e.isFunction(r)||e.isString(r))r={fn:r};return e.isArray(r)||(r=[r]),e.reduce(r,function(t,n){return e.each(e.without(e.keys(n),"msg"),function(e){t.push({fn:u[e],val:n[e],msg:n.msg})}),t},[])},s=function(t,n,r,s){return e.reduce(i(t,n),function(e,i){var o=i.fn.call(u,r,n,i.val,t,s);return o===!1||e===!1?!1:o&&!e?i.msg||o:e},"")},o=function(t,n){var r,i,o={},u=!0,a=e.clone(n);for(i in n)r=s(t,i,n[i],a),r&&(o[i]=r,u=!1);return{invalidAttrs:o,isValid:u}},a=function(t,r){return{preValidate:function(t,n){return s(this,t,n,e.extend({},this.attributes))},isValid:function(t){if(e.isString(t))return!s(this,t,this.get(t),e.extend({},this.attributes));if(e.isArray(t)){for(var n=0;n<t.length;n++)if(s(this,t[n],this.get(t[n]),e.extend({},this.attributes)))return!1;return!0}return t===!0&&this.validate(),this.validation?this._isValid:!0},validate:function(i,s){var u=this,a=!i,f=e.extend({},r,s),l=e.extend(n(u),u.attributes,i),c=i||l,h=o(u,l);u._isValid=h.isValid;for(var p in l){var d=h.invalidAttrs.hasOwnProperty(p),v=c.hasOwnProperty(p);d&&(v||a)&&f.invalid(t,p,h.invalidAttrs[p],f.selector),d||f.valid(t,p,f.selector)}e.defer(function(){u.trigger("validated",u._isValid,u,h.invalidAttrs),u.trigger("validated:"+(u._isValid?"valid":"invalid"),u,h.invalidAttrs)});if(!f.forceUpdate&&e.intersection(e.keys(h.invalidAttrs),e.keys(c)).length>0)return h.invalidAttrs}}},f=function(t,n,r){e.extend(n,a(t,r))},l=function(e){delete e.validate,delete e.preValidate,delete e.isValid},c=function(e){f(this.view,e,this.options)},h=function(e){l(e)};return{version:"0.6.2",configure:function(n){e.extend(t,n)},bind:function(n,i){var s=n.model,o=n.collection;i=e.extend({},t,r,i);if(typeof s=="undefined"&&typeof o=="undefined")throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";s&&f(n,s,i),o&&(o.each(function(e){f(n,e,i)}),o.bind("add",c,{view:n,options:i}),o.bind("remove",h))},unbind:function(e){var t=e.model,n=e.collection;t&&l(e.model),n&&(n.each(function(e){l(e)}),n.unbind("add",c),n.unbind("remove",h))},mixin:a(null,t)}}(),r=n.callbacks={valid:function(e,t,n){e.$("["+n+"~="+t+"]").removeClass("invalid").removeAttr("data-error")},invalid:function(e,t,n,r){e.$("["+r+"~="+t+"]").addClass("invalid").attr("data-error",n)}},i=n.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},s=n.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",pattern:"{0} must be a valid {1}"},o=n.labelFormatters={none:function(e){return e},sentenceCase:function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return t===0?e.toUpperCase():" "+e.toLowerCase()}).replace("_"," ")},label:function(e,t){return t.labels[e]||o.sentenceCase(e,t)}},u=n.validators=function(){var n=String.prototype.trim?function(e){return e===null?"":String.prototype.trim.call(e)}:function(e){var t=/^\s+/,n=/\s+$/;return e===null?"":e.toString().replace(t,"").replace(n,"")},r=function(e,n){return o[t.labelFormatter](e,n)},u=function(){var e=Array.prototype.slice.call(arguments),t=e.shift();return t.replace(/\{(\d+)\}/g,function(t,n){return typeof e[n]!="undefined"?e[n]:t})},a=function(t){return e.isNumber(t)||e.isString(t)&&t.match(i.number)},f=function(t){return!(e.isNull(t)||e.isUndefined(t)||e.isString(t)&&n(t)==="")};return{fn:function(t,n,r,i,s){return e.isString(r)&&(r=i[r]),r.call(i,t,n,s)},required:function(t,n,i,o,a){var l=e.isFunction(i)?i.call(o,t,n,a):i;if(!l&&!f(t))return!1;if(l&&!f(t))return u(s.required,r(n,o))},acceptance:function(t,n,i,o){if(t!=="true"&&(!e.isBoolean(t)||t===!1))return u(s.acceptance,r(n,o))},min:function(e,t,n,i){if(!a(e)||e<n)return u(s.min,r(t,i),n)},max:function(e,t,n,i){if(!a(e)||e>n)return u(s.max,r(t,i),n)},range:function(e,t,n,i){if(!a(e)||e<n[0]||e>n[1])return u(s.range,r(t,i),n[0],n[1])},length:function(e,t,i,o){if(!f(e)||n(e).length!==i)return u(s.length,r(t,o),i)},minLength:function(e,t,i,o){if(!f(e)||n(e).length<i)return u(s.minLength,r(t,o),i)},maxLength:function(e,t,i,o){if(!f(e)||n(e).length>i)return u(s.maxLength,r(t,o),i)},rangeLength:function(e,t,i,o){if(!f(e)||n(e).length<i[0]||n(e).length>i[1])return u(s.rangeLength,r(t,o),i[0],i[1])},oneOf:function(t,n,i,o){if(!e.include(i,t))return u(s.oneOf,r(n,o),i.join(", "))},equalTo:function(e,t,n,i,o){if(e!==o[n])return u(s.equalTo,r(t,i),r(n,i))},pattern:function(e,t,n,o){if(!f(e)||!e.toString().match(i[n]||n))return u(s.pattern,r(t,o),n)}}}();return n}(t),e.Validation}),define("views/../../../common/models/user-info/user-info-model",["jquery","underscore","backbone","validation"],function(e,t,n,r){t.extend(n.Validation.validators,{USZipcode:function(e,t,n,r){if(n===!1)return;if(e==null){"Zip is required";return}if(app.utils.isZipValid(e)===!1)return"Zip is not a valid US zip code"}});var i=n.Model.extend({urlRoot:"rest/user_info/",defaults:{id:null,type:"",sameAs:!1,firstName:"",lastName:"",email:"",address1:"",address2:"",password:"",password2:"",city:"",postal:"",region:"",country:"United States of America",mobileNumber:""},validation:{firstName:{required:!0},lastName:{required:!0},email:{required:!0,pattern:"email"},address1:{required:!0},city:{required:!0},password:{required:!0},password2:{equalTo:"password",required:!0},postal:{required:!0,length:5,pattern:"digits",USZipcode:!0},region:{required:!0},mobileNumber:{required:!0}},labels:{firstName:"First Name",lastName:"Last Name",address1:"Address",postal:"Zip Code",region:"State",country:"",mobileNumber:"Mobile Number",password:"Password",password2:"Repeat Password"},sync:function(e,t,r){n.sync(e,t,r)}},{REGISTRATION:"R",SHIPPING:"S",BILLING:"B"});return i}),define("text!templates/user/address.html",[],function(){return'<div id="user-information">\r\n  <div class="background-area">\r\n    <div class="sub-header">\r\n      <div class="header-text">Please enter your <span class="type"></span> information</div>\r\n    </div>\r\n    <div class="address-same-as dark-background">\r\n      <div><input type="checkbox" id="same-as" name="sameAs"></div>\r\n      <div class="fx-label same-as-text"></div>\r\n    </div>\r\n    <form>\r\n      <div class="form-area">\r\n        <label class="fx-label email"><span class="asterisk">*</span>Email:</label>\r\n        <input type="text" class="email" name="email"/>\r\n        <label class="fx-label"><span class="asterisk">*</span>First Name:</label>\r\n        <input type="text" name="firstName"/>\r\n        <label class="fx-label"><span class="asterisk">*</span>Last Name:</label>\r\n        <input type="text" name="lastName"/>\r\n        <label class="fx-label"><span class="asterisk">*</span>Street Address:</label>\r\n        <input type="text" name="address1"/>\r\n        <label class="fx-label">Street Address2:</label>\r\n        <input type="text" name="address2"/>\r\n        <label class="fx-label"><span class="asterisk">*</span>City:</label>\r\n        <input type="text" name="city"/>\r\n        <label class="fx-label"><span class="asterisk">*</span>Zip Code:</label>\r\n        <input type="text" name="postal"/>\r\n        <label for="region" class="select fx-label"><span class="asterisk">*</span>State:</label>\r\n\r\n        <select name="region" id="region">\r\n          <option value="" selected="selected">Select a State</option>\r\n          <option value="AL">Alabama</option>\r\n          <option value="AK">Alaska</option>\r\n          <option value="AZ">Arizona</option>\r\n          <option value="AR">Arkansas</option>\r\n          <option value="CA">California</option>\r\n          <option value="CO">Colorado</option>\r\n          <option value="CT">Connecticut</option>\r\n          <option value="DE">Delaware</option>\r\n          <option value="DC">District Of Columbia</option>\r\n          <option value="FL">Florida</option>\r\n          <option value="GA">Georgia</option>\r\n          <option value="HI">Hawaii</option>\r\n          <option value="ID">Idaho</option>\r\n          <option value="IL">Illinois</option>\r\n          <option value="IN">Indiana</option>\r\n          <option value="IA">Iowa</option>\r\n          <option value="KS">Kansas</option>\r\n          <option value="KY">Kentucky</option>\r\n          <option value="LA">Louisiana</option>\r\n          <option value="ME">Maine</option>\r\n          <option value="MD">Maryland</option>\r\n          <option value="MA">Massachusetts</option>\r\n          <option value="MI">Michigan</option>\r\n          <option value="MN">Minnesota</option>\r\n          <option value="MS">Mississippi</option>\r\n          <option value="MO">Missouri</option>\r\n          <option value="MT">Montana</option>\r\n          <option value="NE">Nebraska</option>\r\n          <option value="NV">Nevada</option>\r\n          <option value="NH">New Hampshire</option>\r\n          <option value="NJ">New Jersey</option>\r\n          <option value="NM">New Mexico</option>\r\n          <option value="NY">New York</option>\r\n          <option value="NC">North Carolina</option>\r\n          <option value="ND">North Dakota</option>\r\n          <option value="OH">Ohio</option>\r\n          <option value="OK">Oklahoma</option>\r\n          <option value="OR">Oregon</option>\r\n          <option value="PA">Pennsylvania</option>\r\n          <option value="RI">Rhode Island</option>\r\n          <option value="SC">South Carolina</option>\r\n          <option value="SD">South Dakota</option>\r\n          <option value="TN">Tennessee</option>\r\n          <option value="TX">Texas</option>\r\n          <option value="UT">Utah</option>\r\n          <option value="VT">Vermont</option>\r\n          <option value="VA">Virginia</option>\r\n          <option value="WA">Washington</option>\r\n          <option value="WV">West Virginia</option>\r\n          <option value="WI">Wisconsin</option>\r\n          <option value="WY">Wyoming</option>\r\n        </select>\r\n\r\n        <label class="fx-label"><span class="asterisk">*</span>Mobile Number:</label>\r\n        <input type="text" name="mobileNumber"/>\r\n      </div>\r\n    </form>\r\n    <div class="submit-image next">\r\n      <div id="next-step-button" class="fx-button">\r\n        <span>Proceed To Next Step</span>\r\n      </div>\r\n\r\n      <!--<img src="./images/billing_info/next_step_button_normal.png">-->\r\n    </div>\r\n  </div>\r\n</div>'}),define("text!templates/user/registration1.html",[],function(){return'<div id="registration-1">\r\n  <div class="background-area">\r\n    <div class="sub-header">\r\n      <div class="header-text">Personal Details</div>\r\n    </div>\r\n    <form>\r\n      <div class="form-area">\r\n        <label class="fx-label"><span class="asterisk">*</span>First Name:</label>\r\n        <input type="text" name="firstName"/>\r\n        <label class="fx-label"><span class="asterisk">*</span>Last Name:</label>\r\n        <input type="text" name="lastName"/>\r\n        <label class="fx-label"><span class="asterisk">*</span>Password:</label>\r\n        <input type="password" name="password"/>\r\n        <label class="fx-label"><span class="asterisk">*</span>Repeat Password:</label>\r\n        <input type="password" name="password2"/>\r\n      </div>\r\n    </form>\r\n    <div class="submit">\r\n      <div id="next-button" class="fx-button">\r\n        <span>Proceed To Next Step</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),define("text!templates/user/registration2.html",[],function(){return'<div id="registration-2">\r\n  <div class="background-area">\r\n    <div class="sub-header">\r\n      <div class="header-text">Address & Contact</div>\r\n    </div>\r\n    <form>\r\n      <div class="form-area">\r\n        <label class="fx-label"><span class="asterisk">*</span>Street Address:</label>\r\n        <input type="text" name="address1"/>\r\n        <label class="fx-label">Street Address 2:</label>\r\n        <input type="text" name="address2"/>\r\n        <label class="fx-label"><span class="asterisk">*</span>City:</label>\r\n        <input type="text" name="city"/>\r\n        <label class="fx-label" for="region" class="select"><span class="asterisk">*</span>State:</label>\r\n        <select name="region" id="region" name="region">\r\n          <option></option>\r\n          <option>Alabama</option>\r\n          <option>Alaska</option>\r\n          <option>Arizona</option>\r\n          <option>Arkansas</option>\r\n          <option>California</option>\r\n          <option>Colorado</option>\r\n          <option>Connecticut</option>\r\n          <option>Delaware</option>\r\n          <option>District of Columbia</option>\r\n          <option>Florida</option>\r\n          <option>Georgia</option>\r\n          <option>Hawaii</option>\r\n          <option>Idaho</option>\r\n          <option>Illinois</option>\r\n          <option>Indiana</option>\r\n          <option>Iowa</option>\r\n          <option>Kansas</option>\r\n          <option>Kentucky</option>\r\n          <option>Louisiana</option>\r\n          <option>Maine</option>\r\n          <option>Maryland</option>\r\n          <option>Massachusetts</option>\r\n          <option>Michigan</option>\r\n          <option>Minnesota</option>\r\n          <option>Mississippi</option>\r\n          <option>Missouri</option>\r\n          <option>Montana</option>\r\n          <option>Nebraska</option>\r\n          <option>Nevada</option>\r\n          <option>New Hampshire</option>\r\n          <option>New Jersey</option>\r\n          <option>New Mexico</option>\r\n          <option>New York</option>\r\n          <option>North Carolina</option>\r\n          <option>North Dakota</option>\r\n          <option>Ohio</option>\r\n          <option>Oklahoma</option>\r\n          <option>Oregon</option>\r\n          <option>Pennsylvania</option>\r\n          <option>Rhode Island</option>\r\n          <option>South Carolina</option>\r\n          <option>South Dakota</option>\r\n          <option>Tennessee</option>\r\n          <option>Texas</option>\r\n          <option>Utah</option>\r\n          <option>Vermont</option>\r\n          <option>Virginia</option>\r\n          <option>Washington</option>\r\n          <option>West Virginia</option>\r\n          <option>Wisconsin</option>\r\n          <option>Wyoming</option>\r\n        </select>\r\n        <label class="fx-label"><span class="asterisk">*</span>Zip Code:</label>\r\n        <input type="text" name="postal"/>\r\n        <label class="fx-label"><span class="asterisk">*</span>Mobile Number:</label>\r\n        <input type="text" name="mobileNumber"/>\r\n      </div>\r\n    </form>\r\n    <div class="submit">\r\n      <div id="next-button" class="fx-button">\r\n        <span>Proceed To Next Step</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),define("views/user/user-info",["jquery","underscore","backbone","modelBinder","../../../../common/models/user-info/user-info-model","text!templates/user/address.html","text!templates/user/registration1.html","text!templates/user/registration2.html"],function(e,t,n,r,i,s,o,u){var a=Backbone.View.extend({initialize:function(e,n,a,f){t.bindAll(this,"updateSuccessCallback","updateErrorCallback"),this.type=e,this.page=n,this.nav=f,this.binder=new r,this.model=app.userInfoList.where({type:this.type})[0],this.model==null&&(this.model=new i({type:this.type}),this.model.set("id",app.userInfoList.length+1)),a!=null&&this.model.set("email",a);var l=null;e==app.userInfoList.model.REGISTRATION?n=="reg1"?(l=o,this.model.validation=this.getRegistration1Validation()):n=="reg2"&&(l=u,this.model.validation=this.getRegistration2Validation()):(l=s,this.model.validation=this.getAddressValidation()),this.template=t.template(l)},getAddressValidation:function(){var e={email:{required:!0,pattern:"email"},firstName:{required:!0},lastName:{required:!0},address1:{required:!0},city:{required:!0},postal:{required:!0,length:5,pattern:"digits",USZipcode:!0},region:{required:!0},mobileNumber:{required:!0}};return e},getRegistration1Validation:function(){var e={firstName:{required:!0},lastName:{required:!0},password:{required:!0},password2:{equalTo:"password",required:!0}};return e},getRegistration2Validation:function(){var e={address1:{required:!0},postal:{required:!0,length:5,pattern:"digits",USZipcode:!0},city:{required:!0},region:{required:!0},mobileNumber:{required:!0}};return e},render:function(e){return this.$el.html(this.template()),this.$(".form-area .email").hide(),this.type==app.userInfoList.model.SHIPPING?(this.$(".same-as-text").html("My shipping address is the same address I used during my registration."),this.$("#same-as").addClass(app.userInfoList.model.REGISTRATION),this.$(".header-text .type").html("shipping"),app.isAuthUser()===!1&&(this.$(".address-same-as").hide(),this.$(".form-area .email").show())):this.type==app.userInfoList.model.BILLING&&(this.$(".same-as-text").html("My billing address is the same as my shipping address."),this.$("#same-as").addClass(app.userInfoList.model.SHIPPING),this.$(".header-text .type").html("billing")),this.$("#user-information").addClass(this.type),this.binder.bind(this.model,this.el),this.toggleInputs(this.model.get("sameAs")),this.el},events:{"click #registration-1 .submit #next-button":"doRegistration2","click #registration-2 .submit #next-button":"doFinishRegistration","click .next #next-step-button":"nextStep","change input[name=sameAs]":"priorInfoPopulate"},priorInfoPopulate:function(t){var n=null,r=this.$("#same-as").attr("class");this.$("#same-as").attr("checked")!="checked"?(this.model.clear(),this.model.set("type",this.type)):(n=app.userInfoList.where({type:r})[0],e.extend(this.model.attributes,n.attributes),this.model.set("sameAs",!0),this.model.set("type",this.type),this.model.set("id",app.userInfoList.length+1),this.binder.bind(this.model,this.el)),this.toggleInputs(this.model.get("sameAs"))},toggleInputs:function(t){var n=this.$(":input");this.$(":input").each(function(n,r){if(e(r).attr("id")=="same-as")return;t==1?e(r).attr("disabled","disabled"):e(r).removeAttr("disabled")})},doRegistration2:function(e){Backbone.Validation.bind(this,{valid:app.utils.valid,invalid:app.utils.invalid,forceUpdate:!0}),this.model.validate();var t=this.model.isValid();t===!0&&(app.userInfoList.add(this.model),this.nav==null?app.navigate("registration2",!0):app.navigate("registration2/"+this.nav,!0))},doFinishRegistration:function(e){if(app.utils.isAjaxLoading(e.currentTarget))return;Backbone.Validation.bind(this,{valid:app.utils.valid,invalid:app.utils.invalid,forceUpdate:!0}),this.model.validate();var t=this.model.isValid();t===!0&&(app.userInfoList.add(this.model),app.utils.setAjaxLoading(e.currentTarget),this.model.sync("create",this.model,{success:this.createRegSuccessCallback,error:this.createRegErrorCallback,wait:!0,url:"rest/user_info/"}))},createRegSuccessCallback:function(t,n,r){app.utils.unsetAjaxLoading(e("#next-button")),app.userInfoList.reset(),app.session.doSync(t);var i="registrationSuccess";this.nav!=null&&(i=i+"/"+this.nav),app.navigate(i,!0),r={navigateTo:i}},createRegErrorCallback:function(t,n,r){app.utils.unsetAjaxLoading(e("#next-button")),n.status==409?app.showError("User with email "+t.get("email")+" already exists"):app.showError("could not create new user at this time")},nextStep:function(e){this.model.validation.email.required=this.isEmailRequired(this.type),Backbone.Validation.bind(this,{valid:app.utils.valid,invalid:app.utils.invalid,forceUpdate:!0}),this.model.validate();var t=this.model.isValid();if(t===!1)return;this.type==app.userInfoList.model.SHIPPING?this.model.sync("create",this.model,{success:this.saveShippingSuccessCallback,error:this.saveShippingErrorCallback,wait:!0,url:"rest/user_info/session/"}):this.type==app.userInfoList.model.BILLING&&this.model.sync("create",this.model,{success:this.saveBillingSuccessCallback,error:this.saveBillingErrorCallback,wait:!0,url:"rest/user_info/session/"})},isEmailRequired:function(e){return e===app.userInfoList.model.BILLING?!1:e===app.userInfoList.model.SHIPPING&&app.isAuthUser()===!0?!1:!0},saveShippingSuccessCallback:function(e,t,n){app.userInfoList.add(new i(e)),app.navigate("billing",!0)},saveShippingErrorCallback:function(e,t,n){app.showError("could not save your Shipping info at this time")},saveBillingSuccessCallback:function(e,t,n){app.userInfoList.add(new i(e)),app.navigate("reviewCart",!0)},saveBillingErrorCallback:function(e,t,n){app.showError("could not save your Billing info at this time")},getTitle:function(){if(this.type==app.userInfoList.model.REGISTRATION){if(this.page==="reg1")return"Registration Step 1";if(this.page==="reg2")return"Registration Step 2"}else{if(this.type==app.userInfoList.model.SHIPPING)return"Shipping Information";if(this.type==app.userInfoList.model.BILLING)return"Billing Information"}}});return a}),define("text!templates/user/registration-successful.html",[],function(){return'<div id="registration-success">\r\n  <div class="background-area">\r\n    <p class="fx-verbiage">\r\n      You have been successfully registered into our system. Your login details have been\r\n      sent to the email address you have given during registration.\r\n    </p>\r\n\r\n    <p class="fx-verbiage">\r\n      Please contact us at admin@appfxtoys.com for further questions.\r\n    </p>\r\n    <div class="submit">\r\n      <div id="next-button" class="fx-button">\r\n        <span>Proceed To Next Step</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),define("../../common/views/user/registration-success",["jquery","underscore","backbone","text!templates/user/registration-successful.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(e){this.template=t.template(r),this.nav=e},events:{"click #registration-success .submit #next-button":"nextStep"},render:function(){return this.$el.html(this.template()),this.el},nextStep:function(e){this.nav!=null?app.navigate(this.nav,!0):app.navigate("checkout",!0)},getTitle:function(){return"Registration Successful"}});return i}),define("text!templates/cart/review-cart-item.html",[],function(){return'<div><span class="fx-text"></span></div>\r\n<div>\r\n  <span class="fx-text"><%=itemName%></span>\r\n  <span class="fx-text">Item price: <span class="fx-color">$<%=price%></span></span>\r\n  <span class="fx-text">Qty: <span class="fx-color"><%=quantity%></span></span>\r\n</div>\r\n<div>\r\n  <div><span  style="display:none" class="discount"></span></div>\r\n  <span class="fx-text">Total: <span class="fx-color">$<%=total%></span></span>\r\n</div>\r\n'}),define("../../common/views/cart/../../views/cart/review-cart-item",["jquery","underscore","backbone","text!templates/cart/review-cart-item.html"],function(e,t,n,r){var i=Backbone.View.extend({tagName:"div",className:"cart-item",initialize:function(){this.template=t.template(r)},render:function(){this.$el.html(this.template(this.model.toJSON()));if(this.model.get("discounted")===!0){var t=e(".discount",this.$el),n=app.catalog.getItemById(this.model.get("itemNumber")),r=parseFloat(n.price)*this.model.get("quantity");t.html("$"+app.utils.padDecimal(r)),t.css("display","block")}return this}});return i}),define("text!templates/cart/address.html",[],function(){return'<div class="info-details">\r\n  <span class="fx-text"><%=email%></span>\r\n  <span class="fx-text"><%=firstName%> <%=lastName%></span>\r\n  <span class="fx-text"><%=address1%> <%=address2%></span>\r\n  <span class="fx-text"><%=city%>, <%=region%></span>\r\n  <span class="fx-text"><%=country%></span>\r\n  <span class="fx-text"><%=postal%></span>\r\n</div>'}),define("../../common/views/cart/../../views/cart/address",["jquery","underscore","backbone","text!templates/cart/address.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){this.template=t.template(r)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}});return i}),define("text!templates/cart/review-cart.html",[],function(){return'<div id="review-order">\r\n  <div class="background-area">\r\n    <div class="sub-header">\r\n      <div class="header-text">Review Shipping Information</div>\r\n    </div>\r\n    <div class="shipping">\r\n\r\n      <div class="info-edit-button">\r\n        <div id="edit-shipping-button" class="fx-button">\r\n          <span>Edit Shipping Info</span>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n    <div class="sub-header">\r\n      <div class="header-text">Review Billing Information</div>\r\n    </div>\r\n    <div class="billing">\r\n\r\n      <div class="info-edit-button">\r\n        <div id="edit-billing-button" class="fx-button">\r\n          <span>Edit Billing Info</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="sub-header">\r\n      <div class="header-text">Review Cart</div>\r\n    </div>\r\n    <div id="review-cart-list">\r\n\r\n    </div>\r\n    <div class="fx-section">\r\n      <div class="cost-total">\r\n        <div><span class="fx-color fx-label">TOTAL</span></div>\r\n        <div><span class="fx-label sum"></span></div>\r\n      </div>\r\n      <div class="cost-handling">\r\n        <div><span class="fx-label">+ HANDLING</span></div>\r\n        <div><span class="fx-label sum"></span></div>\r\n      </div>\r\n    </div>\r\n    <div class="fx-section grand-total">\r\n      <div class="grand-total-area">\r\n        <div><span class="fx-color fx-label">GRAND TOTAL</span></div>\r\n        <div><span class="fx-label sum"></span></div>\r\n      </div>\r\n    </div>\r\n    <div class="edit-button fx-section">\r\n      <div id="edit-cart-button" class="fx-button">\r\n        <span>Edit Cart</span>\r\n      </div>\r\n    </div>\r\n\r\n    <form class="form-area">\r\n      <input id="coupon-code" name="couponCode" type="text"/>\r\n    </form>\r\n    <div id="coupon-code-button" class="fx-button">\r\n      <span>Validate Coupon Code</span>\r\n    </div>\r\n    <div class="proceed-button fx-section">\r\n      <div id="continue-button" class="fx-button">\r\n        <span>Continue</span>\r\n      </div>\r\n      <!--<img src="./images/payment_information/continue_button_normal.png">-->\r\n    </div>\r\n  </div>\r\n</div>'}),define("../../common/views/cart/review-cart",["jquery","underscore","backbone","modelBinder","../../views/cart/review-cart-item","../../views/cart/address","text!templates/cart/review-cart.html"],function(e,t,n,r,i,s,o){var u=Backbone.View.extend({initialize:function(){this.binder=new r,this.cartList=app.cartItemList,this.userInfoList=app.userInfoList,this.template=t.template(o);var e=Backbone.Model.extend({validation:{couponCode:{required:!0}},labels:{couponCode:"Coupon Code"}});this.model=new e},render:function(e){this.$el.html(this.template()),this.binder.bind(this.model,this.el);for(var t=0;t<this.cartList.length;t++)this.renderCartItem(this.cartList.at(t),t);var n=this.userInfoList.where({type:this.userInfoList.model.SHIPPING})[0],r=this.userInfoList.where({type:this.userInfoList.model.BILLING})[0];return this.renderUserInfoItem(n),this.renderUserInfoItem(r),this.el},postRender:function(){this.updateTotals()},updateTotals:function(){this.cartList.updateTotals()},events:{"click #edit-cart-button":"editCart","click #edit-shipping-button":"editShipping","click #edit-billing-button":"editBilling","click #coupon-code-button":"validateCoupon","click #continue-button":"doContinue"},validateCoupon:function(t){t.preventDefault();if(app.utils.isAjaxLoading(t.currentTarget))return;Backbone.Validation.bind(this,{valid:app.utils.valid,invalid:app.utils.invalid,forceUpdate:!0}),this.model.validate();var n=this.model.isValid();if(n===!1)return;var r=this,i=e("#coupon-code").val();app.utils.setAjaxLoading(t.currentTarget),e.ajax({type:"GET",url:"rest/txn/coupon/"+i}).done(function(e){app.utils.unsetAjaxLoading(t.currentTarget),r.applyCoupon(i,e)}).error(function(n){app.utils.unsetAjaxLoading(t.currentTarget),app.utils.invalid(r,"couponCode","Coupon Code not recognized","name"),e("#review-order .form-area input").css("width","")})},renderAppliedCoupon:function(e){},applyCoupon:function(e,t){var n=!1;for(var r=0;r<this.cartList.length;r++){var i=this.cartList.at(r);for(var s=0;s<t.length;s++)t[s].itemNumber===i.get("itemNumber")&&(i.set("price",t[s].price),i.set("discounted",!0),n=!0)}if(n===!1){app.showMessage("Sorry, no eligible items for this coupon code."),window.scrollTo(0,0);return}this.render(),this.postRender(),app.showMessage("Discount applied!"),window.scrollTo(0,0)},renderCartItem:function(e,t){var n=Math.round(e.get("quantity")*e.get("price")*100)/100;n=app.utils.padDecimal(n),e.set({total:n},{silent:!0});var r=new i({model:e});this.$("#review-cart-list").append(r.render().el)},renderUserInfoItem:function(e){var t=new s({model:e});e.get("type")==this.userInfoList.model.SHIPPING?this.$(".shipping").prepend(t.render().el):e.get("type")==this.userInfoList.model.BILLING&&this.$(".billing").prepend(t.render().el)},editShipping:function(e){e.preventDefault(),app.navigate("shipping",!0)},editBilling:function(e){e.preventDefault(),app.navigate("billing",!0)},editCart:function(e){e.preventDefault(),app.navigate("cart",!0)},doContinue:function(e){e.preventDefault(),app.navigate("payment",!0)},getTitle:function(){return"Review Order"}});return u}),define("text!templates/cart/payment.html",[],function(){return'<div id="payment-information">\r\n  <div class="sub-header">\r\n    <div class="header-text">Credit Card Details</div>\r\n  </div>\r\n  <div class="background-area">\r\n    <form class="form-area">\r\n      <div class="fx-section">\r\n        <div class="cards">\r\n          <div class="fx-label">Card Type:</div>\r\n          <div class="cc-images">\r\n            <img src="../images/secure/cc.png">\r\n          </div>\r\n          <div class="cc-radio-group">\r\n            <input type="radio" name="type" value="MasterCard">\r\n            <input type="radio" name="type" value="Visa">\r\n            <input type="radio" name="type" value="Amex">\r\n            <input type="radio" name="type" value="Discover">\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="fx-section">\r\n        <div>\r\n          <label class="fx-label">Card Number:</label>\r\n          <input type="text" name="number">\r\n        </div>\r\n        <div class="expiry-area">\r\n          <div>\r\n            <label class="fx-label">Card Expiry:</label>\r\n            <select name="expiryMonth" id="month">\r\n              <option value=""></option>\r\n              <option value="01">Jan - 01</option>\r\n              <option value="02">Feb - 02</option>\r\n              <option value="03">March - 03</option>\r\n              <option value="04">April - 04</option>\r\n              <option value="05">May - 05</option>\r\n              <option value="06">June - 06</option>\r\n              <option value="07">July - 07</option>\r\n              <option value="08">Aug - 08</option>\r\n              <option value="09">Sept - 09</option>\r\n              <option value="10">Oct - 10</option>\r\n              <option value="11">Nov - 11</option>\r\n              <option value="12">Dec - 12</option>\r\n            </select>\r\n            <select name="expiryYear" id="year">\r\n              <option value=""></option>\r\n              <option value="2013">2013</option>\r\n              <option value="2014">2014</option>\r\n              <option value="2015">2015</option>\r\n              <option value="2016">2016</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div id="invalid-month-area"></div>\r\n          <div id="invalid-year-area"></div>\r\n        </div>\r\n        <div class="cvv">\r\n          <label class="fx-label">CVV Number:</label><img src="../images/mobile/general/cvv_info_icon.png">\r\n          <input type="text" name="cvv">\r\n        </div>\r\n        <div>\r\n          <label class="fx-label">Card Holder\'s Name (as on card):</label>\r\n          <input type="text" name="name">\r\n        </div>\r\n      </div>\r\n      <div class="secure-images">\r\n        <img class="paypal" src="../images/secure/bdg_secured_by_pp_2line.png" alt="PayPal Secure">\r\n        <img class="ssl" src="../images/secure/rapidssl_ssl_certificate.gif" alt="Rapid SSL">\r\n      </div>\r\n      <div class="fx-section continue">\r\n        <div id="continue-button" class="fx-button">\r\n          <span>Continue</span>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n  <div class="proceed-button">\r\n  </div>\r\n\r\n  <div id="pop-up">\r\n    <div>\r\n      <img class="visa" src="../images/general/visa_cvv.png">\r\n      <img class="amex" src="../images/general/amex_cvv.png">\r\n    </div>\r\n    <div class="close"><span>X</span> Close</div>\r\n  </div>\r\n\r\n</div>'}),define("../../common/views/cart/payment",["jquery","underscore","backbone","modelBinder","text!templates/cart/payment.html"],function(e,t,n,r,i){var s=Backbone.View.extend({initialize:function(e,n){this.binder=new r,this.id="payment",this.errors=n,this.template=t.template(i)},render:function(){return this.$el.html(this.template()),this.binder.bind(this.model,this.el),this.el},postRender:function(){this.errors!=null&&this.errors==="errors"&&app.showErrors(app.paypalErrorList)},events:{"click #continue-button":"doContinue","click .cvv img":"showPopup","click #pop-up .close":"doPopupClose"},showPopup:function(t){t.preventDefault(),e("#payment-information div#pop-up").show()},doPopupClose:function(t){t.preventDefault(),e("#payment-information div#pop-up").hide()},doContinue:function(e){e.preventDefault(),Backbone.Validation.bind(this,{valid:app.utils.valid,invalid:app.utils.invalid,forceUpdate:!0}),this.model.validate();var t=this.model.isValid();t===!0&&(app.paymentInfo=this.model,app.paypalErrorList=[],app.navigate("finalOrder",!0))},getTitle:function(){return"Payment Information"}});return s}),define("text!templates/cart/final-cart-item.html",[],function(){return'<div>\r\n  <span class="fx-text"><span class="fx-color">(<%=quantity%>) </span></span>\r\n  <span class="fx-text">"<%=itemName%>": </span>\r\n  <span class="fx-text"><span class="fx-color">$<%=total%></span></span>\r\n</div>'}),define("../../common/views/cart/../../views/cart/final-cart-item",["jquery","underscore","backbone","text!templates/cart/final-cart-item.html"],function(e,t,n,r){var i=Backbone.View.extend({initialize:function(){this.template=t.template(r)},render:function(){this.$el.html(this.template(this.model.toJSON()));if(this.model.get("discounted")===!0){var t=e(".discount",this.$el),n=app.catalog.getItemById(this.model.get("itemNumber")),r=parseFloat(n.price)*this.model.get("quantity");t.html("$"+app.utils.padDecimal(r)),t.css("display","block")}return this}});return i}),define("text!templates/cart/final-order.html",[],function(){return'<div id="final-order">\r\n  <div class="background-area">\r\n    <div class="sub-header">\r\n      <div class="header-text">Shipping Information</div>\r\n    </div>\r\n    <div class="shipping">\r\n    </div>\r\n    <div class="sub-header">\r\n      <div class="header-text">Billing Information</div>\r\n    </div>\r\n    <div class="billing">\r\n    </div>\r\n    <div class="sub-header">\r\n      <div class="header-text">Cart</div>\r\n    </div>\r\n    <div class="final-cart-items">\r\n    </div>\r\n    <div class="final-cart-items-handling">\r\n      <div><span class="fx-text">Total: <span class="fx-color">$<%=total%></span></span></div>\r\n      <div><span class="fx-text">Shipping and Handling: <span class="fx-color">$<%=handling%></span></span></div>\r\n    </div>\r\n    <div class="final-cart-items-total">\r\n      <span class="fx-text">Grand Total: <span class="fx-color">$<%=grandTotal%></span></span>\r\n    </div>\r\n\r\n\r\n    <div id="purchase" class="fx-button">\r\n      <span>Purchase</span>\r\n    </div>\r\n  </div>\r\n</div>'}),define("../../common/views/cart/final-order",["jquery","underscore","backbone","modelBinder","../../views/cart/address","../../views/cart/final-cart-item","text!templates/cart/final-order.html"],function(e,t,n,r,i,s,o){var u=Backbone.View.extend({initialize:function(){t.bindAll(this,"purchaseSuccessCallback","purchaseErrorCallback"),this.binder=new r,this.template=t.template(o);var e=Backbone.Model.extend({urlRoot:"rest/txn/final/"});this.model=new e;var n=app.utils.padDecimal(app.cartItemList.getTotal()),i=app.utils.padDecimal(app.cartItemList.getGrandTotal());this.model.set("handling",app.cartItemList.handling),this.model.set("total",n),this.model.set("grandTotal",i)},render:function(e){this.$el.html(this.template(this.model.toJSON())),this.binder.bind(this.model,this.el);var t=app.userInfoList.where({type:app.userInfoList.model.SHIPPING})[0],n=app.userInfoList.where({type:app.userInfoList.model.BILLING})[0];this.renderUserInfoItem(t,"shipping"),this.renderUserInfoItem(n,"billing");for(var r=0;r<app.cartItemList.length;r++)this.renderReviewCartItem(app.cartItemList.at(r));return this.el},postRender:function(){var t=app.cartItemList.handling;t===-1&&e("#final-order .final-cart-items-handling .fx-text span").html("(calculating)")},renderUserInfoItem:function(e,t){var n=new i({model:e});this.$("."+t+"").prepend(n.render().el)},renderReviewCartItem:function(e){var t=Math.round(e.get("quantity")*e.get("price")*100)/100;t=app.utils.padDecimal(t),e.set({total:t},{silent:!0});var n=new s({model:e});this.$(".final-cart-items").append(n.render().el)},events:{"click #purchase":"doPurchase"},doPurchase:function(e){e.preventDefault();if(app.utils.isAjaxLoading(e.currentTarget))return;var t=app.cartItemList,n=app.paymentInfo,r=app.userInfoList;this.model.set("cartDataList",t),this.model.set("paymentData",n),this.model.set("userInfoDataList",r),app.appliedCouponCode!=null&&this.model.set("couponCode",app.appliedCouponCode),app.utils.setAjaxLoading(e.currentTarget),this.model.save(this.model,{success:this.purchaseSuccessCallback,error:this.purchaseErrorCallback})},purchaseSuccessCallback:function(t,n,r){app.utils.unsetAjaxLoading(e("#purchase"));if(t.get("payPalErrorCode")==null||t.get("payPalErrorCode")!="Success"&&t.get("payPalErrorCode")!="SuccessWithWarning")app.paypalErrorList=t.get("payPalErrorList"),app.navigate("payment/errors",!0);else{var i=t.get("invoiceNumber"),s=t.get("itunesCode");i!=null&&i!=""?app.navigate("receipt/"+i+"/"+s,!0):app.navigate("receipt",!0)}},purchaseErrorCallback:function(t,n,r){app.utils.unsetAjaxLoading(e("#purchase")),app.showError("Sorry an error has occurred during processing of your transaction.  Please use the Contact Us form and we'll contact you immediately")},getTitle:function(){return"Final Order Confirmation"}});return u}),define("text!templates/cart/receipt.html",[],function(){return'<div id="receipt-of-order">\r\n  <div class="background-area">\r\n    <div class="fx-section congrads">\r\n      <span class="fx-color header">CONGRATULATIONS !!!</span>\r\n    </div>\r\n    <p class="fx-text">\r\n      Your order has been successfully placed and will be processed as soon as possible. A\r\n      copy of this receipt has been sent to your email address. The item(s) will reach you\r\n      within 5-7 business days via USPS.\r\n    </p>\r\n    <p class="fx-text">\r\n      Your order ID is <b><%=id%></b>.\r\n    </p>\r\n    <p class="fx-text">Please contact us at <a href="info@appfxtoys.com">info@appfxtoys.com</a> with any questions you may have.</p>\r\n    <p class="fx-text" id="app-code" style="visibility:hidden">iTunes store FX Driver download code: <b><%=code%></b></p>\r\n\r\n  </div>\r\n</div>'}),define("../../common/views/cart/receipt",["jquery","underscore","backbone","modelBinder","text!templates/cart/receipt.html"],function(e,t,n,r,i){var s=Backbone.View.extend({initialize:function(e,n){this.template=t.template(i),this.emptyCart(),this.id=e,this.code=n},render:function(){return this.$el.html(this.template({id:this.id,code:this.code})),this.el},postRender:function(){app.cartItemList.containsPackage()===!0&&e("#app-code").show()},emptyCart:function(){var e=app.cartItemList;e.each(function(t){e.pop()})},getTitle:function(){return"Receipt of Order"}});return s}),define("../../common/models/cart/../../models/cart/cart-item-model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({validation:{quantity:{required:!0,range:[1,99],msg:"Please specify: 1-99"}},labels:{quantity:"Quantity"},urlRoot:"rest/cart/item/",defaults:{},initialize:function(){},updateTotal:function(){if(this.isValid()===!1)return;var e=this.get("quantity")*this.get("price");e=Math.round(e*100)/100,e=app.utils.padDecimal(e),this.set({total:e})}});return r}),define("../../common/models/cart/cart-item-collection",["jquery","underscore","backbone","../../models/cart/cart-item-model"],function(e,t,n,r){var i=n.Collection.extend({model:r,url:"rest/cart/",handling:0,initialize:function(e,n){t.bindAll(this,"addSuccessCallback","addErrorCallback","addMultipleSuccessCallback"),this.on("change:total",this.updateTotals),this.on("add",this.updateTotals),this.on("remove",this.updateTotals),this.on("reset",this.updateTotals)},sync:function(e,t,r){r.url="rest/cart/items/",n.sync(e,t,r)},setHandling:function(){this.containsFreeShippingItemsOnly()===!0?this.handling=app.catalog.getPriceById("SH01"):this.handling=this.calcHandling()},calcHandling:function(){if(app.userInfoList==null||app.userInfoList.length===0)return-1;var e=app.userInfoList.where({type:app.userInfoList.model.SHIPPING})[0];e==null&&(e=app.userInfoList.where({type:app.userInfoList.model.REGISTRATION})[0]);var t=e.get("postal"),n=this.isMultipleCars(),r=app.zones.getPriceForZip(t,n);return r},containsFreeShippingItemsOnly:function(){var t=["S10","S11","S12","S13","B10","B11","B13"],n=!0;return this.each(function(r){var i=r.get("itemNumber");e.inArray(i,t)===-1&&(n=!1)}),n},containsPackage:function(){var t=["B10","B11"],n=!1;return this.each(function(r){var i=r.get("itemNumber");e.inArray(i,t)!==-1&&(n=!0)}),n},isMultipleCars:function(){var t=0,n=["B10","B13","C1"];return this.each(function(r){var i=r.get("itemNumber");e.inArray(i,n)>=0&&(t+=r.get("quantity"))}),t>1?!0:!1},updateTotals:function(){var t=this.getTotal();this.setHandling();var n=this.getGrandTotal();n=app.utils.padDecimal(n),t=app.utils.padDecimal(t),e(".cost-total .sum").html("$"+t),this.handling===-1?e("#handling .fx-label.handling").html("HANDLING  &nbsp;&nbsp;&nbsp; (calculating)"):e(".cost-handling .sum").html("$"+this.handling),e(".grand-total .sum").html("$"+n),e("#header .sum").html(this.getItemCount()),e("#header .header-total").html("$"+n)},getItemCount:function(){var e=0;return this.each(function(t){var n=t.get("quantity");isNaN(n)===!1&&(e+=n)}),e},getTotal:function(){var e=0;return this.each(function(t){var n=t.get("price"),r=t.get("quantity"),i=parseFloat(n)*r;e+=i}),Math.round(e*100)/100},getGrandTotal:function(){var e=this.getTotal(),t=this.handling;t===-1&&(t="0");var n=parseFloat(t)+e;return Math.round(n*100)/100},updateHeaderTotal:function(){e("#header .sum").html(this.size())},addItems:function(e){if(e.length===1){this.addItem(e[0]);return}var t=[];for(var n=0;n<e.length;n++){var i=e[n],s=this.where({itemNumber:i.itemNumber}),o=this;if(s!=null&&s.length>0)t.push(s[0].get("itemNumber"));else{var u=new r;u.save(i,{success:this.addMultipleSuccessCallback,error:this.addErrorCallback,wait:!0,silent:!0})}}},addItem:function(e){var t=this.where({itemNumber:e.itemNumber});if(t!=null&&t.length>0)app.showWarning("'"+t[0].get("itemName")+"' is already in your cart");else{var n=new r;n.save(e,{success:this.addSuccessCallback,error:this.addErrorCallback,wait:!0,silent:!0})}},addMultipleSuccessCallback:function(e,t,n){app.showMessage("Multiple items have been added to your cart"),this.add(e)},addSuccessCallback:function(e,t,n){app.showMessage("'"+e.get("itemName")+"' has been added to your cart."),this.add(e)},addErrorCallback:function(e,t,n){app.showError("Can not add to cart at this time, sorry for the inconvenience."),app.utils.hideGlobalLoader()}});return i}),define("../../common/models/user-info/../../../common/models/user-info/user-info-model",["jquery","underscore","backbone","validation"],function(e,t,n,r){t.extend(n.Validation.validators,{USZipcode:function(e,t,n,r){if(n===!1)return;if(e==null){"Zip is required";return}if(app.utils.isZipValid(e)===!1)return"Zip is not a valid US zip code"}});var i=n.Model.extend({urlRoot:"rest/user_info/",defaults:{id:null,type:"",sameAs:!1,firstName:"",lastName:"",email:"",address1:"",address2:"",password:"",password2:"",city:"",postal:"",region:"",country:"United States of America",mobileNumber:""},validation:{firstName:{required:!0},lastName:{required:!0},email:{required:!0,pattern:"email"},address1:{required:!0},city:{required:!0},password:{required:!0},password2:{equalTo:"password",required:!0},postal:{required:!0,length:5,pattern:"digits",USZipcode:!0},region:{required:!0},mobileNumber:{required:!0}},labels:{firstName:"First Name",lastName:"Last Name",address1:"Address",postal:"Zip Code",region:"State",country:"",mobileNumber:"Mobile Number",password:"Password",password2:"Repeat Password"},sync:function(e,t,r){n.sync(e,t,r)}},{REGISTRATION:"R",SHIPPING:"S",BILLING:"B"});return i}),define("../../common/models/user-info/user-info-collection",["jquery","underscore","backbone","../../../common/models/user-info/user-info-model"],function(e,t,n,r){var i=n.Collection.extend({model:r,url:"user_info/",sync:function(e,t,r){n.sync(e,t,r)}});return i}),define("../../common/models/user-info/user-info-model",["jquery","underscore","backbone","validation"],function(e,t,n,r){t.extend(n.Validation.validators,{USZipcode:function(e,t,n,r){if(n===!1)return;if(e==null){"Zip is required";return}if(app.utils.isZipValid(e)===!1)return"Zip is not a valid US zip code"}});var i=n.Model.extend({urlRoot:"rest/user_info/",defaults:{id:null,type:"",sameAs:!1,firstName:"",lastName:"",email:"",address1:"",address2:"",password:"",password2:"",city:"",postal:"",region:"",country:"United States of America",mobileNumber:""},validation:{firstName:{required:!0},lastName:{required:!0},email:{required:!0,pattern:"email"},address1:{required:!0},city:{required:!0},password:{required:!0},password2:{equalTo:"password",required:!0},postal:{required:!0,length:5,pattern:"digits",USZipcode:!0},region:{required:!0},mobileNumber:{required:!0}},labels:{firstName:"First Name",lastName:"Last Name",address1:"Address",postal:"Zip Code",region:"State",country:"",mobileNumber:"Mobile Number",password:"Password",password2:"Repeat Password"},sync:function(e,t,r){n.sync(e,t,r)}},{REGISTRATION:"R",SHIPPING:"S",BILLING:"B"});return i}),define("../../common/models/user-info/payment-info-model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({validation:{type:{required:!0},number:{required:!0},expiryMonth:{required:!0},expiryYear:{required:!0},cvv:{required:!0},name:{required:!0}},labels:{type:"Card type",number:"Card number",expiryMonth:"Expiry month",expiryYear:"Expiry year",cvv:"CVV code",name:"Name, as it appears on the card,"},urlRoot:"payment_info/",defaults:{id:null,type:"MasterCard",number:"",expiryMonth:"",expiryYear:"",cvv:"",name:""}});return r}),define("../../common/models/contact/contact-model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({validation:{firstName:{required:!0},lastName:{required:!0},email:{required:!0,pattern:"email"},message:{required:!0},agreeBox:{acceptance:!0}},urlRoot:"rest/contact/",defaults:{id:null,firstName:"",lastName:"",email:"",message:""},labels:{firstName:"First Name",lastName:"Last Name",email:"Email Address",agreeBox:"Read Our Terms"}});return r}),define("../../common/models/user-info/credentials-model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({urlRoot:"rest/login/",defaults:{email:"",password:"",token:""},labels:{email:"Email",password:"Password"},initialize:function(){},updateHeader:function(){app.setLoginUserArea(this.get("email"))},sync:function(e,t,r){t.get("token")!=null&&t.get("token")!=""?r.url="rest/login/un/"+t.get("email")+"/token/"+t.get("token"):r.url="rest/login/un/"+t.get("email")+"/pw/"+t.get("password"),n.sync(e,t,r)},isAuthed:function(){return this.get("email")==null||this.get("email")==""?!1:!0}});return r}),define("../../common/models/device-exchange/device-model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({validation:{deviceType:{required:!0},price:{required:!0},description:{required:!0}},sync:function(e,t,r){t.urlRoot=r.urlRoot,n.sync(e,t,r)},urlRoot:"rest/device/",defaults:{id:null,deviceType:"",price:"",description:"",credentialsId:-1,email:"",deviceMessage:""},labels:{deviceType:"Device Type",price:"Price",description:"Description",email:"Email address",deviceMessage:"Device Message"}});return r}),define("../../common/models/device-exchange/../../models/device-exchange/device-model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({validation:{deviceType:{required:!0},price:{required:!0},description:{required:!0}},sync:function(e,t,r){t.urlRoot=r.urlRoot,n.sync(e,t,r)},urlRoot:"rest/device/",defaults:{id:null,deviceType:"",price:"",description:"",credentialsId:-1,email:"",deviceMessage:""},labels:{deviceType:"Device Type",price:"Price",description:"Description",email:"Email address",deviceMessage:"Device Message"}});return r}),define("../../common/models/device-exchange/device-collection",["jquery","underscore","backbone","../../models/device-exchange/device-model"],function(e,t,n,r){var i=n.Collection.extend({model:r,url:"rest/device/",criteria:"",type:"",initialize:function(e,t){},sync:function(e,t,r){this.criteria===""?r.url="rest/device/type/"+this.type:r.url="rest/device/criteria/"+this.criteria+"/type/"+this.type,n.sync(e,t,r)}});return i}),require([],function(e){require(["jqueryMobile"],function(){jQuery.mobile.ajaxEnabled=!1,jQuery.mobile.hashListeningEnabled=!1,jQuery.mobile.linkBindingEnabled=!1,jQuery.mobile.pushStateEnabled=!1})}),require(["jquery","jqueryMobile","underscore","backbone","scrollable","../../common/utils","../../common/catalog","../../common/zones","../../common/session","views/main-menus/main-menu","views/home/appstore","../../common/views/home/privacy-policy","../../common/views/home/privacy-policy-coppa","../../common/views/home/terms-conditions","views/main-menus/header","views/home/home","views/home/home-wide","../../common/views/contact/contact","views/safety/safety","views/cart/cart","views/stock-car/fx-car","views/stock-car/details","views/stickers/options","views/stickers/gallery","views/stickers/types","views/stickers/details","views/tape/gallery","views/tape/types","views/tape/details","../../common/views/device-exchange/device-list","../../common/views/device-exchange/landing","../../common/views/device-exchange/add","../../common/views/device-exchange/search","../../common/views/device-exchange/search-results","../../common/views/home/login","views/user/user-info","../../common/views/user/registration-success","../../common/views/cart/review-cart","../../common/views/cart/payment","../../common/views/cart/final-order","../../common/views/cart/receipt","../../common/models/cart/cart-item-collection","../../common/models/user-info/user-info-collection","../../common/models/user-info/user-info-model","../../common/models/user-info/payment-info-model","../../common/models/contact/contact-model","../../common/models/user-info/credentials-model","../../common/models/device-exchange/device-model","../../common/models/device-exchange/device-collection"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J){var K=r.Router.extend({initialize:function(){console.log("in main.js init"),this.appMode="mobile",this.isTempAuth=!1,n.bindAll(this,"loginSuccessCallback","loginErrorCallback","setOrientation","startRouterCallback","showError",""),this.utils=s,this.catalog=o,this.session=a,this.zones=u,this.messageArea=e(".message-area"),this.userNameArea=e("#header .user-name"),this.loginLink=e("#header .login-link"),this.logoutLink=e("#header .logout-link"),this.cartItemList=new R,this.userInfoList=new U,this.credentialsModel=new V,this.paymentInfo=null,this.deviceList=new J,this.paypalErrorList,document.styleSheets[1].disabled=!0,e(window).bind("orientationchange",this.setOrientation),this.initSetup(),e("#tempAuth").hide(),r.Validation.configure({labelFormatter:"label"}),this.session.syncToServer(this.startRouterCallback,this.showError)},startRouterCallback:function(){r.history.start()},initSetup:function(){e("#main-menu").html((new f).render()),this.headerView=new d,e("#page-header").html(this.headerView.render()),this.setOrientation(),this.showHome()},setOrientation:function(e){if(e==null){var t=window.outerHeight,n=window.outerWidth;t>n?this.mode="portrait":this.mode="landscape"}else this.mode=e.orientation;this.mode==="landscape"?document.styleSheets[1].disabled=!1:document.styleSheets[1].disabled=!0,this.currentView!=null&&(this.currentView.id==="home"||this.currentView.id==="home-wide")&&this.showHome()},routes:{appstore:"showAppStoreLanding",stockCar:"showStockCarGallery",stickers:"showStickerGallery",stickersGallery:"showStickerGallery",stickerTypes:"showStickerTypes","stickerDetails/:name":"showStickerDetails","fxCarDetails/:name":"showFxCarDetails",tape:"showTapeGallery",tapeTypes:"showTapeTypes","tapeDetails/:name":"showTapeDetails",appStore:"showAppStore",deviceExchange:"showDeviceExchange",addDevice:"showAddDevice",searchDevices:"showSearchDevices",searchDeviceResults:"showDeviceSearchResults",safety:"showSafety",blog:"showBlog",contactus:"showContact",home:"defaultAction",cart:"showCart",checkout:"doCheckout",reg_checkout:"doRegisteredCheckout","login/:nav":"doCheckout",login:"doCheckout",logout:"doLogout","registration1/:email":"showRegistration1","registration1/:email/:nav":"showRegistration1Nav",registration2:"showRegistration2","registration2/:nav":"showRegistration2Nav",registrationSuccess:"showRegistrationSuccess","registrationSuccess/:nav":"showRegistrationSuccessNav",shipping:"showShippingInfo",billing:"showBillingInfo",reviewCart:"showReviewCart","payment/:errors":"showPaymentInfo",payment:"showPaymentInfo",finalOrder:"showFinalOrder","receipt/:id/:code":"showReceipt",policy:"showPolicy",policycoppa:"showCoppaPolicy",terms:"showTerms","*actions":"defaultAction"},goBack:function(e){e.preventDefault(),window.history.back()},showHome:function(){this.mode==="landscape"?this.swapContentView(new m):this.swapContentView(new v),e("#page-header").hide(),this.hideMessage()},setLoginUserArea:function(t){t===""?(this.userNameArea.hide(),this.logoutLink.hide(),this.loginLink.show()):(this.userNameArea.show(),this.logoutLink.show(),this.loginLink.hide()),e(".name",this.userNameArea).html(t)},showAppStoreLanding:function(){this.swapContentView(new l)},showSafety:function(){this.swapContentView(new y)},showBlog:function(){app.navigate("home",!1),window.document.location.href="http://blog.appfxtoys.com"},showContact:function(){this.swapContentView(new g({model:new X}))},showCart:function(){var e=new b({collection:this.cartItemList});this.swapContentView(e),this.cartItemList.updateTotals()},doCheckout:function(e){this.credentialsModel.isAuthed()?this.doRegisteredCheckout():this.swapContentView(new P(e))},doRegisteredCheckout:function(){var e=this.userInfoList.where({type:this.userInfoList.model.SHIPPING})[0];e==null?this.showShippingInfo():this.showReviewCart()},doLogout:function(){this.session.removeServerSession(),this.cartItemList.updateHeaderTotal(),this.setLoginUserArea(""),this.showHome(new v)},showDeviceExchange:function(){this.swapContentView(new O)},showAddDevice:function(){this.swapContentView(new M({model:new $}))},showSearchDevices:function(){this.swapContentView(new _)},showDeviceSearchResults:function(){this.swapContentView(new D)},showStockCarGallery:function(){this.swapContentView(new w),e(".fx-scrollable").scrollable()},showStickerTypes:function(){this.swapContentView(new T)},showStickerGallery:function(){this.swapContentView(new x),e(".fx-scrollable").scrollable()},showStickerDetails:function(e){this.swapContentView(new N(e))},showFxCarDetails:function(e){this.swapContentView(new E(e))},showTapeGallery:function(){this.swapContentView(new C),e(".fx-scrollable").scrollable()},showTapeTypes:function(){this.swapContentView(new k)},showTapeDetails:function(e){this.swapContentView(new L(e))},showRegistration1:function(e){var t=new H(z.REGISTRATION,"reg1",e);this.swapContentView(t)},showRegistration1Nav:function(e,t){var n=new H(z.REGISTRATION,"reg1",e,t);this.swapContentView(n)},showRegistration2:function(){var e=new H(z.REGISTRATION,"reg2");this.swapContentView(e)},showRegistration2Nav:function(e){var t=new H(z.REGISTRATION,"reg2",null,e);this.swapContentView(t)},showRegistrationSuccess:function(){this.swapContentView(new B)},showRegistrationSuccessNav:function(e){this.swapContentView(new B(e))},showShippingInfo:function(){var e=new H(z.SHIPPING);this.swapContentView(e)},showBillingInfo:function(){var e=new H(z.BILLING);this.swapContentView(e)},showReviewCart:function(){this.swapContentView(new j),this.cartItemList.updateTotals()},showPaymentInfo:function(e){if(this.cartItemList.length===0){this.showMessage("You must have items in your cart to continue");return}this.swapContentView(new F({model:new W},e))},showFinalOrder:function(){this.swapContentView(new I)},showReceipt:function(e,t){this.swapContentView(new q(e,t))},showPolicy:function(){this.swapContentView(new c)},showCoppaPolicy:function(){this.swapContentView(new h)},showTerms:function(){this.swapContentView(new p)},defaultAction:function(t){this.showHome(),e(".scrollable").scrollable().focus()},swapContentView:function(t){this.hideMessage(),this.currentView!=null&&this.currentView.remove(),this.currentView=t,e("#page-content").html(t.render()),e("#page-header").show(),typeof t["postRender"]=="function"&&t.postRender(),window.scrollTo(0,0),this.headerView.setTitle(t.getTitle())},showMessage:function(t){window.scrollTo(0,0),this.resetMessage(),this.messageArea.show(),e(".message",this.messageArea).html(t)},hideMessage:function(){this.messageArea.hide()},showError:function(t){this.showMessage(t),e(".message-area").addClass("error")},showWarning:function(t){this.showMessage(t),e(".message-area").addClass("warning")},resetMessage:function(){e(".message-area").removeClass("error"),e(".message-area").removeClass("warning")},showErrors:function(t){if(t.length==null)return;window.scrollTo(0,0),this.messageArea.show();var n=e("<ul>");for(var r=0;r<t.length;r++)n.append(e("<li>"+t[r]+"</li>"));e(".message",this.messageArea).empty(),e(".message",this.messageArea).append(n),e(".message-area").addClass("error")},isAuthUser:function(){return this.credentialsModel==null?!1:this.credentialsModel.isAuthed()},loadTemplate:function(e,t){return n.template(t)}});window.app=new K}),define("main",function(){});